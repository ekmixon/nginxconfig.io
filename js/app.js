(()=>{var e={1323:(e,t,o)=>{var a={"./de/languages.js":6568,"./en/languages.js":3932,"./es/languages.js":8449,"./fr/languages.js":2309,"./ja/languages.js":1773,"./pl/languages.js":1852,"./pt-br/languages.js":8487,"./ru/languages.js":9938,"./zh-cn/languages.js":2073,"./zh-tw/languages.js":6101};function s(e){return l(e).then(o)}function l(e){return Promise.resolve().then((()=>{if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}))}s.keys=()=>Object.keys(a),s.resolve=l,s.id=1323,e.exports=s},9387:(e,t,o)=>{var a={"./de/index.js":[7033,33],"./en/index.js":[3785],"./es/index.js":[4416,416],"./fr/index.js":[7218,218],"./ja/index.js":[9902,902],"./pl/index.js":[5357,357],"./pt-br/index.js":[6007,7],"./ru/index.js":[4950,950],"./zh-cn/index.js":[9274,274],"./zh-tw/index.js":[3724,724]};function s(e){if(!o.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return Promise.all(t.slice(1).map(o.e)).then((()=>o(s)))}s.keys=()=>Object.keys(a),s.id=9387,e.exports=s},4654:()=>{},8847:(e,t,o)=>{"use strict";var a=o(3098);const s=document.currentScript.src.split("/").slice(0,-2).join("/")+"/";window.__webpackDynamicImportURL=()=>((0,a.um)(`Using ${s} for webpack dynamic import`),s)},6568:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"Englisch",es:"Spanisch",zhCN:"Chinesisch (vereinfacht)",zhTW:"Chinesisch (traditionell)",ptBR:"Portugiesisch (Brasilien)",fr:"Französisch",ru:"Russisch",pl:"Polnisch",de:"Deutsch",ja:"Japanisch"}},3785:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>q});const a={back:"Back",next:"Next",enable:"enable",php:"PHP",ssl:"SSL",nginx:"NGINX",http:"HTTP",https:"HTTPS",letsEncrypt:"Let's Encrypt",python:"Python",wordPress:"WordPress",drupal:"Drupal",magento:"Magento",joomla:"Joomla",django:"Django",logging:"Logging",reverseProxy:"Reverse proxy",reverseProxyLower:"reverse proxy",restrict:"Restrict",path:"Path"};var s=o(3932);const l={title:`${a.nginx}Config`,description:`The easiest way to configure a performant, secure, and stable ${a.nginx} server.`,singleColumnMode:"Single column mode",splitColumnMode:"Side-by-side mode",perWebsiteConfig:"Per-website config",addSite:"Add site",globalConfig:"Global config",setup:"Setup",configFiles:"Config files",copied:"Copied"},i={downloadConfig:"Download Config",copyBase64:"Copy Base64"},n={backToTop:"Back To Top",thisToolIs:"This tool is",openSourceOnGitHub:"open-source on GitHub",underThe:"under the",mit:"MIT",license:"license!",weWelcomeFeedbackAndContributions:"We welcome feedback and contributions.",originallyCreatedBy:"Originally created by",balintSzekeres:"Bálint Szekeres",maintainedBy:"maintained by",digitalOcean:"DigitalOcean"},d={enableEncryptedSslConnection:`${a.enable} encrypted ${a.ssl} connections`,http2:`${a.http}/2`,enableHttp2Connections:`${a.enable} ${a.http}/2 connections`,http3:`${a.http}/3`,enableHttp3Connections:`${a.enable} ${a.http}/3 connections`,forceHttps:`Force ${a.https}`,hsts:"HSTS",enableStrictTransportSecurity:`${a.enable} Strict Transport Security, requiring HTTPS connections`,enableIncludeSubDomains:`${a.enable} includeSubDomains directive, requiring HTTPS connections for ALL subdomains`,enablePreload:`${a.enable} preload directive, telling browsers to always make HTTPS connections only`,certificationType:"Certification type",customCertificate:"Custom certificate",letsEncryptEmail:`${a.letsEncrypt} email`,http3IsANonStandardModule:"HTTP/3 isn't a standard NGINX module, check the ",http3NginxQuicReadme:"NGINX QUIC readme",http3OrThe:" or the ",http3CloudflareQuicheProject:"Cloudflare quiche project",http3ForBuildingNginxWithHttp3:" for how to build NGINX with HTTP/3!"},r={byDomain:"by domain",enableForThisDomain:`${a.enable} for this domain`},p={phpIsDisabled:`${a.php} is disabled.`,phpCannotBeEnabledWithReverseProxy:`${a.php} cannot be enabled whilst the reverse proxy is enabled.`,phpCannotBeEnabledWithPython:`${a.php} cannot be enabled whilst ${a.python} is enabled.`,enablePhp:`${a.enable} ${a.php}`,wordPressRules:`${a.wordPress} rules`,enableWordPressRules:`${a.enable} ${a.wordPress}-specific rules`,drupalRules:`${a.drupal} rules`,enableDrupalRules:`${a.enable} ${a.drupal}-specific rules`,magentoRules:`${a.magento} rules`,enableMagentoRules:`${a.enable} ${a.magento}-specific rules`,joomlaRules:`${a.joomla} rules`,enableJoomlaRules:`${a.enable} ${a.joomla}-specific rules`,phpServer:`${a.php} server`,phpBackupServer:`${a.php} backup server`,tcp:"TCP",hhvmSocket:"HHVM socket",php70Socket:"7.0 socket",php71Socket:"7.1 socket",php72Socket:"7.2 socket",php73Socket:"7.3 socket",php74Socket:"7.4 socket",php80Socket:"8.0 socket",php81Socket:"8.1 socket",php82Socket:"8.2 socket",phpSocket:"PHP socket",custom:"Custom",disabled:"Disabled"},c={presets:"Presets",itLooksLikeYouCustomisedTheConfig:"It looks like you've customised the configuration for this domain. Choosing a new preset may reset or change some of the settings that you've customised.",frontend:"Frontend",nodeJs:"Node.js",singlePageApplication:"Single-page application"},u={pythonIsDisabled:`${a.python} is disabled.`,pythonCannotBeEnabledWithReverseProxy:`${a.python} cannot be enabled whilst the reverse proxy is enabled.`,pythonCannotBeEnabledWithPhp:`${a.python} cannot be enabled whilst ${a.php} is enabled.`,enablePython:`${a.enable} ${a.python}`,djangoRules:`${a.django} rules`,enableDjangoRules:`${a.enable} ${a.django}-specific rules`},h={reverseProxyIsDisabled:`${a.reverseProxy} is disabled.`,reverseProxyCannotBeEnabledWithPhp:`${a.reverseProxy} cannot be enabled whilst ${a.php} is enabled.`,reverseProxyCannotBeEnabledWithPython:`${a.reverseProxy} cannot be enabled whilst ${a.python} is enabled.`,enableReverseProxy:`${a.enable} ${a.reverseProxyLower}`,proxyHostHeader:"Proxy Host header"},m={fallbackRouting:"Fallback routing",fallbackRoutingPhpPath:`Fallback routing ${a.php} path`,legacyPhpRouting:`Legacy ${a.php} routing`,enableLegacyRouting:`${a.enable} legacy routing`,routing:"Routing"},g={domain:"Domain",documentRoot:"Document root",oneOrMoreOtherDomainsAreAlsoNamed:"One or more other domains are also named",thisWillCauseIssuesWithConfigGeneration:"This will cause issues with config generation.",wwwSubdomain:"www subdomain",cdnSubdomain:"CDN subdomain",redirectSubdomains:"Redirect subdomains",server:"Server",listen:"listen"},f={disableForThisDomain:"disable for this domain",responseCode:"Response code"},b="Onion",v={onion:b,onionLocation:`${b} location`,provideAnOnionLocationToSetOnionLocationHeader:"Provide an onion location address to set the Onion-Location header for your site.",letsVisitorsKnownOnionServicesIsAvailable:"This lets visitors know that an onion services version of your site is available for Tor browsers.",learnMoreAboutOnionServices:"Learn more about Onion services",onionLocationExpectedToEndWithOnion:"Onion location addresses normally end with `.onion`."},y={https:d,logging:r,php:p,presets:c,python:u,reverseProxy:h,routing:m,server:g,restrict:f,onion:v},_="Mozilla",$="IPv4",w="IPv6",x={sslProfile:`${a.ssl} Profile`,httpsMustBeEnabledOnOneSite:`${a.https} must be enabled on at least one site to configure global ${a.https} settings.`,portReuse:"Reuseport",enableReuseOfPort:`${a.enable} reuseport to generate a listening socket per worker`,ocspDnsResolvers:"OCSP DNS Resolvers",cloudflareResolver:"Cloudflare Resolver",googlePublicDns:"Google Public DNS",openDns:"OpenDNS",quad9:"Quad9",verisign:"Verisign",letsEncryptWebroot:`${a.letsEncrypt} webroot`,letsEncryptCertRoot:`${a.letsEncrypt} certificate directory`,mozillaModern:`${_} Modern`,mozillaIntermediate:`${_} Intermediate`,mozillaOld:`${_} Old`,ipv4Only:`${$} only`,ipv6Only:`${w} only`,ipv4AndIpv6:`${$} & ${w}`},k={enableFileNotFoundErrorLogging:`${a.enable} file not found error logging in`,logformat:"log_format",enableCloudflare:"add Cloudflare request headers to the default log format",cfRay:"CF-Ray",cfConnectingIp:"CF-Connecting-IP",xForwardedFor:"X-Forwarded-For",xForwardedProto:"X-Forwarded-Proto",trueClientIp:"True-Client-IP",cfIpCountry:"CF-IPCountry",cfVisitor:"CF-Visitor",cdnLoop:"CDN-Loop"},C={nginxConfigDirectory:`${a.nginx} config directory`,mb:"MB"},S={disableHtmlCaching:"Disable HTML caching",enableDisableHtmlCaching:"disable HTML caching",gzipCompression:"Gzip compression",enableGzipCompression:`${a.enable} gzip compression`,brotliCompression:"Brotli compression",enableBrotliCompression:`${a.enable} brotli compression`,brotliIsANonStandardModule:"Brotli isn't a standard NGINX module, check the ",brotliGoogleNgxBrotliProject:"Google ngx_brotli project",brotliForBuildingNginxWithBrotli:" for how to build NGINX with Brotli!",expirationForAssets:"Expiration for assets",expirationForMedia:"Expiration for media",expirationForSvgs:"Expiration for SVGs",expirationForFonts:"Expiration for fonts",performance:"Performance"},P={pythonServer:`${a.python} server`,pythonMustBeEnabledOnOneSite:`${a.python} must be enabled on at least one site to configure global ${a.python} settings.`},D="Legacy X-Forwarded-* headers",z={reverseProxyMustBeEnabledOnOneSite:`${a.reverseProxy} must be enabled on at least one site to configure global ${a.reverseProxyLower} settings.`,seconds:"seconds",passOn:`${D} passed on`,remove:`${D} actively removed`},E={whenUsingWordPressUnsafeEvalIsOftenRequiredToAllowFunctionality:`When using ${a.wordPress}, <code class="slim">script-src 'self' 'unsafe-inline' 'unsafe-eval';</code> is often required in the Content Security Policy to allow the admin panel to function correctly.`,security:"Security"},T={modularizedStructure:"Modularized structure",enableModularizedConfigFiles:`${a.enable} modularized config files`,symlinkVhost:"Symlink vhost",enableSymLinksFrom:`${a.enable} symlinks from`,to:"to",shareConfiguration:"Share configuration",resetConfiguration:"Reset configuration",resetGlobalConfig:"Reset global config",resetAllDomains:"Reset all domains",removeAllDomains:"Remove all domains",resetAllDomainsConfig:"Reset all domain configs",resetDomainConfig:"Reset domain config",removeDomain:"Remove domain",yesImSure:"Yes, I'm sure",noCancel:"No, cancel",tools:"Tools",resetGlobalConfigBody:"Are you sure you want to reset all configuration options in the global config section?",resetAllDomainsConfigBody:"Are you sure you want to reset the configuration of ALL domains?",removeAllDomainsBody:"Are you sure you want to remove ALL domain configurations?",areYouSureYouWantToResetAllConfigurationOptionsForThe:"Are you sure you want to reset all configuration options for the",domain:"domain?",areYouSureYouWantToRemoveThe:"Are you sure you want to remove the ",domainConfiguration:"domain configuration?"},V="Docker",R="Dockerfile",O={docker:V,dockerfile:R,dockerCompose:`${V} Compose`,applyDockerTweaks:`Apply ${V} tweaks`,applyDockerTweaksForNginx:`Apply configuration tweaks for running ${a.nginx} with ${V}`,applyDockerTweaksExplainer:`Updates the ${a.nginx} user to be <code class="slim">nginx</code> and the pid to <code class="slim">/var/run/nginx.pid</code>`,includeDockerfile:`Include ${R} to run ${a.nginx} with ${V}`,includeDockerCompose:`Include docker-compose to run ${a.nginx} with docker-compose`},U={https:x,logging:k,nginx:C,performance:S,python:P,reverseProxy:z,security:E,tools:T,docker:O},H="Certbot",j={commentOutSslDirectivesInConfiguration:`Comment out ${a.ssl} related directives in the configuration:`,reloadYourNginxServer:`Reload your ${a.nginx} server:`,obtainSslCertificatesFromLetsEncrypt:`Obtain ${a.ssl} certificates from ${a.letsEncrypt} using ${H}:`,uncommentSslDirectivesInConfiguration:`Uncomment ${a.ssl} related directives in the configuration:`,configureCertbotToReloadNginxOnCertificateRenewal:`Configure ${H} to reload ${a.nginx} when it successfully renews certificates:`,certbotDoesNotNeedToBeSetupForYourConfiguration:`${H} does not need to be set up for your ${a.nginx} configuration.`,certbot:H},A={downloadTheGeneratedConfig:"<b>Download</b> the generated config:",andUploadItToYourServers:"and <b>upload</b> it to your server's",directory:"directory.",or:"or, ",copyBase64StringOfCompressedConfig:"Copy a base64 string of the compressed config",pasteItInYourServersCommandLineAndExecute:", paste it in your server's command line and execute it.",navigateToYourNginxConfigurationDirectoryOnYourServer:`Navigate to your ${a.nginx} <b>configuration directory</b> on your server:`,createABackupOfYourCurrentNginxConfiguration:`Create a <b>backup</b> of your current ${a.nginx} configuration:`,extractTheNewCompressedConfigurationArchiveUsingTar:"<b>Extract</b> the new compressed configuration archive using tar:",download:"Download"},L={letsGoLive:"Let's go live!",reloadNginxToLoadInYourNewConfiguration:`Reload ${a.nginx} to load in your new configuration:`,goLive:"Go live!"},F={generateDiffieHellmanKeysByRunningThisCommandOnYourServer:"Generate <b>Diffie-Hellman keys</b> by running this command on your server:",createACommonAcmeChallengeDirectoryForLetsEncrypt:`Create a common <b>ACME-challenge</b> directory (for <b>${a.letsEncrypt}</b>):`,noAdditionalStepsAreNeededToSetUpSslForNginx:`No additional steps are needed to set up ${a.ssl} for your ${a.nginx} configuration.`,sslInit:`${a.ssl} init`},W={certbot:j,download:A,goLive:L,ssl:F},I={lookingForAPlaceToDeploy:"👋 Looking for a place to deploy your new configuration?",tryOutDigitalOceansDroplet:"Try out DigitalOcean's LEMP Droplet with NGINX"},M={wantToContributeChanges:"👋 Want to request new features, contribute changes, or translate the tool into a new language?",getInvolvedOnGitHub:"Get involved on GitHub"},B={droplet:I,contribute:M},N={app:l,setup:i,footer:n,domainSections:y,globalSections:U,setupSections:W,callouts:B},q={common:a,languages:s["default"],templates:N}},3932:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"English",es:"Spanish",zhCN:"Chinese (simplified)",zhTW:"Chinese (traditional)",ptBR:"Portuguese (brazilian)",fr:"French",ru:"Russian",pl:"Polish",de:"German",ja:"Japanese"}},8449:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"Ingles",es:"Español",zhCN:"Chino (simplificado)",zhTW:"Chino (tradicional)",ptBR:"Portugués (brasileño)",fr:"Francés",ru:"Ruso",pl:"Polaco",de:"Alemán",ja:"Japonés"}},2309:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"Anglais",es:"Espanol",zhCN:"Chinois (simplifié)",zhTW:"Chinois (traditionnel)",ptBR:"Portugais (brésilien)",fr:"Français",ru:"Russe",pl:"Polonais",de:"Allemand",ja:"Japonais"}},1773:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"英語",es:"スペイン語",zhCN:"中国語 (簡体字)",zhTW:"中国語 (繁体字)",ptBR:"ポルトガル語 (ブラジル)",fr:"フランス語",ru:"ロシア語",pl:"ポーランド語",de:"ドイツ語",ja:"日本語"}},1852:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"Angielski",es:"Hiszpański",zhCN:"Chiński (uproszczony)",zhTW:"Chiński (tradycyjny)",ptBR:"Portugalski (brazylijski)",fr:"Francuski",ru:"Rosyjski",pl:"Polski",de:"Niemiecki",ja:"Japoński"}},8487:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"Inglês",es:"Espanhol",zhCN:"Chinês (simplificado)",zhTW:"Chinês (tradicional)",ptBR:"Português (brasileiro)",fr:"Francês",ru:"Russa",pl:"Polonês",de:"Alemão",ja:"Japonês"}},9938:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"Английский",es:"испанский",zhCN:"Китайский (упрощённый)",zhTW:"Китайский (традиционный)",ptBR:"Португальский (бразильский)",fr:"Французский",ru:"Русский",pl:"Польский",de:"Немецкий",ja:"Японский"}},2073:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"英语",es:"西班牙语",zhCN:"简体中文",zhTW:"繁体中文",ptBR:"葡萄牙语 (巴西)",fr:"法语",ru:"俄语",pl:"波兰语",de:"德语",ja:"日语"}},6101:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});const a={en:"英語",es:"西班牙語",zhCN:"簡體中文",zhTW:"繁體中文",ptBR:"葡萄牙語（巴西）",fr:"法語",ru:"俄語",pl:"波蘭語",de:"德語",ja:"日語"}},278:(e,t,o)=>{"use strict";var a=o(9963),s=o(2152),l=o.n(s),i=o(5660),n=(o(3436),o(7874),o(6488),o(5206),o(3098));const d=()=>{i.plugins.toolbar?i.plugins.toolbar.registerButton("copy-to-clipboard",(e=>{const t=document.createElement("button");t.textContent="Copy";const o=e.element,a=new s(t,{text:()=>o.textContent}),l=()=>{setTimeout((()=>{t.textContent="Copy"}),5e3)},i=()=>{t.dispatchEvent(new CustomEvent("copied",{bubbles:!0,detail:{text:o.textContent}}))};return a.on("success",(()=>{t.textContent="Copied!",i(),l()})),a.on("error",(()=>{const e=navigator.platform.includes("Mac");t.textContent=`Press ${e?"Cmd":"Ctrl"}+C to copy`,l()})),t})):(0,n.ZK)("Copy to Clipboard loaded before Toolbar.")};d();var r=o(9150),p=o(3785);const c="en",u=(e,t)=>e.match(/^([a-z]+)([A-Z]*)$/).slice(1).map((e=>e.toLowerCase())).filter((e=>!!e)).join(t),h=(e,t)=>e.split(t,2)[0].toLowerCase()+(e.split(t,2)[1]||"").toUpperCase(),m=Object.freeze(["de","en","es","fr","ja","pl","ptBR","ru","zhCN","zhTW"]),g={};g[c]=p["default"];const f=[c];let b=null;const v=async()=>{if(b)return b;for(const e of m){if(e===c)continue;if(g[e])continue;const{default:t}=await o(1323)(`./${u(e,"-")}/languages.js`);g[e]={languages:t}}return b=(0,r.o)({locale:c,fallbackLocale:c,messages:g}),b},y=async e=>{if(b.locale===e)return;if(f.includes(e))return;const{default:t}=await o(9387)(`./${u(e,"-")}/index.js`);g[e]=t},_=async e=>{b&&(await y(e),b.global.locale=e)};var $=o(6252),w=o(3577);const x={class:"all do-bulma"},k={class:"has-icon"},C={key:0,class:"icon fas fa-spinner fa-pulse"},S={key:1,class:"icon fas fa-language"},P={class:"columns is-multiline"},D={class:"tabs"},z=["onClick"],E={key:0,class:"fas fa-exclamation-triangle"},T=["onClick"],V=(0,$._)("i",{class:"fas fa-times"},null,-1),R=[V],O=(0,$._)("i",{class:"fas fa-plus"},null,-1),U={ref:"files",class:"columns is-multiline files"};function H(e,t,o,a,s,l){const i=(0,$.up)("VueSelect"),n=(0,$.up)("Header"),d=(0,$.up)("Domain"),r=(0,$.up)("Global"),p=(0,$.up)("DropletCallout"),c=(0,$.up)("Setup"),u=(0,$.up)("Footer"),h=(0,$.up)("ContributeCallout");return(0,$.wg)(),(0,$.iD)("div",x,[(0,$.Wm)(n,{title:e.$t("templates.app.title")},{description:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.app.description")),1)])),header:(0,$.w5)((()=>[])),buttons:(0,$.w5)((()=>[(0,$.Wm)(i,{modelValue:l.lang,"onUpdate:modelValue":t[0]||(t[0]=e=>l.lang=e),options:l.i18nPacks,clearable:!1,reduce:e=>e.value,disabled:s.languageLoading},{"selected-option":(0,$.w5)((({label:e})=>[(0,$._)("span",k,[s.languageLoading?((0,$.wg)(),(0,$.iD)("i",C)):((0,$.wg)(),(0,$.iD)("i",S)),(0,$._)("span",null,(0,w.zw)(e),1)])])),_:1},8,["modelValue","options","reduce","disabled"]),s.splitColumn?((0,$.wg)(),(0,$.iD)("a",{key:0,class:"button is-primary is-outline is-hidden-touch",onClick:t[1]||(t[1]=(...e)=>l.splitColumnToggle&&l.splitColumnToggle(...e))},(0,w.zw)(e.$t("templates.app.singleColumnMode")),1)):((0,$.wg)(),(0,$.iD)("a",{key:1,class:"button is-primary is-hidden-touch",onClick:t[2]||(t[2]=(...e)=>l.splitColumnToggle&&l.splitColumnToggle(...e))},(0,w.zw)(e.$t("templates.app.splitColumnMode")),1))])),_:1},8,["title"]),(0,$._)("div",{class:"main container",style:(0,w.j5)({display:s.ready?void 0:"none"})},[(0,$._)("div",P,[(0,$._)("div",{class:(0,w.C_)(`column ${s.splitColumn?"is-half":"is-full"} is-full-touch`)},[(0,$._)("h2",null,(0,w.zw)(e.$t("templates.app.perWebsiteConfig")),1),(0,$._)("div",D,[(0,$._)("ul",null,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(l.activeDomains,(e=>((0,$.wg)(),(0,$.iD)("li",{class:(0,w.C_)(e[1]===s.active?"is-active":void 0)},[(0,$._)("a",{class:"domain",onClick:t=>s.active=e[1]},[(0,$.Uk)((0,w.zw)(e[0].server.domain.computed)+(0,w.zw)(l.changes(e[1]))+" ",1),l.warnings(e[1])?((0,$.wg)(),(0,$.iD)("i",E)):(0,$.kq)("",!0)],8,z),(0,$._)("a",{class:"remove",onClick:t=>l.remove(e[1])},R,8,T)],2)))),256)),(0,$._)("li",null,[(0,$._)("a",{onClick:t[3]||(t[3]=(...e)=>l.add&&l.add(...e))},[O,(0,$.Uk)(" "+(0,w.zw)(e.$t("templates.app.addSite")),1)])])])]),((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(l.activeDomains,(e=>((0,$.wg)(),(0,$.j4)(d,{key:e[1],ref_for:!0,ref:`domain-${e[1]}`,data:e[0],style:(0,w.j5)({display:e[1]===s.active?void 0:"none"})},null,8,["data","style"])))),128)),(0,$._)("h2",null,(0,w.zw)(e.$t("templates.app.globalConfig")),1),(0,$.Wm)(r,{data:s.global},null,8,["data"]),(0,$.Wm)(p),(0,$._)("h2",null,(0,w.zw)(e.$t("templates.app.setup")),1),(0,$.Wm)(c,{data:{domains:s.domains.filter((e=>null!==e)),global:s.global,confFiles:l.confFiles}},null,8,["data"])],2),(0,$._)("div",{class:(0,w.C_)(`column ${s.splitColumn?"is-half":"is-full"} is-full-touch`)},[(0,$._)("h2",null,(0,w.zw)(e.$t("templates.app.configFiles")),1),(0,$._)("div",U,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(s.confFilesOutput,(e=>((0,$.wg)(),(0,$.j4)((0,$.LL)(l.getPrismComponent(e[0])),{key:e[2],name:e[0],conf:e[1],half:Object.keys(s.confFilesOutput).length>1&&!s.splitColumn,onCopied:t=>l.codeCopiedEvent(e[3])},null,40,["name","conf","half","onCopied"])))),128))],512)],2)])],4),(0,$.Wm)(u),(0,$.Wm)(h)])}var j=o(6313),A=o.n(j),L=o(8397),F=o.n(L),W=o(5573),I=o.n(W),M=o(5148),B=o(4327),N=o(3607);const q=(e,t,o)=>e.enabled&&e.value!==e.default||"php"===t&&"php"===o&&e.computed!==e.default;var G=o(129);const Y={class:"panel presets"},Z={class:"panel"},K={class:"tabs"},X=["onClick"],Q={key:0,class:"fas fa-exclamation-triangle"},J={class:"navigation-buttons"},ee=(0,$._)("i",{class:"fas fa-long-arrow-alt-left"},null,-1),te=(0,$._)("i",{class:"fas fa-long-arrow-alt-right"},null,-1);function oe(e,t,o,a,s,l){const i=(0,$.up)("Presets");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",Y,[(0,$.Wm)(i,{data:e.$props.data.presets},null,8,["data"])]),(0,$._)("div",Z,[(0,$._)("div",K,[(0,$._)("ul",null,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(s.tabs,(t=>((0,$.wg)(),(0,$.iD)("li",{class:(0,w.C_)(l.tabClass(t.key))},[(0,$._)("a",{onClick:e=>l.showTab(t.key)},[(0,$.Uk)((0,w.zw)(e.$t(t.display))+(0,w.zw)(l.changes(t.key))+" ",1),l.warnings(t.key)?((0,$.wg)(),(0,$.iD)("i",Q)):(0,$.kq)("",!0)],8,X)],2)))),256))])]),((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(s.tabs,(t=>((0,$.wg)(),(0,$.j4)((0,$.LL)(t),{key:t.key,ref_for:!0,ref:t.key,data:e.$props.data[t.key],style:(0,w.j5)({display:s.active===t.key?void 0:"none"}),class:"container"},null,8,["data","style"])))),128)),(0,$._)("div",J,[!1!==l.previousTab?((0,$.wg)(),(0,$.iD)("a",{key:0,class:"button is-mini",onClick:t[0]||(t[0]=(...e)=>l.showPreviousTab&&l.showPreviousTab(...e))},[ee,(0,$.Uk)(),(0,$._)("span",null,(0,w.zw)(e.$t("common.back")),1)])):(0,$.kq)("",!0),!1!==l.nextTab?((0,$.wg)(),(0,$.iD)("a",{key:1,class:"button is-primary is-mini",onClick:t[1]||(t[1]=(...e)=>l.showNextTab&&l.showNextTab(...e))},[(0,$._)("span",null,(0,w.zw)(e.$t("common.next")),1),(0,$.Uk)(),te])):(0,$.kq)("",!0)])])])}const ae=({category:e,action:t,label:o,value:a,nonInteraction:s})=>{(0,n.um)("Analytics event:",{category:e,action:t,label:o,value:a,nonInteraction:s});try{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"nginx_tool",category:e,action:t,label:o,value:a,nonInteraction:s})}catch(l){}try{window.analytics.track("Web Interaction",{category:e,action:t,label:o,value:a,nonInteraction:s})}catch(l){}},se={class:"container"},le={key:0,class:"button is-tiny"},ie={key:0,class:"message is-warning"},ne={class:"message-body"},de={class:"buttons-group"},re=["onClick"];function pe(e,t,o,a,s,l){return(0,$.wg)(),(0,$.iD)("div",se,[(0,$._)("div",{class:"header-group",style:(0,w.j5)({cursor:l.interacted?"pointer":void 0}),onClick:t[0]||(t[0]=(...e)=>l.toggleCollapse&&l.toggleCollapse(...e))},[(0,$._)("h3",null,(0,w.zw)(e.$t("templates.domainSections.presets.presets")),1),l.interacted?((0,$.wg)(),(0,$.iD)("a",le,[(0,$._)("i",{class:(0,w.C_)("fas fa-angle-"+(s.expanded?"up":"down"))},null,2)])):(0,$.kq)("",!0)],4),!e.$parent.$props.data.hasUserInteraction||s.expanded?((0,$.wg)(),(0,$.iD)($.HY,{key:0},[e.$parent.$props.data.hasUserInteraction?((0,$.wg)(),(0,$.iD)("div",ie,[(0,$._)("div",ne,(0,w.zw)(e.$t("templates.domainSections.presets.itLooksLikeYouCustomisedTheConfig")),1)])):(0,$.kq)("",!0),(0,$._)("div",de,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data,((t,o)=>((0,$.wg)(),(0,$.iD)("a",{class:(0,w.C_)("button"+(t.computed?" is-primary":"")),onClick:e=>l.setPreset(o)},(0,w.zw)(e.$t(t.display)),11,re)))),256))])],64)):(0,$.kq)("",!0)])}const ce=e=>Object.keys(e).reduce(((t,o)=>(t[o]={value:e[o].default,computed:e[o].default,...e[o]},t)),{}),ue=(e,t,o=!0)=>Object.keys(e).reduce(((e,a)=>(e[a]={get(){return this.$props.data[a].value},set(e){o&&this.$parent&&"data"in this.$parent.$props&&"hasUserInteraction"in this.$parent.$props.data&&!this.$parent.$props.data.hasUserInteraction&&this.$props.data[a].value!==e&&(this.$parent.$props.data.hasUserInteraction=!0),this.$props.data[a].value=e,this.$props.data[a].computed=e}},e[a+"Default"]={get(){return this.$props.data[a].default}},e[a+"Enabled"]={get(){return this.$props.data[a].enabled}},e[a+"Changed"]={get(){return q(this.$props.data[a],t,a)}},e)),{}),he={frontend:{default:!1,display:"templates.domainSections.presets.frontend",enabled:!0,computedCheck(e){return!e.php.php.computed&&!e.python.python.computed&&!e.reverseProxy.reverseProxy.computed&&"index.html"===e.routing.index.computed&&e.routing.fallbackHtml.computed}},php:{default:!0,display:"common.php",enabled:!0,computedCheck(e){return e.php.php.computed&&"index.php"===e.routing.index.computed&&e.routing.fallbackPhp.computed&&!e.routing.fallbackHtml.computed&&!e.php.wordPressRules.computed&&!e.php.drupalRules.computed&&!e.php.magentoRules.computed&&!e.php.joomlaRules.computed}},django:{default:!1,display:"common.django",enabled:!0,computedCheck(e){return e.python.python.computed&&e.python.djangoRules.computed&&!e.routing.root.computed}},nodejs:{default:!1,display:"templates.domainSections.presets.nodeJs",enabled:!0,computedCheck(e){return e.reverseProxy.reverseProxy.computed&&!e.routing.root.computed}},singlePageApplication:{default:!1,display:"templates.domainSections.presets.singlePageApplication",enabled:!0,computedCheck(e){return e.php.php.computed&&"index.html"===e.routing.index.computed&&e.routing.fallbackHtml.computed}},wordPress:{default:!1,display:"common.wordPress",enabled:!0,computedCheck(e){return"index.php"===e.routing.index.computed&&e.routing.fallbackPhp.computed&&!e.routing.fallbackHtml.computed&&e.php.wordPressRules.computed&&!e.php.drupalRules.computed&&!e.php.magentoRules.computed&&!e.php.joomlaRules.computed}},drupal:{default:!1,display:"common.drupal",enabled:!0,computedCheck(e){return"index.php"===e.routing.index.computed&&e.routing.fallbackPhp.computed&&!e.routing.fallbackHtml.computed&&!e.php.wordPressRules.computed&&e.php.drupalRules.computed&&!e.php.magentoRules.computed&&!e.php.joomlaRules.computed}},magento:{default:!1,display:"common.magento",enabled:!0,computedCheck(e){return"index.php"===e.routing.index.computed&&e.routing.fallbackPhp.computed&&!e.routing.fallbackHtml.computed&&!e.php.wordPressRules.computed&&!e.php.drupalRules.computed&&e.php.magentoRules.computed&&!e.php.joomlaRules.computed}},joomla:{default:!1,display:"common.joomla",enabled:!0,computedCheck(e){return"index.php"===e.routing.index.computed&&e.routing.fallbackPhp.computed&&!e.routing.fallbackHtml.computed&&!e.php.wordPressRules.computed&&!e.php.drupalRules.computed&&!e.php.magentoRules.computed&&e.php.joomlaRules.computed}}},me={name:"DomainPresets",display:"templates.domainSections.presets.presets",key:"presets",delegated:ce(he),props:{data:Object},data(){return{expanded:!1}},computed:{...ue(he,"presets",!1),interacted(){return this.$parent.$props.data.hasUserInteraction}},watch:{"$parent.$props.data":{handler(e){Object.keys(this.$props.data).forEach((t=>{this.$props.data[t].computed=this.$props.data[t].computedCheck(e)}))},deep:!0}},methods:{setPreset(e){switch(Object.keys(this.$props.data).forEach((t=>this[t]=t===e)),this.presetEvent(e,this.interacted),this.$parent.resetValue("server","domain"),this.$parent.resetValue("php","php"),this.$parent.resetValue("php","wordPressRules"),this.$parent.resetValue("php","drupalRules"),this.$parent.resetValue("php","magentoRules"),this.$parent.resetValue("php","joomlaRules"),this.$parent.resetValue("python","python"),this.$parent.resetValue("python","djangoRules"),this.$parent.resetValue("reverseProxy","reverseProxy"),this.$parent.resetValue("routing","root"),this.$parent.resetValue("routing","index"),this.$parent.resetValue("routing","fallbackHtml"),this.$parent.resetValue("routing","fallbackPhp"),e){case"frontend":this.$parent.setValue("php","php",!1),this.$parent.setValue("routing","index","index.html"),this.$parent.setValue("routing","fallbackHtml",!0);break;case"php":break;case"django":this.$parent.setValue("php","php",!1),this.$parent.setValue("python","python",!0),this.$parent.setValue("python","djangoRules",!0),this.$parent.setValue("routing","root",!1);break;case"nodejs":this.$parent.setValue("php","php",!1),this.$parent.setValue("reverseProxy","reverseProxy",!0),this.$parent.setValue("routing","root",!1);break;case"singlePageApplication":this.$parent.setValue("routing","index","index.html"),this.$parent.setValue("routing","fallbackHtml",!0);break;case"wordPress":this.$parent.setValue("php","wordPressRules",!0);break;case"drupal":this.$parent.setValue("php","drupalRules",!0);break;case"magento":this.$parent.setValue("php","magentoRules",!0);break;case"joomla":this.$parent.setValue("php","joomlaRules",!0);break}},presetEvent(e,t=!1){ae({category:"Preset",action:t?"Overwritten":"Applied",label:e})},toggleCollapse(){this.interacted&&(this.expanded=!this.expanded)}}};var ge=o(3744);const fe=(0,ge.Z)(me,[["render",pe]]),be=fe,ve={class:"field-row"},ye={class:"field"},_e={class:"label"},$e=["placeholder"],we={class:"field"},xe={class:"label"},ke=["placeholder"],Ce={class:"field"},Se={class:"label"},Pe=["placeholder"],De={key:0,class:"field"},ze={class:"control"},Ee={class:"text message is-warning"},Te={class:"message-body"},Ve={class:"slim"},Re={class:"field is-horizontal"},Oe={class:"field-label"},Ue={class:"label"},He={class:"field-body"},je={class:"field"},Ae={class:"checkbox"},Le={key:1,class:"field is-horizontal"},Fe={class:"field-label"},We={class:"label"},Ie={class:"field-body"},Me={class:"field"},Be={class:"checkbox"},Ne={class:"field is-horizontal"},qe={class:"field-label"},Ge={class:"label"},Ye={class:"field-body"},Ze={class:"field"},Ke={class:"checkbox"},Xe=(0,$._)("i",{class:"fas fa-long-arrow-alt-right"},null,-1),Qe={class:"field is-horizontal"},Je={class:"field-label"},et={class:"label"},tt={class:"field-body"},ot={class:"field has-addons"},at=(0,$._)("div",{class:"control"},[(0,$._)("a",{class:"button is-static"}," IPv4 ")],-1),st=["placeholder"],lt={class:"field has-addons"},it=(0,$._)("div",{class:"control"},[(0,$._)("a",{class:"button is-static"}," IPv6 ")],-1),nt=["placeholder"];function dt(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",ve,[(0,$._)("div",ye,[(0,$._)("label",_e,(0,w.zw)(e.$t("templates.domainSections.server.domain")),1),(0,$._)("div",{class:(0,w.C_)("control"+(e.domainChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.domain=t),class:"input",type:"text",placeholder:e.domainDefault},null,8,$e),[[a.nr,e.domain]])],2)]),(0,$._)("div",we,[(0,$._)("label",xe,(0,w.zw)(e.$t("common.path")),1),(0,$._)("div",{class:(0,w.C_)("control"+(e.pathChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.path=t),class:"input",type:"text",placeholder:`/var/www/${e.domain}`},null,8,ke),[[a.nr,e.path]])],2)]),(0,$._)("div",Ce,[(0,$._)("label",Se,(0,w.zw)(e.$t("templates.domainSections.server.documentRoot")),1),(0,$._)("div",{class:(0,w.C_)("control"+(e.documentRootChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.documentRoot=t),class:"input",type:"text",placeholder:e.documentRootDefault},null,8,Pe),[[a.nr,e.documentRoot]])],2)])]),i.duplicateDomain?((0,$.wg)(),(0,$.iD)("div",De,[(0,$._)("div",ze,[(0,$._)("label",Ee,[(0,$._)("span",Te,[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.server.oneOrMoreOtherDomainsAreAlsoNamed"))+" ",1),(0,$._)("code",Ve,(0,w.zw)(e.$props.data.domain.computed),1),(0,$.Uk)(". "+(0,w.zw)(e.$t("templates.domainSections.server.thisWillCauseIssuesWithConfigGeneration")),1)])])])])):(0,$.kq)("",!0),(0,$._)("div",Re,[(0,$._)("div",Oe,[(0,$._)("label",Ue,(0,w.zw)(e.$t("templates.domainSections.server.wwwSubdomain")),1)]),(0,$._)("div",He,[(0,$._)("div",je,[(0,$._)("div",{class:(0,w.C_)("control"+(e.wwwSubdomainChanged?" is-changed":""))},[(0,$._)("div",Ae,[(0,$.Wm)(n,{modelValue:e.wwwSubdomain,"onUpdate:modelValue":t[3]||(t[3]=t=>e.wwwSubdomain=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)(" (www."+(0,w.zw)(e.$props.data.domain.computed)+") ",1)])),_:1},8,["modelValue"])])],2)])])]),e.cdnSubdomainEnabled?((0,$.wg)(),(0,$.iD)("div",Le,[(0,$._)("div",Fe,[(0,$._)("label",We,(0,w.zw)(e.$t("templates.domainSections.server.cdnSubdomain")),1)]),(0,$._)("div",Ie,[(0,$._)("div",Me,[(0,$._)("div",{class:(0,w.C_)("control"+(e.cdnSubdomainChanged?" is-changed":""))},[(0,$._)("div",Be,[(0,$.Wm)(n,{modelValue:e.cdnSubdomain,"onUpdate:modelValue":t[4]||(t[4]=t=>e.cdnSubdomain=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)(" (cdn."+(0,w.zw)(e.$props.data.domain.computed)+") ",1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0),(0,$._)("div",Ne,[(0,$._)("div",qe,[(0,$._)("label",Ge,(0,w.zw)(e.$t("templates.domainSections.server.redirectSubdomains")),1)]),(0,$._)("div",Ye,[(0,$._)("div",Ze,[(0,$._)("div",{class:(0,w.C_)("control"+(e.redirectSubdomainsChanged?" is-changed":""))},[(0,$._)("div",Ke,[(0,$.Wm)(n,{modelValue:e.redirectSubdomains,"onUpdate:modelValue":t[5]||(t[5]=t=>e.redirectSubdomains=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)(" ("+(0,w.zw)(e.wwwSubdomain?`${e.domain}, `:"")+"*."+(0,w.zw)(e.$props.data.domain.computed)+" ",1),Xe,(0,$.Uk)(" "+(0,w.zw)(e.wwwSubdomain?"www.":"")+(0,w.zw)(e.$props.data.domain.computed)+") ",1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",Qe,[(0,$._)("div",Je,[(0,$._)("label",et,(0,w.zw)(e.$t("templates.domainSections.server.listen")),1)]),(0,$._)("div",tt,[(0,$._)("div",ot,[at,(0,$._)("div",{class:(0,w.C_)("control is-expanded"+(e.listenIpv4Changed?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.listenIpv4=t),class:"input",type:"text",placeholder:e.listenIpv4Default},null,8,st),[[a.nr,e.listenIpv4]])],2)]),(0,$._)("div",lt,[it,(0,$._)("div",{class:(0,w.C_)("control is-expanded"+(e.listenIpv6Changed?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.listenIpv6=t),class:"input",type:"text",placeholder:e.listenIpv6Default},null,8,nt),[[a.nr,e.listenIpv6]])],2)])])])])}var rt=o(2262),pt=o(6710);const ct=(0,$._)("i",{class:"icon fas fa-check"},null,-1),ut={__name:"checkbox",setup(e){return(e,t)=>((0,$.wg)(),(0,$.j4)((0,rt.SU)(pt.Z),null,(0,$.Nv)({extra:(0,$.w5)((()=>[(0,$.WI)(e.$slots,"extra",{},(()=>[ct]))])),_:2},[(0,$.Ko)(e.$slots,((t,o)=>({name:o,fn:(0,$.w5)((t=>[(0,$.WI)(e.$slots,o,(0,w.vs)((0,$.F4)(t||{})))]))})))]),1024))}},ht=ut,mt=ht,gt={domain:{default:"example.com",enabled:!0},path:{default:"",computed:"/var/www/example.com",enabled:!0},documentRoot:{default:"/public",enabled:!0},wwwSubdomain:{default:!1,enabled:!0},cdnSubdomain:{default:!1,enabled:!1},redirectSubdomains:{default:!0,enabled:!0},listenIpv4:{default:"*",enabled:!0},listenIpv6:{default:"::",enabled:!0}},ft={name:"DomainServer",display:"templates.domainSections.server.server",key:"server",delegated:ce(gt),components:{PrettyCheck:mt},props:{data:Object},computed:{...ue(gt,"server"),duplicateDomain(){return this.$parent.$parent.$data.domains.filter((e=>e&&e.server.domain.computed===this.$props.data.domain.computed)).length>1},hasWarnings(){return this.duplicateDomain}},watch:{"$props.data.domain":{handler(e){e.computed.startsWith("www.")&&(e.computed=e.computed.slice(4),this.wwwSubdomain=!0),e.computed.trim()||(e.computed=e.default),this.$props.data.path.value.trim()||(this.$props.data.path.computed=`/var/www/${e.computed}`)},deep:!0},"$props.data.wwwSubdomain":{handler(e){e.computed?(this.$props.data.cdnSubdomain.enabled=!0,this.$props.data.cdnSubdomain.computed=this.$props.data.cdnSubdomain.value):(this.$props.data.cdnSubdomain.enabled=!1,this.$props.data.cdnSubdomain.computed=!1)},deep:!0},"$props.data.path":{handler(e){e.computed.trim()||(e.computed=`/var/www/${this.$props.data.domain.computed}`)},deep:!0}}},bt=(0,ge.Z)(ft,[["render",dt]]),vt=bt,yt={class:"field is-horizontal"},_t={class:"field-label"},$t={class:"label"},wt={class:"field-body"},xt={class:"field"},kt={class:"checkbox"},Ct={key:0,class:"field is-horizontal"},St={class:"field-label"},Pt={class:"label"},Dt={class:"field-body"},zt={class:"field"},Et={class:"checkbox"},Tt={key:1,class:"field is-horizontal is-aligned-top"},Vt={class:"field-label has-small-margin-top"},Rt={class:"label"},Ot={class:"field-body"},Ut={class:"field"},Ht={class:"checkbox"},jt={key:0,class:"control"},At={class:"text message is-warning"},Lt={class:"message-body"},Ft={key:2,class:"field is-horizontal"},Wt={class:"field-label"},It={class:"label"},Mt={class:"field-body"},Bt={class:"field"},Nt={class:"checkbox"},qt=(0,$._)("i",{class:"fas fa-long-arrow-alt-right"},null,-1),Gt={key:3,class:"field is-horizontal is-aligned-top"},Yt={class:"field-label"},Zt={class:"label"},Kt={class:"field-body"},Xt={class:"field"},Qt={class:"checkbox"},Jt={class:"checkbox"},eo={class:"checkbox"},to={key:4,class:"field is-horizontal is-aligned-top"},oo={class:"field-label"},ao={class:"label"},so={class:"field-body"},lo={class:"field"},io={class:"radio"},no={key:5,class:"field is-horizontal"},ro={class:"field-label"},po={class:"label"},co={class:"field-body"},uo={class:"field"},ho=["placeholder"],mo={key:6,class:"field is-horizontal"},go=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"ssl_certificate")],-1),fo={class:"field-body"},bo={class:"field"},vo=["placeholder"],yo={key:7,class:"field is-horizontal"},_o=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"ssl_certificate_key")],-1),$o={class:"field-body"},wo={class:"field"},xo=["placeholder"];function ko(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck"),d=(0,$.up)("ExternalLink"),r=(0,$.up)("PrettyRadio");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",yt,[(0,$._)("div",_t,[(0,$._)("label",$t,(0,w.zw)(e.$t("common.https")),1)]),(0,$._)("div",wt,[(0,$._)("div",xt,[(0,$._)("div",{class:(0,w.C_)("control"+(e.httpsChanged?" is-changed":""))},[(0,$._)("div",kt,[(0,$.Wm)(n,{modelValue:e.https,"onUpdate:modelValue":t[0]||(t[0]=t=>e.https=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.https.enableEncryptedSslConnection")),1)])),_:1},8,["modelValue"])])],2)])])]),e.http2Enabled?((0,$.wg)(),(0,$.iD)("div",Ct,[(0,$._)("div",St,[(0,$._)("label",Pt,(0,w.zw)(e.$t("templates.domainSections.https.http2")),1)]),(0,$._)("div",Dt,[(0,$._)("div",zt,[(0,$._)("div",{class:(0,w.C_)("control"+(e.http2Changed?" is-changed":""))},[(0,$._)("div",Et,[(0,$.Wm)(n,{modelValue:e.http2,"onUpdate:modelValue":t[1]||(t[1]=t=>e.http2=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.https.enableHttp2Connections")),1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0),e.http3Enabled?((0,$.wg)(),(0,$.iD)("div",Tt,[(0,$._)("div",Vt,[(0,$._)("label",Rt,(0,w.zw)(e.$t("templates.domainSections.https.http3")),1)]),(0,$._)("div",Ot,[(0,$._)("div",Ut,[(0,$._)("div",{class:(0,w.C_)("control"+(e.http3Changed?" is-changed":""))},[(0,$._)("div",Ht,[(0,$.Wm)(n,{modelValue:e.http3,"onUpdate:modelValue":t[2]||(t[2]=t=>e.http3=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.https.enableHttp3Connections")),1)])),_:1},8,["modelValue"])])],2),i.showHttp3Warning?((0,$.wg)(),(0,$.iD)("div",jt,[(0,$._)("label",At,[(0,$._)("span",Lt,[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.https.http3IsANonStandardModule"))+" ",1),(0,$.Wm)(d,{text:e.$t("templates.domainSections.https.http3NginxQuicReadme"),link:"https://quic.nginx.org/README"},null,8,["text"]),(0,$.Uk)(" "+(0,w.zw)(e.$t("templates.domainSections.https.http3OrThe"))+" ",1),(0,$.Wm)(d,{text:e.$t("templates.domainSections.https.http3CloudflareQuicheProject"),link:"https://github.com/cloudflare/quiche/tree/master/nginx"},null,8,["text"]),(0,$.Uk)(" "+(0,w.zw)(e.$t("templates.domainSections.https.http3ForBuildingNginxWithHttp3")),1)])])])):(0,$.kq)("",!0)])])])):(0,$.kq)("",!0),e.forceHttpsEnabled?((0,$.wg)(),(0,$.iD)("div",Ft,[(0,$._)("div",Wt,[(0,$._)("label",It,(0,w.zw)(e.$t("templates.domainSections.https.forceHttps")),1)]),(0,$._)("div",Mt,[(0,$._)("div",Bt,[(0,$._)("div",{class:(0,w.C_)("control"+(e.forceHttpsChanged?" is-changed":""))},[(0,$._)("div",Nt,[(0,$.Wm)(n,{modelValue:e.forceHttps,"onUpdate:modelValue":t[3]||(t[3]=t=>e.forceHttps=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)(" (http://"+(0,w.zw)(e.$parent.$props.data.server.domain.computed)+" ",1),qt,(0,$.Uk)(" https://"+(0,w.zw)(e.$parent.$props.data.server.domain.computed)+") ",1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0),e.hstsEnabled?((0,$.wg)(),(0,$.iD)("div",Gt,[(0,$._)("div",Yt,[(0,$._)("label",Zt,(0,w.zw)(e.$t("templates.domainSections.https.hsts")),1)]),(0,$._)("div",Kt,[(0,$._)("div",Xt,[(0,$._)("div",{class:(0,w.C_)("control"+(e.hstsChanged?" is-changed":""))},[(0,$._)("div",Qt,[(0,$.Wm)(n,{modelValue:e.hsts,"onUpdate:modelValue":t[4]||(t[4]=t=>e.hsts=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.https.enableStrictTransportSecurity")),1)])),_:1},8,["modelValue"])])],2),e.hstsSubdomainsEnabled?((0,$.wg)(),(0,$.iD)("div",{key:0,class:(0,w.C_)("control"+(e.hstsSubdomainsChanged?" is-changed":""))},[(0,$._)("div",Jt,[(0,$.Wm)(n,{modelValue:e.hstsSubdomains,"onUpdate:modelValue":t[5]||(t[5]=t=>e.hstsSubdomains=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.https.enableIncludeSubDomains")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.hstsPreloadEnabled?((0,$.wg)(),(0,$.iD)("div",{key:1,class:(0,w.C_)("control"+(e.hstsPreloadChanged?" is-changed":""))},[(0,$._)("div",eo,[(0,$.Wm)(n,{modelValue:e.hstsPreload,"onUpdate:modelValue":t[6]||(t[6]=t=>e.hstsPreload=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.https.enablePreload")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0)])])])):(0,$.kq)("",!0),e.certTypeEnabled?((0,$.wg)(),(0,$.iD)("div",to,[(0,$._)("div",oo,[(0,$._)("label",ao,(0,w.zw)(e.$t("templates.domainSections.https.certificationType")),1)]),(0,$._)("div",so,[(0,$._)("div",lo,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.certType.options,((o,a)=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.certTypeChanged&&a===e.certType?" is-changed":""))},[(0,$._)("div",io,[(0,$.Wm)(r,{modelValue:e.certType,"onUpdate:modelValue":t[7]||(t[7]=t=>e.certType=t),value:a,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t(o)),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])])])):(0,$.kq)("",!0),e.letsEncryptEmailEnabled?((0,$.wg)(),(0,$.iD)("div",no,[(0,$._)("div",ro,[(0,$._)("label",po,(0,w.zw)(e.$t("templates.domainSections.https.letsEncryptEmail")),1)]),(0,$._)("div",co,[(0,$._)("div",uo,[(0,$._)("div",{class:(0,w.C_)("control"+(e.letsEncryptEmailChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.letsEncryptEmail=t),class:"input",type:"text",placeholder:e.$props.data.letsEncryptEmail.computed},null,8,ho),[[a.nr,e.letsEncryptEmail]])],2)])])])):(0,$.kq)("",!0),e.sslCertificateEnabled?((0,$.wg)(),(0,$.iD)("div",mo,[go,(0,$._)("div",fo,[(0,$._)("div",bo,[(0,$._)("div",{class:(0,w.C_)("control"+(e.sslCertificateChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.sslCertificate=t),class:"input",type:"text",placeholder:`${e.$parent.$parent.$data.global.nginx.nginxConfigDirectory.computed}/ssl/${e.$parent.$props.data.server.domain.computed}.crt`},null,8,vo),[[a.nr,e.sslCertificate]])],2)])])])):(0,$.kq)("",!0),e.sslCertificateKeyEnabled?((0,$.wg)(),(0,$.iD)("div",yo,[_o,(0,$._)("div",$o,[(0,$._)("div",wo,[(0,$._)("div",{class:(0,w.C_)("control"+(e.sslCertificateKeyChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.sslCertificateKey=t),class:"input",type:"text",placeholder:`${e.$parent.$parent.$data.global.nginx.nginxConfigDirectory.computed}/ssl/${e.$parent.$props.data.server.domain.computed}.key`},null,8,xo),[[a.nr,e.sslCertificateKey]])],2)])])])):(0,$.kq)("",!0)])}var Co=o(4103),So=o(5634);const Po=(0,$._)("i",{class:"icon fas fa-check"},null,-1),Do={__name:"radio",setup(e){return(e,t)=>((0,$.wg)(),(0,$.j4)((0,rt.SU)(So.Z),null,(0,$.Nv)({extra:(0,$.w5)((()=>[(0,$.WI)(e.$slots,"extra",{},(()=>[Po]))])),_:2},[(0,$.Ko)(e.$slots,((t,o)=>({name:o,fn:(0,$.w5)((t=>[(0,$.WI)(e.$slots,o,(0,w.vs)((0,$.F4)(t||{})))]))})))]),1024))}},zo=Do,Eo=zo,To={https:{default:!0,enabled:!0},http2:{default:!0,enabled:!0},http3:{default:!1,enabled:!0},forceHttps:{default:!0,enabled:!0},hsts:{default:!0,enabled:!0},hstsSubdomains:{default:!0,enabled:!0},hstsPreload:{default:!1,enabled:!0},certType:{default:"letsEncrypt",options:{letsEncrypt:"common.letsEncrypt",custom:"templates.domainSections.https.customCertificate"},enabled:!0},letsEncryptEmail:{default:"",computed:"info@example.com",enabled:!0},sslCertificate:{default:"",enabled:!1},sslCertificateKey:{default:"",enabled:!1}},Vo={name:"DomainHTTPS",display:"common.https",key:"https",delegated:ce(To),components:{PrettyCheck:mt,PrettyRadio:Eo,ExternalLink:Co.Z},props:{data:Object},computed:{...ue(To,"https"),showHttp3Warning(){return this.$props.data.http3.computed},hasWarnings(){return this.showHttp3Warning}},watch:{"$props.data.https":{handler(e){const t=e.computed;t?(this.$props.data.http2.enabled=!0,this.$props.data.http2.computed=this.$props.data.http2.value,this.$props.data.http3.enabled=!0,this.$props.data.http3.computed=this.$props.data.http3.value,this.$props.data.forceHttps.enabled=!0,this.$props.data.forceHttps.computed=this.$props.data.forceHttps.value,this.$props.data.hsts.enabled=!0,this.$props.data.hsts.computed=this.$props.data.hsts.value,this.$props.data.certType.enabled=!0,this.$props.data.certType.computed=this.$props.data.certType.value):(this.$props.data.http2.enabled=!1,this.$props.data.http2.computed=!1,this.$props.data.http3.enabled=!1,this.$props.data.http3.computed=!1,this.$props.data.forceHttps.enabled=!1,this.$props.data.forceHttps.computed=!1,this.$props.data.hsts.enabled=!1,this.$props.data.hsts.computed=!1,this.$props.data.certType.enabled=!1,this.$props.data.certType.computed="")},deep:!0},"$props.data":{handler(){this.$props.data.hsts.computed?(this.$props.data.hstsSubdomains.enabled=!0,this.$props.data.hstsSubdomains.computed=this.$props.data.hstsSubdomains.value):(this.$props.data.hstsSubdomains.enabled=!1,this.$props.data.hstsSubdomains.computed=!1),this.$props.data.hsts.computed&&this.$props.data.hstsSubdomains.computed?(this.$props.data.hstsPreload.enabled=!0,this.$props.data.hstsPreload.computed=this.$props.data.hstsPreload.value):(this.$props.data.hstsPreload.enabled=!1,this.$props.data.hstsPreload.computed=!1)},deep:!0},"$props.data.certType":{handler(e){e.enabled?(Object.keys(e.options).includes(e.computed)||(e.computed=e.default),"letsEncrypt"===e.computed?(this.$props.data.letsEncryptEmail.enabled=!0,this.$props.data.letsEncryptEmail.computed=this.$props.data.letsEncryptEmail.value,this.$props.data.sslCertificate.enabled=!1,this.$props.data.sslCertificate.computed="",this.$props.data.sslCertificateKey.enabled=!1,this.$props.data.sslCertificateKey.computed=""):(this.$props.data.sslCertificate.enabled=!0,this.$props.data.sslCertificate.computed=this.$props.data.sslCertificate.value,this.$props.data.sslCertificateKey.enabled=!0,this.$props.data.sslCertificateKey.computed=this.$props.data.sslCertificateKey.value,this.$props.data.letsEncryptEmail.enabled=!1,this.$props.data.letsEncryptEmail.computed="")):(this.$props.data.letsEncryptEmail.enabled=!1,this.$props.data.letsEncryptEmail.computed="",this.$props.data.sslCertificate.enabled=!1,this.$props.data.sslCertificate.computed="",this.$props.data.sslCertificateKey.enabled=!1,this.$props.data.sslCertificateKey.computed="")},deep:!0},"$props.data.letsEncryptEmail":{handler(e){e.computed.trim()||(e.computed=`info@${this.$parent.$props.data.server.domain.computed}`)},deep:!0},"$parent.$props.data.server.domain":{handler(e){this.$props.data.letsEncryptEmail.value.trim()||(this.$props.data.letsEncryptEmail.computed=`info@${e.computed}`)},deep:!0}}},Ro=(0,ge.Z)(Vo,[["render",ko]]),Oo=Ro,Uo={key:0,class:"field is-horizontal is-aligned-top"},Ho={class:"field-label"},jo={class:"label"},Ao={class:"field-body"},Lo={class:"field"},Fo={class:"control is-changed"},Wo={class:"text"},Io=(0,$._)("br",null,null,-1),Mo=(0,$._)("br",null,null,-1),Bo={key:1,class:"field is-horizontal"},No={class:"field-label"},qo={class:"label"},Go={class:"field-body"},Yo={class:"field"},Zo={class:"checkbox"},Ko={key:2,class:"field is-horizontal is-aligned-top"},Xo={class:"field-label has-margin-top"},Qo={class:"label"},Jo={class:"field-body"},ea={class:"field"},ta=["placeholder"],oa={key:3,class:"field is-horizontal is-aligned-top"},aa={class:"field-label has-margin-top"},sa={class:"label"},la={class:"field-body"},ia={class:"field"},na=["placeholder"],da={key:4,class:"field is-horizontal"},ra={class:"field-label"},pa={class:"label"},ca={class:"field-body"},ua={class:"field"},ha={class:"checkbox"},ma={key:5,class:"field is-horizontal"},ga={class:"field-label"},fa={class:"label"},ba={class:"field-body"},va={class:"field"},ya={class:"checkbox"},_a={key:6,class:"field is-horizontal"},$a={class:"field-label"},wa={class:"label"},xa={class:"field-body"},ka={class:"field"},Ca={class:"checkbox"},Sa={key:7,class:"field is-horizontal"},Pa={class:"field-label"},Da={class:"label"},za={class:"field-body"},Ea={class:"field"},Ta={class:"checkbox"};function Va(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck"),d=(0,$.up)("VueSelect");return(0,$.wg)(),(0,$.iD)("div",null,[e.phpEnabled?((0,$.wg)(),(0,$.iD)("div",Bo,[(0,$._)("div",No,[(0,$._)("label",qo,(0,w.zw)(e.$t("common.php")),1)]),(0,$._)("div",Go,[(0,$._)("div",Yo,[(0,$._)("div",{class:(0,w.C_)("control"+(e.phpChanged?" is-changed":""))},[(0,$._)("div",Zo,[(0,$.Wm)(n,{modelValue:e.php,"onUpdate:modelValue":t[0]||(t[0]=t=>e.php=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.php.enablePhp")),1)])),_:1},8,["modelValue"])])],2)])])])):((0,$.wg)(),(0,$.iD)("div",Uo,[(0,$._)("div",Ho,[(0,$._)("label",jo,(0,w.zw)(e.$t("common.php")),1)]),(0,$._)("div",Ao,[(0,$._)("div",Lo,[(0,$._)("div",Fo,[(0,$._)("label",Wo,[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.php.phpIsDisabled"))+" ",1),e.$parent.$props.data.reverseProxy.reverseProxy.computed?((0,$.wg)(),(0,$.iD)($.HY,{key:0},[Io,(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.php.phpCannotBeEnabledWithReverseProxy")),1)],64)):(0,$.kq)("",!0),e.$parent.$props.data.python.python.computed?((0,$.wg)(),(0,$.iD)($.HY,{key:1},[Mo,(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.php.phpCannotBeEnabledWithPython")),1)],64)):(0,$.kq)("",!0)])])])])])),e.phpServerEnabled?((0,$.wg)(),(0,$.iD)("div",Ko,[(0,$._)("div",Xo,[(0,$._)("label",Qo,(0,w.zw)(e.$t("templates.domainSections.php.phpServer")),1)]),(0,$._)("div",Jo,[(0,$._)("div",ea,[(0,$._)("div",{class:(0,w.C_)("control"+(e.phpServerChanged?" is-changed":""))},[(0,$.Wm)(d,{ref:"phpServerSelect",modelValue:e.phpServer,"onUpdate:modelValue":t[1]||(t[1]=t=>e.phpServer=t),options:i.phpServerOptions,clearable:!1,reduce:e=>e.value},null,8,["modelValue","options","reduce"])],2),e.phpServerCustomEnabled?((0,$.wg)(),(0,$.iD)("div",{key:0,class:(0,w.C_)("control"+(e.phpServerCustomChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.phpServerCustom=t),class:"input",type:"text",placeholder:e.$props.data.phpServerCustom.default},null,8,ta),[[a.nr,e.phpServerCustom]])],2)):(0,$.kq)("",!0)])])])):(0,$.kq)("",!0),e.phpBackupServerEnabled?((0,$.wg)(),(0,$.iD)("div",oa,[(0,$._)("div",aa,[(0,$._)("label",sa,(0,w.zw)(e.$t("templates.domainSections.php.phpBackupServer")),1)]),(0,$._)("div",la,[(0,$._)("div",ia,[(0,$._)("div",{class:(0,w.C_)("control"+(e.phpBackupServerChanged?" is-changed":""))},[(0,$.Wm)(d,{ref:"phpBackupServerSelect",modelValue:e.phpBackupServer,"onUpdate:modelValue":t[3]||(t[3]=t=>e.phpBackupServer=t),options:i.phpBackupServerOptions,clearable:!1,reduce:e=>e.value},null,8,["modelValue","options","reduce"])],2),e.phpBackupServerCustomEnabled?((0,$.wg)(),(0,$.iD)("div",{key:0,class:(0,w.C_)("control"+(e.phpBackupServerCustomChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.phpBackupServerCustom=t),class:"input",type:"text",placeholder:e.$props.data.phpBackupServerCustom.default},null,8,na),[[a.nr,e.phpBackupServerCustom]])],2)):(0,$.kq)("",!0)])])])):(0,$.kq)("",!0),e.wordPressRulesEnabled?((0,$.wg)(),(0,$.iD)("div",da,[(0,$._)("div",ra,[(0,$._)("label",pa,(0,w.zw)(e.$t("templates.domainSections.php.wordPressRules")),1)]),(0,$._)("div",ca,[(0,$._)("div",ua,[(0,$._)("div",{class:(0,w.C_)("control"+(e.wordPressRulesChanged?" is-changed":""))},[(0,$._)("div",ha,[(0,$.Wm)(n,{modelValue:e.wordPressRules,"onUpdate:modelValue":t[5]||(t[5]=t=>e.wordPressRules=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.php.enableWordPressRules")),1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0),e.drupalRulesEnabled?((0,$.wg)(),(0,$.iD)("div",ma,[(0,$._)("div",ga,[(0,$._)("label",fa,(0,w.zw)(e.$t("templates.domainSections.php.drupalRules")),1)]),(0,$._)("div",ba,[(0,$._)("div",va,[(0,$._)("div",{class:(0,w.C_)("control"+(e.drupalRulesChanged?" is-changed":""))},[(0,$._)("div",ya,[(0,$.Wm)(n,{modelValue:e.drupalRules,"onUpdate:modelValue":t[6]||(t[6]=t=>e.drupalRules=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.php.enableDrupalRules")),1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0),e.magentoRulesEnabled?((0,$.wg)(),(0,$.iD)("div",_a,[(0,$._)("div",$a,[(0,$._)("label",wa,(0,w.zw)(e.$t("templates.domainSections.php.magentoRules")),1)]),(0,$._)("div",xa,[(0,$._)("div",ka,[(0,$._)("div",{class:(0,w.C_)("control"+(e.magentoRulesChanged?" is-changed":""))},[(0,$._)("div",Ca,[(0,$.Wm)(n,{modelValue:e.magentoRules,"onUpdate:modelValue":t[7]||(t[7]=t=>e.magentoRules=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.php.enableMagentoRules")),1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0),e.joomlaRulesEnabled?((0,$.wg)(),(0,$.iD)("div",Sa,[(0,$._)("div",Pa,[(0,$._)("label",Da,(0,w.zw)(e.$t("templates.domainSections.php.joomlaRules")),1)]),(0,$._)("div",za,[(0,$._)("div",Ea,[(0,$._)("div",{class:(0,w.C_)("control"+(e.joomlaRulesChanged?" is-changed":""))},[(0,$._)("div",Ta,[(0,$.Wm)(n,{modelValue:e.joomlaRules,"onUpdate:modelValue":t[8]||(t[8]=t=>e.joomlaRules=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.php.enableJoomlaRules")),1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0)])}const Ra={"127.0.0.1:9000":"templates.domainSections.php.tcp","/var/run/hhvm/sock":"templates.domainSections.php.hhvmSocket","/var/run/hhvm/hhvm.sock":"templates.domainSections.php.hhvmSocket","/var/run/php/php7.1-fpm.sock":"templates.domainSections.php.php71Socket","/var/run/php/php7.2-fpm.sock":"templates.domainSections.php.php72Socket","/var/run/php/php7.0-fpm.sock":"templates.domainSections.php.php70Socket","/var/run/php/php7.3-fpm.sock":"templates.domainSections.php.php73Socket","/var/run/php/php7.4-fpm.sock":"templates.domainSections.php.php74Socket","/var/run/php/php8.0-fpm.sock":"templates.domainSections.php.php80Socket","/var/run/php/php8.1-fpm.sock":"templates.domainSections.php.php81Socket","/var/run/php/php8.2-fpm.sock":"templates.domainSections.php.php82Socket","/var/run/php/php-fpm.sock":"templates.domainSections.php.phpSocket",custom:"templates.domainSections.php.custom"},Oa=["","custom"],Ua={phpServer:{default:"/var/run/php/php-fpm.sock",options:Ra,enabled:!0},phpServerCustom:{default:"unix:/var/run/php/php-fpm.sock",enabled:!1},phpBackupServer:{default:"",options:{"":"templates.domainSections.php.disabled",...Ra},enabled:!0},phpBackupServerCustom:{default:"unix:/var/run/php/php-fpm.sock",enabled:!1},php:{default:!0,enabled:!0},wordPressRules:{default:!1,enabled:!0},drupalRules:{default:!1,enabled:!0},magentoRules:{default:!1,enabled:!0},joomlaRules:{default:!1,enabled:!0}},Ha={name:"DomainPHP",display:"common.php",key:"php",delegated:ce(Ua),components:{PrettyCheck:mt,VueSelect:M.Z},props:{data:Object},computed:{...ue(Ua,"php"),phpServerOptions(){return Object.entries(this.$props.data.phpServer.options).map((([e,t])=>this.formattedOption(e,t)))},phpBackupServerOptions(){return Object.entries(this.$props.data.phpBackupServer.options).map((([e,t])=>this.formattedOption(e,t)))}},watch:{"$parent.$props.data":{handler(e){e.reverseProxy.reverseProxy.computed||e.python.python.computed?(this.$props.data.php.enabled=!1,this.$props.data.php.computed=!1):(this.$props.data.php.enabled=!0,this.$props.data.php.computed=this.$props.data.php.value)},deep:!0},"$props.data.php":{handler(e){e.computed?(this.$props.data.phpServer.enabled=!0,this.$props.data.phpServer.computed=this.$props.data.phpServer.value,this.$props.data.phpBackupServer.enabled=!0,this.$props.data.phpBackupServer.computed=this.$props.data.phpBackupServer.value,this.$props.data.wordPressRules.enabled=!0,this.$props.data.wordPressRules.computed=this.$props.data.wordPressRules.value,this.$props.data.drupalRules.enabled=!0,this.$props.data.drupalRules.computed=this.$props.data.drupalRules.value,this.$props.data.magentoRules.enabled=!0,this.$props.data.magentoRules.computed=this.$props.data.magentoRules.value,this.$props.data.joomlaRules.enabled=!0,this.$props.data.joomlaRules.computed=this.$props.data.joomlaRules.value):(this.$props.data.phpServer.enabled=!1,this.$props.data.phpServer.computed="",this.$props.data.phpBackupServer.enabled=!1,this.$props.data.phpBackupServer.computed="",this.$props.data.wordPressRules.enabled=!1,this.$props.data.wordPressRules.computed=!1,this.$props.data.drupalRules.enabled=!1,this.$props.data.drupalRules.computed=!1,this.$props.data.magentoRules.enabled=!1,this.$props.data.magentoRules.computed=!1,this.$props.data.joomlaRules.enabled=!1,this.$props.data.joomlaRules.computed=!1)},deep:!0},"$props.data.phpServer":{handler(e){if(e.enabled)return Object.keys(e.options).includes(e.computed)||(e.computed=e.default),void(this.$props.data.phpServerCustom.enabled="custom"===e.computed);this.$props.data.phpServerCustom.enabled=!1},deep:!0},"$props.data.phpBackupServer":{handler(e){if(e.enabled)return Object.keys(e.options).includes(e.computed)||(e.computed=e.default),void(this.$props.data.phpBackupServerCustom.enabled="custom"===e.computed);this.$props.data.phpBackupServerCustom.enabled=!1},deep:!0},"$i18n.locale"(){if(!this.$refs.phpServerSelect)return!1;const e=this.phpServerOptions.find((e=>e.value===this.$refs.phpServerSelect.$data._value.value));e&&(this.$refs.phpServerSelect.$data._value=e);const t=this.phpBackupServerOptions.find((e=>e.value===this.$refs.phpBackupServerSelect.$data._value.value));t&&(this.$refs.phpBackupServerSelect.$data._value=t)}},methods:{formattedOption(e,t){return{label:`${this.$t(t)}${Oa.includes(e)?"":`: ${e}`}`,value:e}}}},ja=(0,ge.Z)(Ha,[["render",Va]]),Aa=ja,La={key:0,class:"field is-horizontal is-aligned-top"},Fa={class:"field-label"},Wa={class:"label"},Ia={class:"field-body"},Ma={class:"field"},Ba={class:"control"},Na={class:"text"},qa=(0,$._)("br",null,null,-1),Ga=(0,$._)("br",null,null,-1),Ya={key:1,class:"field is-horizontal"},Za={class:"field-label"},Ka={class:"label"},Xa={class:"field-body"},Qa={class:"field"},Ja={class:"checkbox"},es={key:2,class:"field is-horizontal"},ts={class:"field-label"},os={class:"label"},as={class:"field-body"},ss={class:"field"},ls={class:"checkbox"};function is(e,t,o,a,s,l){const i=(0,$.up)("PrettyCheck");return(0,$.wg)(),(0,$.iD)("div",null,[e.pythonEnabled?((0,$.wg)(),(0,$.iD)("div",Ya,[(0,$._)("div",Za,[(0,$._)("label",Ka,(0,w.zw)(e.$t("common.python")),1)]),(0,$._)("div",Xa,[(0,$._)("div",Qa,[(0,$._)("div",{class:(0,w.C_)("control"+(e.pythonChanged?" is-changed":""))},[(0,$._)("div",Ja,[(0,$.Wm)(i,{modelValue:e.python,"onUpdate:modelValue":t[0]||(t[0]=t=>e.python=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.python.enablePython")),1)])),_:1},8,["modelValue"])])],2)])])])):((0,$.wg)(),(0,$.iD)("div",La,[(0,$._)("div",Fa,[(0,$._)("label",Wa,(0,w.zw)(e.$t("common.python")),1)]),(0,$._)("div",Ia,[(0,$._)("div",Ma,[(0,$._)("div",Ba,[(0,$._)("label",Na,[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.python.pythonIsDisabled"))+" ",1),e.$parent.$props.data.reverseProxy.reverseProxy.computed?((0,$.wg)(),(0,$.iD)($.HY,{key:0},[qa,(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.python.pythonCannotBeEnabledWithReverseProxy")),1)],64)):(0,$.kq)("",!0),e.$parent.$props.data.php.php.computed?((0,$.wg)(),(0,$.iD)($.HY,{key:1},[Ga,(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.python.pythonCannotBeEnabledWithPhp")),1)],64)):(0,$.kq)("",!0)])])])])])),e.djangoRulesEnabled?((0,$.wg)(),(0,$.iD)("div",es,[(0,$._)("div",ts,[(0,$._)("label",os,(0,w.zw)(e.$t("templates.domainSections.python.djangoRules")),1)]),(0,$._)("div",as,[(0,$._)("div",ss,[(0,$._)("div",{class:(0,w.C_)("control"+(e.djangoRulesChanged?" is-changed":""))},[(0,$._)("div",ls,[(0,$.Wm)(i,{modelValue:e.djangoRules,"onUpdate:modelValue":t[1]||(t[1]=t=>e.djangoRules=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.python.enableDjangoRules")),1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0)])}const ns={python:{default:!1,enabled:!1},djangoRules:{default:!1,enabled:!1}},ds={name:"DomainPython",display:"common.python",key:"python",delegated:ce(ns),components:{PrettyCheck:mt},props:{data:Object},computed:ue(ns,"python"),watch:{"$parent.$props.data":{handler(e){e.reverseProxy.reverseProxy.computed||e.php.php.computed?(this.$props.data.python.enabled=!1,this.$props.data.python.computed=!1):(this.$props.data.python.enabled=!0,this.$props.data.python.computed=this.$props.data.python.value)},deep:!0},"$props.data.python":{handler(e){e.computed?(this.$props.data.djangoRules.enabled=!0,this.$props.data.djangoRules.computed=this.$props.data.djangoRules.value):(this.$props.data.djangoRules.enabled=!1,this.$props.data.djangoRules.computed=!1)},deep:!0}}},rs=(0,ge.Z)(ds,[["render",is]]),ps=rs,cs={key:0,class:"field is-horizontal is-aligned-top"},us={class:"field-label"},hs={class:"label"},ms={class:"field-body"},gs={class:"field"},fs={class:"control"},bs={class:"text"},vs=(0,$._)("br",null,null,-1),ys=(0,$._)("br",null,null,-1),_s={key:1,class:"field is-horizontal"},$s={class:"field-label"},ws={class:"label"},xs={class:"field-body"},ks={class:"control"},Cs={class:"checkbox"},Ss={key:2,class:"field is-horizontal"},Ps={class:"field-label"},Ds={class:"label"},zs={class:"field-body"},Es={class:"control"},Ts=["placeholder"],Vs={key:3,class:"field is-horizontal"},Rs=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"proxy_pass")],-1),Os={class:"field-body"},Us={class:"control"},Hs=["placeholder"],js={key:4,class:"field is-horizontal"},As={class:"field-label"},Ls={class:"label"},Fs={class:"field-body"},Ws={class:"control"},Is=["placeholder"];function Ms(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck");return(0,$.wg)(),(0,$.iD)("div",null,[e.reverseProxyEnabled?((0,$.wg)(),(0,$.iD)("div",_s,[(0,$._)("div",$s,[(0,$._)("label",ws,(0,w.zw)(e.$t("common.reverseProxy")),1)]),(0,$._)("div",xs,[(0,$._)("div",{class:(0,w.C_)("field"+(e.reverseProxyChanged?" is-changed":""))},[(0,$._)("div",ks,[(0,$._)("div",Cs,[(0,$.Wm)(n,{modelValue:e.reverseProxy,"onUpdate:modelValue":t[0]||(t[0]=t=>e.reverseProxy=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.reverseProxy.enableReverseProxy")),1)])),_:1},8,["modelValue"])])])],2)])])):((0,$.wg)(),(0,$.iD)("div",cs,[(0,$._)("div",us,[(0,$._)("label",hs,(0,w.zw)(e.$t("common.reverseProxy")),1)]),(0,$._)("div",ms,[(0,$._)("div",gs,[(0,$._)("div",fs,[(0,$._)("label",bs,[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.reverseProxy.reverseProxyIsDisabled"))+" ",1),e.$parent.$props.data.php.php.computed?((0,$.wg)(),(0,$.iD)($.HY,{key:0},[vs,(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.reverseProxy.reverseProxyCannotBeEnabledWithPhp")),1)],64)):(0,$.kq)("",!0),e.$parent.$props.data.python.python.computed?((0,$.wg)(),(0,$.iD)($.HY,{key:1},[ys,(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.reverseProxy.reverseProxyCannotBeEnabledWithPython")),1)],64)):(0,$.kq)("",!0)])])])])])),e.pathEnabled?((0,$.wg)(),(0,$.iD)("div",Ss,[(0,$._)("div",Ps,[(0,$._)("label",Ds,(0,w.zw)(e.$t("common.path")),1)]),(0,$._)("div",zs,[(0,$._)("div",{class:(0,w.C_)("field"+(e.pathChanged?" is-changed":""))},[(0,$._)("div",Es,[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.path=t),class:"input",type:"text",placeholder:e.$props.data.path.default},null,8,Ts),[[a.nr,e.path]])])],2)])])):(0,$.kq)("",!0),e.proxyPassEnabled?((0,$.wg)(),(0,$.iD)("div",Vs,[Rs,(0,$._)("div",Os,[(0,$._)("div",{class:(0,w.C_)("field"+(e.proxyPassChanged?" is-changed":""))},[(0,$._)("div",Us,[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.proxyPass=t),class:"input",type:"text",placeholder:e.$props.data.proxyPass.default},null,8,Hs),[[a.nr,e.proxyPass]])])],2)])])):(0,$.kq)("",!0),e.proxyHostHeaderEnabled?((0,$.wg)(),(0,$.iD)("div",js,[(0,$._)("div",As,[(0,$._)("label",Ls,(0,w.zw)(e.$t("templates.domainSections.reverseProxy.proxyHostHeader")),1)]),(0,$._)("div",Fs,[(0,$._)("div",{class:(0,w.C_)("field"+(e.proxyHostHeaderChanged?" is-changed":""))},[(0,$._)("div",Ws,[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.proxyHostHeader=t),class:"input",type:"text",placeholder:e.$props.data.proxyHostHeader.default},null,8,Is),[[a.nr,e.proxyHostHeader]])])],2)])])):(0,$.kq)("",!0)])}const Bs={reverseProxy:{default:!1,enabled:!1},path:{default:"/",enabled:!1},proxyPass:{default:"http://127.0.0.1:3000",enabled:!1},proxyHostHeader:{default:"$host",enabled:!1}},Ns={name:"DomainReverseProxy",display:"common.reverseProxy",key:"reverseProxy",delegated:ce(Bs),components:{PrettyCheck:mt},props:{data:Object},computed:ue(Bs,"reverseProxy"),watch:{"$parent.$props.data":{handler(e){e.php.php.computed||e.python.python.computed?(this.$props.data.reverseProxy.enabled=!1,this.$props.data.reverseProxy.computed=!1):(this.$props.data.reverseProxy.enabled=!0,this.$props.data.reverseProxy.computed=this.$props.data.reverseProxy.value)},deep:!0},"$props.data.reverseProxy":{handler(e){e.computed?(this.$props.data.path.enabled=!0,this.$props.data.path.computed=this.$props.data.path.value,this.$props.data.proxyPass.enabled=!0,this.$props.data.proxyPass.computed=this.$props.data.proxyPass.value,this.$props.data.proxyHostHeader.enabled=!0,this.$props.data.proxyHostHeader.computed=this.$props.data.proxyHostHeader.value):(this.$props.data.path.enabled=!1,this.$props.data.path.computed="",this.$props.data.proxyPass.enabled=!1,this.$props.data.proxyPass.computed="",this.$props.data.proxyHostHeader.enabled=!1,this.$props.data.proxyHostHeader.computed="")},deep:!0}}},qs=(0,ge.Z)(Ns,[["render",Ms]]),Gs=qs,Ys={class:"field is-horizontal"},Zs=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"root")],-1),Ks={class:"field-body"},Xs={class:"field"},Qs={class:"checkbox"},Js={key:0,class:"field is-horizontal is-aligned-top"},el=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"index")],-1),tl={class:"field-body"},ol={class:"field"},al={class:"radio"},sl={key:1,class:"field is-horizontal is-aligned-top"},ll={class:"field-label"},il={class:"label"},nl={class:"field-body"},dl={class:"field"},rl={class:"checkbox"},pl={class:"checkbox"},cl={key:2,class:"field is-horizontal"},ul={class:"field-label"},hl={class:"label"},ml={class:"field-body"},gl={class:"control"},fl=["placeholder"],bl={key:3,class:"field is-horizontal"},vl={class:"field-label"},yl={class:"label"},_l={class:"field-body"},$l={class:"field"},wl={class:"checkbox"};function xl(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck"),d=(0,$.up)("PrettyRadio");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",Ys,[Zs,(0,$._)("div",Ks,[(0,$._)("div",Xs,[(0,$._)("div",{class:(0,w.C_)("control"+(e.rootChanged?" is-changed":""))},[(0,$._)("div",Qs,[(0,$.Wm)(n,{modelValue:e.root,"onUpdate:modelValue":t[0]||(t[0]=t=>e.root=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("common.enable")),1)])),_:1},8,["modelValue"])])],2)])])]),e.indexEnabled?((0,$.wg)(),(0,$.iD)("div",Js,[el,(0,$._)("div",tl,[(0,$._)("div",ol,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.index.options,(o=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.indexChanged&&o===e.index?" is-changed":""))},[(0,$._)("div",al,[(0,$.Wm)(d,{modelValue:e.index,"onUpdate:modelValue":t[1]||(t[1]=t=>e.index=t),value:o,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(o),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])])])):(0,$.kq)("",!0),e.fallbackHtmlEnabled||e.fallbackPhpEnabled?((0,$.wg)(),(0,$.iD)("div",sl,[(0,$._)("div",ll,[(0,$._)("label",il,(0,w.zw)(e.$t("templates.domainSections.routing.fallbackRouting")),1)]),(0,$._)("div",nl,[(0,$._)("div",dl,[e.fallbackHtmlEnabled?((0,$.wg)(),(0,$.iD)("div",{key:0,class:(0,w.C_)("control"+(e.fallbackHtmlChanged?" is-changed":""))},[(0,$._)("div",rl,[(0,$.Wm)(n,{modelValue:e.fallbackHtml,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fallbackHtml=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)(" index.html ")])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.fallbackPhpEnabled?((0,$.wg)(),(0,$.iD)("div",{key:1,class:(0,w.C_)("control"+(e.fallbackPhpChanged?" is-changed":""))},[(0,$._)("div",pl,[(0,$.Wm)(n,{modelValue:e.fallbackPhp,"onUpdate:modelValue":t[3]||(t[3]=t=>e.fallbackPhp=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)(" index.php ")])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0)])])])):(0,$.kq)("",!0),e.fallbackPhpPathEnabled?((0,$.wg)(),(0,$.iD)("div",cl,[(0,$._)("div",ul,[(0,$._)("label",hl,(0,w.zw)(e.$t("templates.domainSections.routing.fallbackRoutingPhpPath")),1)]),(0,$._)("div",ml,[(0,$._)("div",{class:(0,w.C_)("field"+(e.fallbackPhpPathChanged?" is-changed":""))},[(0,$._)("div",gl,[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.fallbackPhpPath=t),class:"input",type:"text",placeholder:e.$props.data.fallbackPhpPath.default},null,8,fl),[[a.nr,e.fallbackPhpPath]])])],2)])])):(0,$.kq)("",!0),e.legacyPhpRoutingEnabled?((0,$.wg)(),(0,$.iD)("div",bl,[(0,$._)("div",vl,[(0,$._)("label",yl,(0,w.zw)(e.$t("templates.domainSections.routing.legacyPhpRouting")),1)]),(0,$._)("div",_l,[(0,$._)("div",$l,[(0,$._)("div",{class:(0,w.C_)("control"+(e.legacyPhpRoutingChanged?" is-changed":""))},[(0,$._)("div",wl,[(0,$.Wm)(n,{modelValue:e.legacyPhpRouting,"onUpdate:modelValue":t[5]||(t[5]=t=>e.legacyPhpRouting=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.routing.enableLegacyRouting")),1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0)])}const kl={root:{default:!0,enabled:!0},index:{default:"index.php",options:["index.html","index.php"],enabled:!0},fallbackHtml:{default:!1,enabled:!0},fallbackPhp:{default:!0,enabled:!0},fallbackPhpPath:{default:"/api/",enabled:!1},legacyPhpRouting:{default:!1,enabled:!0}},Cl={name:"DomainRouting",display:"templates.domainSections.routing.routing",key:"routing",delegated:ce(kl),components:{PrettyCheck:mt,PrettyRadio:Eo},props:{data:Object},computed:ue(kl,"routing"),watch:{"$props.data.root":{handler(e){e.computed?(this.$props.data.index.enabled=!0,this.$props.data.index.computed=this.$props.data.index.value,this.$props.data.fallbackHtml.enabled=!0,this.$props.data.fallbackHtml.computed=this.$props.data.fallbackHtml.value,this.$props.data.fallbackPhp.enabled=!0,this.$props.data.fallbackPhp.computed=this.$props.data.fallbackPhp.value):(this.$props.data.index.enabled=!1,this.$props.data.index.computed="",this.$props.data.fallbackHtml.enabled=!1,this.$props.data.fallbackHtml.computed=!1,this.$props.data.fallbackPhp.enabled=!1,this.$props.data.fallbackPhp.computed=!1)},deep:!0},"$props.data":{handler(e){e.fallbackHtml.computed&&e.fallbackPhp.computed?(this.$props.data.fallbackPhpPath.enabled=!0,this.$props.data.fallbackPhpPath.computed=this.$props.data.fallbackPhpPath.value):(this.$props.data.fallbackPhpPath.enabled=!1,this.$props.data.fallbackPhpPath.computed="")},deep:!0}}},Sl=(0,ge.Z)(Cl,[["render",xl]]),Pl=Sl,Dl={class:"field is-horizontal"},zl={class:"field-label"},El={class:"label"},Tl={class:"field-body"},Vl={class:"field"},Rl={class:"checkbox"},Ol={class:"field is-horizontal"},Ul={class:"field-label"},Hl={class:"label"},jl={class:"field-body"},Al={class:"field"},Ll={class:"checkbox"};function Fl(e,t,o,a,s,l){const i=(0,$.up)("PrettyCheck");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",Dl,[(0,$._)("div",zl,[(0,$._)("label",El,"access_log "+(0,w.zw)(e.$t("templates.domainSections.logging.byDomain")),1)]),(0,$._)("div",Tl,[(0,$._)("div",Vl,[(0,$._)("div",{class:(0,w.C_)("control"+(e.accessLogChanged?" is-changed":""))},[(0,$._)("div",Rl,[(0,$.Wm)(i,{modelValue:e.accessLog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.accessLog=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.logging.enableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",Ol,[(0,$._)("div",Ul,[(0,$._)("label",Hl,"error_log "+(0,w.zw)(e.$t("templates.domainSections.logging.byDomain")),1)]),(0,$._)("div",jl,[(0,$._)("div",Al,[(0,$._)("div",{class:(0,w.C_)("control"+(e.errorLogChanged?" is-changed":""))},[(0,$._)("div",Ll,[(0,$.Wm)(i,{modelValue:e.errorLog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.errorLog=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.logging.enableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])])])}const Wl={accessLog:{default:!1,enabled:!0},errorLog:{default:!1,enabled:!0}},Il={name:"DomainLogging",display:"common.logging",key:"logging",delegated:ce(Wl),components:{PrettyCheck:mt},props:{data:Object},computed:ue(Wl,"logging")},Ml=(0,ge.Z)(Il,[["render",Fl]]),Bl=Ml,Nl={class:"columns"},ql={class:"column"},Gl={class:"field is-horizontal"},Yl=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"GET")],-1),Zl={class:"field-body"},Kl={class:"field"},Xl={class:"checkbox"},Ql={class:"field is-horizontal"},Jl=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"POST")],-1),ei={class:"field-body"},ti={class:"field"},oi={class:"checkbox"},ai={class:"field is-horizontal"},si=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"PUT")],-1),li={class:"field-body"},ii={class:"field"},ni={class:"checkbox"},di={class:"field is-horizontal"},ri=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"PATCH")],-1),pi={class:"field-body"},ci={class:"field"},ui={class:"checkbox"},hi={class:"field is-horizontal"},mi=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"DELETE")],-1),gi={class:"field-body"},fi={class:"field"},bi={class:"checkbox"},vi={class:"column"},yi={class:"field is-horizontal"},_i=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"HEAD")],-1),$i={class:"field-body"},wi={class:"field"},xi={class:"checkbox"},ki={class:"field is-horizontal"},Ci=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"CONNECT")],-1),Si={class:"field-body"},Pi={class:"field"},Di={class:"checkbox"},zi={class:"field is-horizontal"},Ei=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"OPTIONS")],-1),Ti={class:"field-body"},Vi={class:"field"},Ri={class:"checkbox"},Oi={class:"field is-horizontal"},Ui=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"TRACE")],-1),Hi={class:"field-body"},ji={class:"field"},Ai={class:"checkbox"},Li={key:0,class:"field is-horizontal"},Fi={class:"field-label"},Wi={class:"label"},Ii={class:"field-body"},Mi={class:"field"},Bi=["placeholder"];function Ni(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",Nl,[(0,$._)("div",ql,[(0,$._)("div",Gl,[Yl,(0,$._)("div",Zl,[(0,$._)("div",Kl,[(0,$._)("div",{class:(0,w.C_)("control"+(e.getMethodChanged?" is-changed":""))},[(0,$._)("div",Xl,[(0,$.Wm)(n,{modelValue:e.getMethod,"onUpdate:modelValue":t[0]||(t[0]=t=>e.getMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",Ql,[Jl,(0,$._)("div",ei,[(0,$._)("div",ti,[(0,$._)("div",{class:(0,w.C_)("control"+(e.postMethodChanged?" is-changed":""))},[(0,$._)("div",oi,[(0,$.Wm)(n,{modelValue:e.postMethod,"onUpdate:modelValue":t[1]||(t[1]=t=>e.postMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",ai,[si,(0,$._)("div",li,[(0,$._)("div",ii,[(0,$._)("div",{class:(0,w.C_)("control"+(e.putMethodChanged?" is-changed":""))},[(0,$._)("div",ni,[(0,$.Wm)(n,{modelValue:e.putMethod,"onUpdate:modelValue":t[2]||(t[2]=t=>e.putMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",di,[ri,(0,$._)("div",pi,[(0,$._)("div",ci,[(0,$._)("div",{class:(0,w.C_)("control"+(e.patchMethodChanged?" is-changed":""))},[(0,$._)("div",ui,[(0,$.Wm)(n,{modelValue:e.patchMethod,"onUpdate:modelValue":t[3]||(t[3]=t=>e.patchMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",hi,[mi,(0,$._)("div",gi,[(0,$._)("div",fi,[(0,$._)("div",{class:(0,w.C_)("control"+(e.deleteMethodChanged?" is-changed":""))},[(0,$._)("div",bi,[(0,$.Wm)(n,{modelValue:e.deleteMethod,"onUpdate:modelValue":t[4]||(t[4]=t=>e.deleteMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])])]),(0,$._)("div",vi,[(0,$._)("div",yi,[_i,(0,$._)("div",$i,[(0,$._)("div",wi,[(0,$._)("div",{class:(0,w.C_)("control"+(e.headMethodChanged?" is-changed":""))},[(0,$._)("div",xi,[(0,$.Wm)(n,{modelValue:e.headMethod,"onUpdate:modelValue":t[5]||(t[5]=t=>e.headMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",ki,[Ci,(0,$._)("div",Si,[(0,$._)("div",Pi,[(0,$._)("div",{class:(0,w.C_)("control"+(e.connectMethodChanged?" is-changed":""))},[(0,$._)("div",Di,[(0,$.Wm)(n,{modelValue:e.connectMethod,"onUpdate:modelValue":t[6]||(t[6]=t=>e.connectMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",zi,[Ei,(0,$._)("div",Ti,[(0,$._)("div",Vi,[(0,$._)("div",{class:(0,w.C_)("control"+(e.optionsMethodChanged?" is-changed":""))},[(0,$._)("div",Ri,[(0,$.Wm)(n,{modelValue:e.optionsMethod,"onUpdate:modelValue":t[7]||(t[7]=t=>e.optionsMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",Oi,[Ui,(0,$._)("div",Hi,[(0,$._)("div",ji,[(0,$._)("div",{class:(0,w.C_)("control"+(e.traceMethodChanged?" is-changed":""))},[(0,$._)("div",Ai,[(0,$.Wm)(n,{modelValue:e.traceMethod,"onUpdate:modelValue":t[8]||(t[8]=t=>e.traceMethod=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.domainSections.restrict.disableForThisDomain")),1)])),_:1},8,["modelValue"])])],2)])])])])]),i.hasAtLeastOneEnabled?((0,$.wg)(),(0,$.iD)("div",Li,[(0,$._)("div",Fi,[(0,$._)("label",Wi,(0,w.zw)(e.$t("templates.domainSections.restrict.responseCode")),1)]),(0,$._)("div",Ii,[(0,$._)("div",Mi,[(0,$._)("div",{class:(0,w.C_)("control"+(e.responseCodeChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.responseCode=t),class:(0,w.C_)(["input",l.validResponseCode?"":"is-danger"]),type:"number",min:"100",step:"1",placeholder:e.$props.data.responseCode.default},null,10,Bi),[[a.nr,e.responseCode,void 0,{number:!0}]])],2)])])])):(0,$.kq)("",!0)])}const qi={getMethod:{default:!1,enabled:!0},postMethod:{default:!1,enabled:!0},putMethod:{default:!1,enabled:!0},patchMethod:{default:!1,enabled:!0},deleteMethod:{default:!1,enabled:!0},headMethod:{default:!1,enabled:!0},connectMethod:{default:!1,enabled:!0},optionsMethod:{default:!1,enabled:!0},traceMethod:{default:!1,enabled:!0},responseCode:{default:405,enabled:!0}},Gi={name:"DomainRestrict",display:"common.restrict",key:"restrict",delegated:ce(qi),components:{PrettyCheck:mt},props:{data:Object},data(){return{validResponseCode:!0}},computed:{...ue(qi,"restrict"),hasAtLeastOneEnabled(){return Object.keys(this.$props.data).filter((e=>this.$props.data[e].computed&&"responseCode"!==e)).length>0}},watch:{"$props.data.responseCode":{handler(e){e.computed&&/^[1-5][0-9][0-9]$/.test(e.computed)?this.validResponseCode=!0:this.validResponseCode=!1},deep:!0}}},Yi=(0,ge.Z)(Gi,[["render",Ni]]),Zi=Yi,Ki={class:"field is-horizontal is-aligned-top"},Xi={class:"field-label has-margin-top"},Qi={class:"label"},Ji={class:"field-body"},en={class:"field"},tn=["placeholder"],on={class:"control"},an={class:"text"},sn={class:"control"},ln={class:"text"},nn={class:"control"},dn={class:"text"},rn={key:1,class:"control"},pn={class:"text message is-warning"},cn={class:"message-body"};function un(e,t,o,s,l,i){const n=(0,$.up)("ExternalLink");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",Ki,[(0,$._)("div",Xi,[(0,$._)("label",Qi,(0,w.zw)(e.$t("templates.domainSections.onion.onionLocation")),1)]),(0,$._)("div",Ji,[(0,$._)("div",en,[(0,$._)("div",{class:(0,w.C_)("control"+(e.onionLocationChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.onionLocation=t),class:"input",type:"text",placeholder:e.$props.data.onionLocation.placeholder},null,8,tn),[[a.nr,e.onionLocation]])],2),e.onionLocationChanged?(0,$.kq)("",!0):((0,$.wg)(),(0,$.iD)($.HY,{key:0},[(0,$._)("div",on,[(0,$._)("label",an,(0,w.zw)(e.$t("templates.domainSections.onion.provideAnOnionLocationToSetOnionLocationHeader")),1)]),(0,$._)("div",sn,[(0,$._)("label",ln,(0,w.zw)(e.$t("templates.domainSections.onion.letsVisitorsKnownOnionServicesIsAvailable")),1)]),(0,$._)("div",nn,[(0,$._)("label",dn,[(0,$.Wm)(n,{text:e.$t("templates.domainSections.onion.learnMoreAboutOnionServices"),link:"https://community.torproject.org/onion-services/"},null,8,["text"])])])],64)),i.incorrectEnding?((0,$.wg)(),(0,$.iD)("div",rn,[(0,$._)("label",pn,[(0,$._)("span",cn,(0,w.zw)(e.$t("templates.domainSections.onion.onionLocationExpectedToEndWithOnion")),1)])])):(0,$.kq)("",!0)])])])])}const hn={onionLocation:{default:"",placeholder:"<your-onion-address>.onion",enabled:!0}},mn={name:"DomainOnion",display:"templates.domainSections.onion.onion",key:"onion",delegated:ce(hn),components:{ExternalLink:Co.Z},props:{data:Object},computed:{...ue(hn,"onion"),incorrectEnding(){return this.onionLocationChanged&&!this.$props.data.onionLocation.computed.endsWith(".onion")},hasWarnings(){return this.incorrectEnding}},watch:{"$props.data.onionLocation":{handler(e){e.computed=e.computed.replace(/^https?:\/\//,"")},deep:!0}}},gn=(0,ge.Z)(mn,[["render",un]]),fn=gn,bn=[vt,Oo,Aa,ps,Gs,Pl,Bl,Zi,fn],vn={hasUserInteraction:!1,presets:be.delegated,...bn.reduce(((e,t)=>(e[t.key]=t.delegated,e)),{})},yn={name:"Domain",delegated:vn,components:{Presets:be},props:{data:Object},data(){return{active:bn[0].key,tabs:bn}},computed:{nextTab(){const e=this.$data.tabs.map((e=>e.key)),t=e.indexOf(this.$data.active)+1;return t<e.length&&e[t]},previousTab(){const e=this.$data.tabs.map((e=>e.key)),t=e.indexOf(this.$data.active)-1;return t>=0&&e[t]},hasWarnings(){return Object.values(this.$refs).some((e=>e[0].hasWarnings||!1))}},methods:{changesCount(e){return Object.keys(this.$props.data[e]).filter((t=>q(this.$props.data[e][t],e,t))).length},changes(e){const t=this.changesCount(e);return t?` (${t.toLocaleString()})`:""},warnings(e){return Object.prototype.hasOwnProperty.call(this.$refs,e)&&this.$refs[e][0].hasWarnings||!1},setValue(e,t,o){Object.assign(this.$props.data[e][t],{value:o,computed:o})},resetValue(e,t){this.setValue(e,t,this.$props.data[e][t].default)},tabClass(e){const t=[];e===this.$data.active&&t.push("is-active"),this.changesCount(e)&&t.push("is-changed");const o=this.$data.tabs.map((e=>e.key));return o.indexOf(e)<o.indexOf(this.$data.active)&&t.push("is-before"),t.join(" ")},showTab(e){ae({category:"Site",action:"Tab clicked",label:`${this.$data.active}, ${e}`}),this.$data.active=e},showPreviousTab(){ae({category:"Site",action:"Back clicked",label:`${this.$data.active}, ${this.previousTab}`}),this.$data.active=this.previousTab},showNextTab(){ae({category:"Site",action:"Next clicked",label:`${this.$data.active}, ${this.nextTab}`}),this.$data.active=this.nextTab}}},_n=(0,ge.Z)(yn,[["render",oe]]),$n=_n,wn=e=>"[object Object]"===Object.prototype.toString.call(e),xn=e=>""===e.toString().trim()||e,kn={ssl_profile:["https","sslProfile"],resolver_cloudflare:["https","ocspCloudflare",xn],resolver_google:["https","ocspGoogle",xn],resolver_opendns:["https","ocspOpenDns",xn],directory_letsencrypt:["https","letsEncryptRoot"],referrer_policy:["security","referrerPolicy"],content_security_policy:["security","contentSecurityPolicy"],server_tokens:["security","serverTokens",xn],limit_req:["security","limitReq",xn],php_server:["php","phpServer"],php_server_backup:["php","phpBackupServer"],python_server:["python","pythonServer"],gzip:["performance","gzipCompression",xn],brotli:["performance","brotliCompression",xn],expires_assets:["performance","assetsExpiration"],expires_media:["performance","mediaExpiration"],expires_svg:["performance","svgExpiration"],expires_fonts:["performance","fontsExpiration"],access_log:["logging","accessLog"],error_log:["logging","errorLog"],log_not_found:["logging","logNotFound",xn],directory_nginx:["nginx","nginxConfigDirectory"],worker_processes:["nginx","workerProcesses"],user:["nginx","user"],pid:["nginx","pid"],client_max_body_size:["nginx","clientMaxBodySize"],file_structure:["tools","modularizedStructure",e=>"modularized"===e.toLowerCase().trim()],symlink:["tools","symlinkVhost",xn]},Cn={domain:["server","domain"],path:["server","path"],document_root:["server","documentRoot"],non_www:["server","wwwSubdomain",e=>!xn(e)],cdn:["server","cdnSubdomain",xn],redirect:["server","redirectSubdomains",xn],ipv4:["server","listenIpv4"],ipv6:["server","listenIpv6"],https:["https","https",xn],http2:["https","http2",xn],force_https:["https","forceHttps",xn],hsts:["https","hsts",xn],hsts_subdomains:["https","hstsSubdomains",xn],hsts_preload:["https","hstsPreload",xn],cert_type:["https","certType",e=>"custom"===e.toLowerCase().trim()?"custom":"letsEncrypt"],email:["https","letsEncryptEmail"],ssl_certificate:["https","sslCertificate"],ssl_certificate_key:["https","sslCertificateKey"],php:["php","php",xn],wordpress:["php","wordPressRules",xn],drupal:["php","drupalRules",xn],magento:["php","magentoRules",xn],python:["python","python",xn],django:["python","djangoRules",xn],proxy:["reverseProxy","reverseProxy",xn],proxy_path:["reverseProxy","path"],proxy_pass:["reverseProxy","proxyPass"],root:["routing","root",xn],index:["routing","index"],fallback_html:["routing","fallbackHtml",xn],fallback_php:["routing","fallbackPhp",xn],fallback_php_path:["routing","fallbackPhpPath"],php_legacy_routing:["routing","legacyPhpRouting",xn],access_log_domain:["logging","accessLog",xn],error_log_domain:["logging","errorLog",xn]},Sn=e=>{const t={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(!(o in kn)||wn(e[o]))isNaN(parseInt(o))||(e.domains=wn(e.domains)?e.domains:{},e.domains[o]=e[o]);else{const a=kn[o];t[a[0]]=t[a[0]]||{},t[a[0]][a[1]]=a.length<3?e[o]:a[2](e[o])}if(e.global={...e.global||{},...t},"domains"in e&&wn(e.domains))for(const o in e.domains){if(!Object.prototype.hasOwnProperty.call(e.domains,o))continue;if(!wn(e.domains[o]))continue;const t={};for(const a in e.domains[o])if(Object.prototype.hasOwnProperty.call(e.domains[o],a)&&!wn(e.domains[o][a])&&a in Cn){const s=Cn[a];t[s[0]]=t[s[0]]||{},t[s[0]][s[1]]=s.length<3?e.domains[o][a]:s[2](e.domains[o][a])}e.domains[o]={...e.domains[o],...t}}},Pn=(e,t)=>{const o=(e,t)=>{Object.keys(t).forEach((a=>{t[a]&&"object"===typeof t[a]?o(e[a]=e[a]||{},t[a]):e[a]=t[a]}))};o(e,t)},Dn=e=>{if("global"in e&&wn(e.global)){const t={php:{}},o={php:["phpServer","phpServerCustom","phpBackupServer","phpBackupServerCustom"]};for(const a in e.global)if(Object.prototype.hasOwnProperty.call(e.global,a)&&Object.prototype.hasOwnProperty.call(o,a))for(const s in e.global[a])Object.prototype.hasOwnProperty.call(e.global[a],s)&&o[a].includes(s)&&(t[a][s]=e.global[a][s]);for(const a in e.domains)Object.prototype.hasOwnProperty.call(e.domains,a)&&Pn(e.domains[a],t)}},zn=(e,t)=>{for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&"presets"!==o&&o in t&&wn(e[o]))for(const a in e[o])Object.prototype.hasOwnProperty.call(e[o],a)&&a in t[o]&&(t[o][a].value=e[o][a],t[o][a].computed=e[o][a])},En=(e,t,o,a)=>new Promise((s=>{const l=G.parse(e,{ignoreQueryPrefix:!0,allowDots:!0,parseArrays:!1,decoder(e){if(e=decodeURIComponent(e),/^(\d+|\d*\.\d+)$/.test(e))return parseFloat(e);let t={true:!0,false:!1,null:null,undefined:void 0};return e in t?t[e]:e}});if(Sn(l),Dn(l),"domains"in l&&wn(l.domains)){const e=Object.keys(l.domains).map((e=>parseInt(e))).filter((e=>!isNaN(e)));for(let o=0;o<Math.max(...e)+1;o++){if(!e.includes(o)||!wn(l.domains[o])){t.push(j($n.delegated));continue}const s=t[t.push(j($n.delegated))-1];s.hasUserInteraction=!0,a((()=>zn(l.domains[o],s)))}}else t.push(j($n.delegated));"global"in l&&wn(l.global)&&zn(l.global,o),a((()=>a((()=>s(l)))))})),Tn=e=>{if("object"===typeof window&&"object"===typeof window.navigator){const t=new Set;Array.isArray(window.navigator.languages)&&window.navigator.languages.forEach((e=>t.add(e))),"string"===typeof window.navigator.language&&t.add(window.navigator.language),Intl&&"DateTimeFormat"in Intl&&"und"!==Intl.DateTimeFormat().resolvedOptions().locale&&t.add(Intl.DateTimeFormat().resolvedOptions().locale);const o=[...t.values()].find((t=>e.includes(h(t,"-"))));if(o)return h(o,"-");const a=e.reduce(((e,t)=>{const o=t.match(/^[a-z]+/)[0];return o in e||(e[o]=t),e}),{}),s=[...t.values()].find((e=>Object.keys(a).includes(e.split("-")[0].toLowerCase())));return!!s&&a[s.split("-")[0].toLowerCase()]}},Vn=e=>wn(e)||Array.isArray(e)&&e.every((e=>Array.isArray(e)&&2===e.length)),Rn=e=>{let t=0;for(const o of e){if(Vn(o[1]))return t;o[0].length>t&&!o[0].startsWith("#")&&(t=o[0].length)}return t},On=(e,t)=>{const o=wn(e)?Object.entries(e):e;if(!Array.isArray(o)||!o.every((e=>Array.isArray(e)&&2===e.length)))return"";let a="",s=Rn(o);const l="    ".repeat(t);let i=!1;for(let n=0;n<o.length;n++){const e=o[n];if(Vn(e[1])){a+="\n"+l+e[0]+" {\n",a+=On(e[1],t+1),a+=l+"}\n\n",i=!0;continue}i&&(s=Rn(o.slice(n)),i=!1);const d=Array.isArray(e[1])?e[1]:[e[1]],r=s-e[0].length+1,p=" ".repeat(Math.max(r,0));d.forEach((t=>{const o=t.toString();a+=l+(e[0]+p+o).trim()+(e[0].startsWith("#")?"":";")+"\n"}))}return a},Un=e=>{let t,o=On(e,0);o=o.replace(/\n\n\n/g,"\n\n").replace(/^([^\S\r\n]*[^#\s].*[^\n])\n([^\S\r\n]*)#/gm,"$1\n\n$2#").replace(/^([^\S\r\n]*#.*)(?:\n[^\S\r\n]*)+\n([^\S\r\n]*.*{)/gm,"$1\n$2").replace(/^([^\S\r\n]*#.*\n[^\S\r\n]*#.*\n)([^\S\r\n]*[^#\s])/gm,"$1\n$2").replace(/^([^\S\r\n]*.*{)\n[^\S\r\n]*(})/gm,"$1$2");do{t=/^([^\S\r\n]*})(?:\n[^\S\r\n]*)+\n([^\S\r\n]*})/m.exec(o),t&&(o=o.slice(0,t.index)+t[1]+"\n"+t[2]+o.slice(t.index+t[0].length))}while(t);return o.trim()};var Hn=o(6358);const jn=e=>Hn.stringify(e),An={modern:{name:"Mozilla Modern",protocols:["TLSv1.3"],ciphers:[],server_preferred_order:!1,dh_param_size:!1,oldest_clients:["Firefox 63","Android 10.0","Chrome 70","Edge 75","Java 11","OpenSSL 1.1.1","Opera 57","Safari 12.1"]},intermediate:{name:"Mozilla Intermediate",protocols:["TLSv1.2","TLSv1.3"],ciphers:["ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","DHE-RSA-AES128-GCM-SHA256","DHE-RSA-AES256-GCM-SHA384"],server_preferred_order:!1,dh_param_size:2048,oldest_clients:["Firefox 27","Android 4.4.2","Chrome 31","Edge","IE 11 on Windows 7","Java 8u31","OpenSSL 1.0.1","Opera 20","Safari 9"]},old:{name:"Mozilla Old",protocols:["TLSv1","TLSv1.1","TLSv1.2","TLSv1.3"],ciphers:["ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","DHE-RSA-AES128-GCM-SHA256","DHE-RSA-AES256-GCM-SHA384","DHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256","ECDHE-ECDSA-AES128-SHA","ECDHE-RSA-AES128-SHA","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES256-SHA","ECDHE-RSA-AES256-SHA","DHE-RSA-AES128-SHA256","DHE-RSA-AES256-SHA256","AES128-GCM-SHA256","AES256-GCM-SHA384","AES128-SHA256","AES256-SHA256","AES128-SHA","AES256-SHA","DES-CBC3-SHA"],server_preferred_order:!0,dh_param_size:1024,oldest_clients:["Firefox 1","Android 2.3","Chrome 1","Edge 12","IE8 on Windows XP","Java 6","OpenSSL 0.9.8","Opera 5","Safari 1"]}},Ln=(e,t)=>"letsEncrypt"===e.https.certType.computed?`${t.https.letsEncryptCertRoot.computed.replace(/\/+$/,"")}/${e.server.domain.computed}/fullchain.pem`:e.https.sslCertificate.computed?e.https.sslCertificate.computed:`${t.nginx.nginxConfigDirectory.computed.replace(/\/+$/,"")}/ssl/${e.server.domain.computed}.crt`,Fn=(e,t)=>"letsEncrypt"===e.https.certType.computed?`${t.https.letsEncryptCertRoot.computed.replace(/\/+$/,"")}/${e.server.domain.computed}/privkey.pem`:e.https.sslCertificateKey.computed?e.https.sslCertificateKey.computed:`${t.nginx.nginxConfigDirectory.computed.replace(/\/+$/,"")}/ssl/${e.server.domain.computed}.key`,Wn=(e,t)=>t.logging.accessLog.computed.replace(/([^/]+)\.log$/,`${e.server.domain.computed}.$1.log`),In=(e,t)=>t.logging.errorLog.computed.replace(/([^/]+)\.log (.+)$/,`${e.server.domain.computed}.$1.log $2`),Mn="text/plain text/css text/xml application/json application/javascript application/rss+xml application/atom+xml image/svg+xml",Bn={assets:"css(\\.map)?|js(\\.map)?",fonts:"ttf|ttc|otf|eot|woff2?",svg:"svgz?",images:"jpe?g|png|gif|ico|cur|heic|webp|tiff?",audio:"mp3|m4a|aac|ogg|midi?|wav",video:"mp4|mov|webm|mpe?g|avi|ogv|flv|wmv",docs:"pdf|docx?|dotx?|docm|dotm|xlsx?|xltx?|xlsm|xltm|pptx?|potx?|pptm|potm|ppsx?",html:"html?"},Nn=e=>e.every((e=>e.https.hsts.computed))&&(e.every((e=>e.https.hstsSubdomains.computed))||e.every((e=>!e.https.hstsSubdomains.computed)))&&(e.every((e=>e.https.hstsPreload.computed))||e.every((e=>!e.https.hstsPreload.computed))),qn=(e,t)=>{const o=[];if(o.push(["# security headers",""]),o.push(["add_header X-XSS-Protection",'"1; mode=block" always']),o.push(["add_header X-Content-Type-Options",'"nosniff" always']),o.push(["add_header Referrer-Policy",`"${t.security.referrerPolicy.computed}" always`]),t.security.contentSecurityPolicy.computed&&o.push(["add_header Content-Security-Policy",`"${t.security.contentSecurityPolicy.computed}" always`]),t.security.permissionsPolicy.computed&&o.push(["add_header Permissions-Policy",`"${t.security.permissionsPolicy.computed}" always`]),Nn(e)){const t=e.length&&e[0].https.hstsSubdomains.computed,a=e.length&&e[0].https.hstsPreload.computed;o.push(["add_header Strict-Transport-Security",`"max-age=31536000${t?"; includeSubDomains":""}${a?"; preload":""}" always`])}return o.push(["# . files",""]),o.push(["location ~ /\\.(?!well-known)",{deny:"all"}]),t.security.securityTxt.computed&&(o.push(["# security.txt",""]),o.push(["location /security.txt",{return:"301 /.well-known/security.txt"}]),o.push(["location = /.well-known/security.txt",{alias:`${t.security.securityTxtPath.value}`}])),o},Gn=e=>{const t={"# default uwsgi_params":"",include:"uwsgi_params","# uwsgi settings":""};return t.uwsgi_pass=("/"===e.python.pythonServer.computed[0]?"unix:":"")+e.python.pythonServer.computed,t["uwsgi_param Host"]="$host",t["uwsgi_param X-Real-IP"]="$remote_addr",t["uwsgi_param X-Forwarded-For"]="$proxy_add_x_forwarded_for",t["uwsgi_param X-Forwarded-Proto"]="$http_x_forwarded_proto",t},Yn=e=>{const t={proxy_http_version:"1.1",proxy_cache_bypass:"$http_upgrade","# Proxy SSL":"",proxy_ssl_server_name:"on","# Proxy headers":"","proxy_set_header Upgrade":"$http_upgrade","proxy_set_header Connection":"$connection_upgrade","proxy_set_header X-Real-IP":"$remote_addr","proxy_set_header Forwarded":"$proxy_add_forwarded"};return"passOn"==e.reverseProxy.proxyCoexistenceXForwarded.computed?(t["proxy_set_header X-Forwarded-For"]="$proxy_add_x_forwarded_for",t["proxy_set_header X-Forwarded-Proto"]="$scheme",t["proxy_set_header X-Forwarded-Host"]="$host",t["proxy_set_header X-Forwarded-Port"]="$server_port"):(t["proxy_set_header X-Forwarded-For"]='""',t["proxy_set_header X-Forwarded-Proto"]='""',t["proxy_set_header X-Forwarded-Host"]='""',t["proxy_set_header X-Forwarded-Port"]='""'),t["# Proxy timeouts"]="",t["proxy_connect_timeout"]=e.reverseProxy.proxyConnectTimeout.computed,t["proxy_send_timeout"]=e.reverseProxy.proxySendTimeout.computed,t["proxy_read_timeout"]=e.reverseProxy.proxyReadTimeout.computed,t},Zn=e=>{const t=e.some((e=>e.routing.legacyPhpRouting.computed)),o={};return t&&(o["# split path"]="",o.fastcgi_split_path_info="^(.+\\.php)(/.+)$",o.set="$_fastcgi_path_info $fastcgi_path_info"),o["# 404"]="",o.try_files="$fastcgi_script_name =404",o["# default fastcgi_params"]="",o.include="fastcgi_params",o["# fastcgi settings"]="",o.fastcgi_index="index.php",o.fastcgi_buffers="8 16k",o.fastcgi_buffer_size="32k",o["# fastcgi params"]="",o["fastcgi_param DOCUMENT_ROOT"]="$realpath_root",o["fastcgi_param SCRIPT_FILENAME"]="$realpath_root$fastcgi_script_name",t&&(o["fastcgi_param PATH_INFO"]="$_fastcgi_path_info"),o["fastcgi_param PHP_ADMIN_VALUE"]='"open_basedir=$base/:/usr/lib/php/:/tmp/"',o},Kn=(e,t)=>{const o={"# favicon.ico":"","location = /favicon.ico":{log_not_found:"off"}};if(t.logging.accessLog.computed&&(o["location = /favicon.ico"].access_log="off"),o["# robots.txt"]="",o["location = /robots.txt"]={log_not_found:"off"},t.logging.accessLog.computed&&(o["location = /robots.txt"].access_log="off"),t.performance.disableHtmlCaching.computed){o["# Disable HTML caching"]="";const e=`location ~* \\.(?:${Bn.html})$`;o[e]={add_header:'Cache-Control "no-cache"'},t.logging.accessLog.computed&&(o[e].access_log="off")}if(e.every((e=>e.routing.root.computed))){if(t.performance.assetsExpiration.computed===t.performance.mediaExpiration.computed){if(t.performance.assetsExpiration.computed){o["# assets, media"]="";const e=`location ~* \\.(?:${Bn.assets}|${Bn.images}|${Bn.audio}|${Bn.video})$`;o[e]={expires:t.performance.assetsExpiration.computed},t.logging.accessLog.computed&&(o[e].access_log="off")}}else{if(t.performance.assetsExpiration.computed){o["# assets"]="";const e=`location ~* \\.(?:${Bn.assets})$`;o[e]={expires:t.performance.assetsExpiration.computed},t.logging.accessLog.computed&&(o[e].access_log="off")}if(t.performance.mediaExpiration.computed){o["# media"]="";const e=`location ~* \\.(?:${Bn.images}|${Bn.audio}|${Bn.video})$`;o[e]={expires:t.performance.mediaExpiration.computed},t.logging.accessLog.computed&&(o[e].access_log="off")}}if(t.performance.svgExpiration.computed===t.performance.fontsExpiration.computed){if(t.performance.svgExpiration.computed){o["# svg, fonts"]="";const e=`location ~* \\.(?:${Bn.svg}|${Bn.fonts})$`;o[e]={add_header:'Access-Control-Allow-Origin "*"',expires:t.performance.svgExpiration.computed},t.logging.accessLog.computed&&(o[e].access_log="off")}}else{if(t.performance.svgExpiration.computed){o["# svg"]="";const e=`location ~* \\.${Bn.svg}$`;o[e]={add_header:'Access-Control-Allow-Origin "*"',expires:t.performance.svgExpiration.computed},t.logging.accessLog.computed&&(o[e].access_log="off")}if(t.performance.fontsExpiration.computed){o["# fonts"]="";const e=`location ~* \\.${Bn.fonts}$`;o[e]={add_header:'Access-Control-Allow-Origin "*"',expires:t.performance.fontsExpiration.computed},t.logging.accessLog.computed&&(o[e].access_log="off")}}}return t.performance.gzipCompression.computed&&(o["# gzip"]="",o.gzip="on",o.gzip_vary="on",o.gzip_proxied="any",o.gzip_comp_level=6,o.gzip_types=Mn),t.performance.brotliCompression.computed&&(o["# brotli"]="",o.brotli="on",o.brotli_comp_level=6,o.brotli_types=Mn),o},Xn=(e,t=!1)=>{const o=`php${t?"Backup":""}Server`;return"custom"===e.php[o].computed?e.php[`${o}Custom`].computed:("/"===e.php[o].computed[0]?"unix:":"")+e.php[o].computed},Qn=e=>`php_${e.server.domain.computed.replace(/\./g,"_")}`,Jn=(e,t)=>{const o={"# WordPress: allow TinyMCE":"","location = /wp-includes/js/tinymce/wp-tinymce.php":{include:"nginxconfig.io/php_fastcgi.conf"},"# WordPress: deny wp-content, wp-includes php files":"","location ~* ^/(?:wp-content|wp-includes)/.*\\.php$":{deny:"all"},"# WordPress: deny wp-content/uploads nasty stuff":"","location ~* ^/wp-content/uploads/.*\\.(?:s?html?|php|js|swf)$":{deny:"all"},"# WordPress: SEO plugin":"","location ~* ^/wp-content/plugins/wordpress-seo(?:-premium)?/css/main-sitemap\\.xsl$":{},"# WordPress: deny wp-content/plugins (except earlier rules)":"","location ~ ^/wp-content/plugins":{deny:"all"},"# WordPress: deny general stuff":"","location ~* ^/(?:xmlrpc\\.php|wp-links-opml\\.php|wp-config\\.php|wp-config-sample\\.php|readme\\.html|license\\.txt)$":{deny:"all"}};return e.security.limitReq.computed&&(o["# WordPress: throttle wp-login.php"]="",o["location = /wp-login.php"]={limit_req:"zone=login burst=2 nodelay",include:"nginxconfig.io/php_fastcgi.conf"},t.php.wordPressRules.computed&&(o["location = /wp-login.php"].fastcgi_pass=""!==t.php.phpBackupServer.computed?Qn(t):Xn(t))),o},ed=e=>{const t={"# Drupal: deny private files":"","location ~ ((^|/)\\.|^.*\\.yml$|^/sites/.*/private/|^/sites/[^/]+/[^/]*settings.*\\.php$)":{deny:"all",return:"404"},"# Drupal: deny php in files":"","location ~ ^/sites/[^/]+/files/.*\\.php$":{deny:"all"},"# Drupal: deny php in vendor":"","location ~ /vendor/.*\\.php$":{deny:"all"},"# Drupal: allow image styles to be handled by the CMS":"","location ~ ^/sites/[^/]+/files/styles/":{try_files:"$uri /index.php?q=$uri&$args"},"# Drupal: handle private files":"","location ~ ^(/[a-z\\-]+)?/system/files/":{try_files:"$uri /index.php?$query_string"}};return e.security.limitReq.computed&&(t["# Drupal: throttle user functions"]="",t["location ~ ^/user/(?:login|register|password)"]={limit_req:"zone=login burst=2 nodelay",try_files:"$uri /index.php?$query_string"}),t},td=()=>{const e={"# Magento: setup":"","location ^~ /setup":{root:"$base","# allow index.php":"","location ~ ^/setup/index.php":{include:"nginxconfig.io/php_fastcgi.conf"},"# deny everything except pub":"","location ~ ^/setup/(?!pub/).":{deny:"all"}},"# Magento: update":"","location ^~ /update":{root:"$base","# allow index.php":"","location ~ ^/update/index.php":{include:"nginxconfig.io/php_fastcgi.conf"},"# deny everything except pub":"","location ~ ^/update/(?!pub/).":{deny:"all"}},"# Magento: media files":"","location ^~ /media/":{try_files:"$uri $uri/ /get.php?$args","location ~* \\.(?:ico|jpg|jpeg|png|gif|svg|js|css|swf|eot|ttf|otf|woff|woff2)$":{expires:"+1y",add_header:'Cache-Control "public"',try_files:"$uri $uri/ /get.php?$args"},"location ~* \\.(?:zip|gz|gzip|bz2|csv|xml)$":{expires:"off",add_header:'Cache-Control "no-store"',try_files:"$uri $uri/ /get.php?$args"},"location ~ ^/media/theme_customization/.*\\.xml":{deny:"all"},"location ~ ^/media/(?:customer|downloadable|import)/":{deny:"all"}},"# Magento: static route":"","location @magento_static":{rewrite:"^/static/(version\\d*/)?(.*)$ /static.php?resource=$2 last"},"# Magento: static files":"","location ^~ /static/":{expires:"max",try_files:"$uri $uri/ @magento_static","location ~* \\.(ico|jpg|jpeg|png|gif|svg|js|css|swf|eot|ttf|otf|woff|woff2)$":{expires:"+1y",add_header:'Cache-Control "public"',try_files:"$uri $uri/ magento_static"},"location ~* .(zip|gz|gzip|bz2|csv|xml)$":{expires:"off",add_header:'Cache-Control "no-store"',try_files:"$uri $uri/ @magento_static"}},"# Magento: deny cron":"","location ~ cron\\.php":{deny:"all"}};return e},od=()=>{const e={"# Joomla: deny running scripts inside writable directories":"","location ~* /(images|cache|media|logs|tmp)/.*\\.(php|pl|py|jsp|asp|sh|cgi)$":{return:"403",error_page:"403 /403_error.html"},"# Joomla: caching of files":("",""),"location ~* \\.(ico|pdf|flv)$":{expires:"1y"},"location ~* \\.(js|css|png|jpg|jpeg|gif|swf|xml|txt)$":{expires:"14d"}};return e},ad=e=>{const t={"# ACME-challenge":""};return t["location ^~ /.well-known/acme-challenge/"]={root:e.https.letsEncryptRoot.computed.replace(/\/+$/,"")},t},sd=(e,t)=>{const o=[];return e.https.https.computed&&(o.push(["# SSL",""]),o.push(["ssl_certificate",Ln(e,t)]),o.push(["ssl_certificate_key",Fn(e,t)]),"letsEncrypt"===e.https.certType.computed&&o.push(["ssl_trusted_certificate",`${t.https.letsEncryptCertRoot.computed.replace(/\/+$/,"")}/${e.server.domain.computed}/chain.pem`])),o},ld=(e,t,o)=>{const a=[],s=("*"===e.server.listenIpv4.computed?"":`${e.server.listenIpv4.computed}:`)+"443",l=t.https.portReuse.computed&&!o.has(s);if(l&&o.add(s),a.push(["listen",`${s} ssl${e.https.http2.computed?" http2":""}${l?" reuseport":""}`]),e.https.http3.computed&&a.push(["listen",`${s} http3`]),e.server.listenIpv6.computed){const s=`[${e.server.listenIpv6.computed}]:443`,l=t.https.portReuse.computed&&!o.has(s);l&&o.add(s),a.push(["listen",`${s} ssl${e.https.http2.computed?" http2":""}${l?" reuseport":""}`]),e.https.http3.computed&&a.push(["listen",`${s} http3`])}return a},id=(e,t,o)=>{const a=[],s=("*"===e.server.listenIpv4.computed?"":`${e.server.listenIpv4.computed}:`)+"80",l=t.https.portReuse.computed&&!o.has(s);if(l&&o.add(s),a.push(["listen",`${s}${l?" reuseport":""}`]),e.server.listenIpv6.computed){const s=`[${e.server.listenIpv6.computed}]:80`,l=t.https.portReuse.computed&&!o.has(s);l&&o.add(s),a.push(["listen",`${s}${l?" reuseport":""}`])}return a},nd=(e,t,o)=>e.https.https.computed?ld(e,t,o):id(e,t,o),dd=(e,t,o,a,s)=>{const l=[];return l.push(...id(e,t,o)),l.push(["server_name",a]),"letsEncrypt"===e.https.certType.computed?(t.tools.modularizedStructure.computed?l.push(["include","nginxconfig.io/letsencrypt.conf"]):l.push(...Object.entries(ad(t))),l.push(["location /",{return:`301 https://${s||a}$request_uri`}])):l.push(["return",`301 https://${s||a}$request_uri`]),l},rd=(e,t,o,a)=>{const s=[],l=[];if(e.https.https.computed&&e.https.forceHttps.computed||l.push(...id(e,o,a)),e.https.https.computed&&l.push(...ld(e,o,a)),l.push(["server_name",`${e.server.wwwSubdomain.computed?"www.":""}${e.server.domain.computed}`]),(e.php.php.computed||e.python.python.computed&&e.python.djangoRules.computed)&&(l.push(["set",`$base ${e.server.path.computed}`]),e.routing.root.computed&&l.push(["root",`$base${e.server.documentRoot.computed}`])),e.php.php.computed||e.python.python.computed&&e.python.djangoRules.computed||!e.routing.root.computed||l.push(["root",`${e.server.path.computed}${e.server.documentRoot.computed}`]),l.push(...sd(e,o)),e.onion.onionLocation.computed&&(l.push(["# Onion services",""]),l.push(["add_header Onion-Location",`http://${e.onion.onionLocation.computed}$request_uri`])),!Nn(t)&&e.https.hsts.computed&&(l.push(["# HSTS",""]),l.push(["add_header Strict-Transport-Security",`"max-age=31536000${e.https.hstsSubdomains.computed?"; includeSubDomains":""}${e.https.hstsPreload.computed?"; preload":""}" always`])),o.tools.modularizedStructure.computed?(l.push(["# security",""]),l.push(["include","nginxconfig.io/security.conf"])):l.push(...qn(t,o)),Object.keys(e.restrict).find((t=>e.restrict[t].computed&&"responseCode"!==t))){const t=Object.keys(e.restrict).filter((t=>!e.restrict[t].computed&&"responseCode"!==t)).map((e=>e.replace("Method","").toUpperCase()));l.push(["# restrict methods",""]),l.push([`if ($request_method !~ ^(${t.join("|")})$)`,{return:`'${e.restrict.responseCode.computed}'`}])}if((e.logging.accessLog.computed||e.logging.errorLog.computed)&&(l.push(["# logging",""]),e.logging.accessLog.computed&&l.push(["access_log",Wn(e,o)+(o.logging.cloudflare.computed?" cloudflare":"")]),e.logging.errorLog.computed&&l.push(["error_log",In(e,o)])),"index.php"===e.routing.index.computed&&(l.push(["# index.php",""]),l.push(["index","index.php"])),!e.routing.fallbackHtml.computed&&!e.routing.fallbackPhp.computed||e.reverseProxy.reverseProxy.computed&&"/"===e.reverseProxy.path.computed||(l.push([`# index.${e.routing.fallbackHtml.computed?"html":e.routing.fallbackPhp.computed?"php":""} fallback`,""]),l.push(["location /",{try_files:"$uri $uri/ /index."+(e.routing.fallbackHtml.computed?"html":e.routing.fallbackPhp.computed?"php?$query_string":"")}])),e.routing.fallbackHtml.computed&&e.routing.fallbackPhp.computed&&(l.push(["# index.php fallback",""]),l.push([`location ~ ^${e.routing.fallbackPhpPath.computed}`,{try_files:"$uri $uri/ /index.php?$query_string"}])),e.python.python.computed&&(o.tools.modularizedStructure.computed?l.push(["location /",{include:"nginxconfig.io/python_uwsgi.conf"}]):l.push(["location /",Gn(o)]),e.python.djangoRules.computed&&(l.push(["# Django media",""]),l.push(["location /media/",{alias:"$base/media/"}]),l.push(["# Django static",""]),l.push(["location /static/",{alias:"$base/static/"}]))),e.reverseProxy.reverseProxy.computed){const t=[];t.push(["proxy_pass",e.reverseProxy.proxyPass.computed]),t.push(["proxy_set_header Host",e.reverseProxy.proxyHostHeader.computed]),o.tools.modularizedStructure.computed?t.push(["include","nginxconfig.io/proxy.conf"]):t.push(...Object.entries(Yn(o))),l.push(["# reverse proxy",""]),l.push([`location ${e.reverseProxy.path.computed}`,t])}if(o.tools.modularizedStructure.computed?(l.push(["# additional config",""]),l.push(["include","nginxconfig.io/general.conf"]),e.https.forceHttps.computed||"letsEncrypt"!==e.https.certType.computed||l.push(["include","nginxconfig.io/letsencrypt.conf"]),e.php.wordPressRules.computed&&l.push(["include",`nginxconfig.io/${e.server.domain.computed}.wordpress.conf`]),e.php.drupalRules.computed&&l.push(["include","nginxconfig.io/drupal.conf"]),e.php.magentoRules.computed&&l.push(["include","nginxconfig.io/magento.conf"]),e.php.joomlaRules.computed&&l.push(["include","nginxconfig.io/joomla.conf"])):(l.push(...Object.entries(Kn(t,o))),e.https.forceHttps.computed||"letsEncrypt"!==e.https.certType.computed||l.push(...Object.entries(ad(o))),e.php.wordPressRules.computed&&l.push(...Object.entries(Jn(o,e))),e.php.drupalRules.computed&&l.push(...Object.entries(ed(o))),e.php.magentoRules.computed&&l.push(...Object.entries(td())),e.php.joomlaRules.computed&&l.push(...Object.entries(od()))),e.php.php.computed){e.php.phpBackupServer.computed&&s.push([`upstream ${Qn(e)}`,{server:[Xn(e),`${Xn(e,!0)} backup`]}]),l.push(["# handle .php",""]);const a="location ~ "+(e.routing.legacyPhpRouting.computed?"[^/]\\.php(/|$)":"\\.php$"),i={fastcgi_pass:""!==e.php.phpBackupServer.computed?Qn(e):Xn(e)};o.tools.modularizedStructure.computed||e.php.wordPressRules.computed?l.push([a,{...i,include:"nginxconfig.io/php_fastcgi.conf"}]):l.push([a,{...i,...Zn(t)}])}if(s.push(["server",l]),e.server.cdnSubdomain.computed){const t=[];t.push(...nd(e,o,a)),t.push(["server_name",`cdn.${e.server.domain.computed}`]),t.push(["root",`${e.server.path.computed}${e.server.documentRoot.computed}`]),t.push(...sd(e,o)),t.push(["# disable access_log",""]),t.push(["access_log","off"]),o.performance.gzipCompression.computed&&(t.push(["# gzip",""]),t.push(["gzip","on"]),t.push(["gzip_vary","on"]),t.push(["gzip_proxied","any"]),t.push(["gzip_comp_level",6]),t.push(["gzip_types",Mn])),t.push(["# allow safe files",""]),t.push([`location ~* \\.(?:${Bn.assets}|${Bn.fonts}|${Bn.svg}|${Bn.images}|${Bn.audio}|${Bn.video}|${Bn.docs})$`,[["add_header",'Access-Control-Allow-Origin "*"'],["add_header",'Cache-Control "public"'],["expires","30d"]]]),t.push(["# deny everything else",""]),t.push(["location /",{deny:"all"}]),s.push(["# CDN",""]),s.push(["server",t])}if(e.server.redirectSubdomains.computed){const t=[];t.push(...nd(e,o,a)),t.push(["server_name",`${e.server.wwwSubdomain.computed?"":"*"}.${e.server.domain.computed}`]),t.push(...sd(e,o)),t.push(["return",`301 http${e.https.https.computed?"s":""}://${e.server.wwwSubdomain.computed?"www.":""}${e.server.domain.computed}$request_uri`]),s.push([`# ${e.server.wwwSubdomain.computed?"non-www, ":""}subdomains redirect`,""]),s.push(["server",t])}return e.https.forceHttps.computed&&(s.push(["# HTTP redirect",""]),e.server.wwwSubdomain.computed&&!e.server.redirectSubdomains.computed?(s.push(["server",dd(e,o,a,e.server.domain.computed,`www.${e.server.domain.computed}`)]),s.push(["server",dd(e,o,a,`www.${e.server.domain.computed}`)])):e.server.wwwSubdomain.computed||e.server.redirectSubdomains.computed||s.push(["server",dd(e,o,a,e.server.domain.computed)]),e.server.cdnSubdomain.computed&&s.push(["server",dd(e,o,a,`cdn.${e.server.domain.computed}`)]),e.server.redirectSubdomains.computed&&s.push(["server",dd(e,o,a,`.${e.server.domain.computed}`,`${e.server.wwwSubdomain.computed?"www.":""}${e.server.domain.computed}`)])),s},pd=(e,t)=>{const o={"# Generated by nginxconfig.io":"","# See nginxconfig.txt for the configuration share link":""};if(o.user=t.nginx.user.computed,t.nginx.pid.computed&&(o.pid=t.nginx.pid.computed),o.worker_processes=t.nginx.workerProcesses.computed,o.worker_rlimit_nofile=65535,o["# Load modules"]="",o.include=`${t.nginx.nginxConfigDirectory.computed.replace(/\/+$/,"")}/modules-enabled/*.conf`,o.events={multi_accept:"on",worker_connections:65535},o.http=[],o.http.push(["charset","utf-8"]),o.http.push(["sendfile","on"]),o.http.push(["tcp_nopush","on"]),o.http.push(["tcp_nodelay","on"]),t.security.serverTokens.computed||o.http.push(["server_tokens","off"]),t.logging.logNotFound.computed||o.http.push(["log_not_found","off"]),o.http.push(["types_hash_max_size",t.nginx.typesHashMaxSize.computed]),o.http.push(["types_hash_bucket_size",t.nginx.typesHashBucketSize.computed]),o.http.push(["client_max_body_size",`${t.nginx.clientMaxBodySize.computed}M`]),o.http.push(["# MIME",""]),o.http.push(["include","mime.types"]),o.http.push(["default_type","application/octet-stream"]),t.logging.cloudflare.computed){o.http.push(["# Log Format",""]);let e=["$remote_addr","-","$remote_user","[$time_local]",'"$request"',"$status","$body_bytes_sent",'"$http_referer"','"$http_user_agent"'];t.logging.cfRay.computed&&e.push("$http_cf_ray"),t.logging.cfConnectingIp.computed&&e.push("$http_cf_connecting_ip"),t.logging.xForwardedFor.computed&&e.push("$http_x_forwarded_for"),t.logging.xForwardedProto.computed&&e.push("$http_x_forwarded_proto"),t.logging.trueClientIp.computed&&e.push("$http_true_client_ip"),t.logging.cfIpCountry.computed&&e.push("$http_cf_ipcountry"),t.logging.cfVisitor.computed&&e.push("$http_cf_visitor"),t.logging.cdnLoop.computed&&e.push("$http_cdn_loop"),o.http.push(["log_format",`cloudflare '${e.join(" ")}'`])}o.http.push(["# Logging",""]),o.http.push(["access_log",t.logging.accessLog.computed.trim()+(t.logging.cloudflare.computed?" cloudflare":"")||"off"]),o.http.push(["error_log",t.logging.errorLog.computed.trim()||"/dev/null"]),t.security.limitReq.computed&&(o.http.push(["# Limits",""]),o.http.push(["limit_req_log_level","warn"]),o.http.push(["limit_req_zone","$binary_remote_addr zone=login:10m rate=10r/m"]));let a=!1;for(const s of e)if(s&&s.https&&s.https.https&&s.https.https.computed){a=!0;break}if(a){o.http.push(["# SSL",""]),o.http.push(["ssl_session_timeout","1d"]),o.http.push(["ssl_session_cache","shared:SSL:10m"]),o.http.push(["ssl_session_tickets","off"]);const e=An[t.https.sslProfile.computed];e&&(e.dh_param_size&&(o.http.push(["# Diffie-Hellman parameter for DHE ciphersuites",""]),o.http.push(["ssl_dhparam",`${t.nginx.nginxConfigDirectory.computed.replace(/\/+$/,"")}/dhparam.pem`])),o.http.push([`# ${e.name} configuration`,""]),o.http.push(["ssl_protocols",e.protocols.join(" ")]),e.ciphers.length&&o.http.push(["ssl_ciphers",e.ciphers.join(":")]),e.server_preferred_order&&o.http.push(["ssl_prefer_server_ciphers","on"])),o.http.push(["# OCSP Stapling",""]),o.http.push(["ssl_stapling","on"]),o.http.push(["ssl_stapling_verify","on"]);const a=[];t.https.ocspCloudflare.computed&&(["ipv4","both"].includes(t.https.ocspCloudflareType.computed)&&a.push("1.1.1.1","1.0.0.1"),["ipv6","both"].includes(t.https.ocspCloudflareType.computed)&&a.push("[2606:4700:4700::1111]","[2606:4700:4700::1001]")),t.https.ocspGoogle.computed&&(["ipv4","both"].includes(t.https.ocspGoogleType.computed)&&a.push("8.8.8.8","8.8.4.4"),["ipv6","both"].includes(t.https.ocspGoogleType.computed)&&a.push("[2001:4860:4860::8888]","[2001:4860:4860::8844]")),t.https.ocspOpenDns.computed&&(["ipv4","both"].includes(t.https.ocspOpenDnsType.computed)&&a.push("208.67.222.222","208.67.220.220"),["ipv6","both"].includes(t.https.ocspOpenDnsType.computed)&&a.push("[2620:119:35::35]","[2620:119:53::53]")),t.https.ocspQuad9.computed&&(["ipv4","both"].includes(t.https.ocspQuad9Type.computed)&&a.push("9.9.9.9","149.112.112.112"),["ipv6","both"].includes(t.https.ocspQuad9Type.computed)&&a.push("[2620:fe::fe]","[2620:fe::9]")),t.https.ocspVerisign.computed&&(["ipv4","both"].includes(t.https.ocspVerisignType.computed)&&a.push("64.6.64.6","64.6.65.6"),["ipv6","both"].includes(t.https.ocspVerisignType.computed)&&a.push("[2620:74:1b::1:1]","[2620:74:1c::2:2]")),a.length&&(o.http.push(["resolver",`${a.join(" ")} valid=60s`]),o.http.push(["resolver_timeout","2s"]))}if(e.some((e=>e.reverseProxy.reverseProxy.computed))&&(o.http.push(["# Connection header for WebSocket reverse proxy",""]),o.http.push(["map $http_upgrade $connection_upgrade",{default:"upgrade",'""':"close"}]),o.http.push(["map $remote_addr $proxy_forwarded_elem",{"# IPv4 addresses can be sent as-is":"","~^[0-9.]+$":'"for=$remote_addr"',"# IPv6 addresses need to be bracketed and quoted":"","~^[0-9A-Fa-f:.]+$":'"for=\\"[$remote_addr]\\""',"# Unix domain socket names cannot be represented in RFC 7239 syntax":"",default:'"for=unknown"'}]),o.http.push(["map $http_forwarded $proxy_add_forwarded",{"# If the incoming Forwarded header is syntactically valid, append to it":"","":'"~^(,[ \\\\t]*)*([!#$%&\'*+.^_`|~0-9A-Za-z-]+=([!#$%&\'*+.^_`|~0-9A-Za-z-]+|\\"([\\\\t \\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E\\\\x80-\\\\xFF]|\\\\\\\\[\\\\t \\\\x21-\\\\x7E\\\\x80-\\\\xFF])*\\"))?(;([!#$%&\'*+.^_`|~0-9A-Za-z-]+=([!#$%&\'*+.^_`|~0-9A-Za-z-]+|\\"([\\\\t \\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E\\\\x80-\\\\xFF]|\\\\\\\\[\\\\t \\\\x21-\\\\x7E\\\\x80-\\\\xFF])*\\"))?)*([ \\\\t]*,([ \\\\t]*([!#$%&\'*+.^_`|~0-9A-Za-z-]+=([!#$%&\'*+.^_`|~0-9A-Za-z-]+|\\"([\\\\t \\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E\\\\x80-\\\\xFF]|\\\\\\\\[\\\\t \\\\x21-\\\\x7E\\\\x80-\\\\xFF])*\\"))?(;([!#$%&\'*+.^_`|~0-9A-Za-z-]+=([!#$%&\'*+.^_`|~0-9A-Za-z-]+|\\"([\\\\t \\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E\\\\x80-\\\\xFF]|\\\\\\\\[\\\\t \\\\x21-\\\\x7E\\\\x80-\\\\xFF])*\\"))?)*)?)*$" "$http_forwarded, $proxy_forwarded_elem"',"# Otherwise, replace it":"",default:'"$proxy_forwarded_elem"'}])),o.http.push(["# Load configs",""]),o.http.push(["include",[`${t.nginx.nginxConfigDirectory.computed.replace(/\/+$/,"")}/conf.d/*.conf`,t.tools.modularizedStructure.computed?`${t.nginx.nginxConfigDirectory.computed.replace(/\/+$/,"")}/sites-enabled/*`:""].filter((e=>e.length))]),!t.tools.modularizedStructure.computed){const a=new Set;for(const s of e)o.http.push([`# ${s.server.domain.computed}`,""]),o.http.push(...rd(s,e,t,a))}return o},cd=()=>({version:"3.3",services:{nginx:{build:{context:".",dockerfile:"Dockerfile"}}}}),ud=()=>"FROM nginx:latest\nCOPY . /etc/nginx/",hd=e=>{const t={};for(const o in e){if("presets"===o)continue;const a={};for(const t in e[o]){const s=e[o][t];s.value!==s.default&&(a[t]=s.value)}Object.keys(a).length&&(t[o]=a)}return t},md=(e,t)=>{const o={};o.domains=e.map((e=>hd(e[0]))).reduce(((e,t,o)=>(e[o]=t,e)),{});const a=hd(t);return Object.keys(a).length&&(o.global=a),o},gd=(e,t)=>{const o=md(e,t),a=G.stringify(o,{allowDots:!0});return`${a.length>1e3?"#":""}${a.length?"?":""}${a}`},fd=(e,t)=>{const o={};if(o["nginx.conf"]=Un(pd(e,t)),t.docker.dockerfile.computed&&(o["Dockerfile"]=ud()),t.docker.dockerCompose.computed&&(o["docker-compose.yaml"]=jn(cd())),t.tools.modularizedStructure.computed){const a="sites-"+(t.tools.symlinkVhost.computed?"available":"enabled"),s=new Set;for(const l of e)o[`${a}/${l.server.domain.computed}.conf`]=Un(rd(l,e,t,s)),e.some((e=>e.php.wordPressRules.computed))&&(o[`nginxconfig.io/${l.server.domain.computed}.wordpress.conf`]=Un(Jn(t,l)));e.some((e=>"letsEncrypt"===e.https.certType.computed))&&(o["nginxconfig.io/letsencrypt.conf"]=Un(ad(t))),o["nginxconfig.io/security.conf"]=Un(qn(e,t)),o["nginxconfig.io/general.conf"]=Un(Kn(e,t)),e.some((e=>e.php.php.computed))&&(o["nginxconfig.io/php_fastcgi.conf"]=Un(Zn(e))),e.some((e=>e.python.python.computed))&&(o["nginxconfig.io/python_uwsgi.conf"]=Un(Gn(t))),e.some((e=>e.reverseProxy.reverseProxy.computed))&&(o["nginxconfig.io/proxy.conf"]=Un(Yn(t))),e.some((e=>e.php.drupalRules.computed))&&(o["nginxconfig.io/drupal.conf"]=Un(ed(t))),e.some((e=>e.php.magentoRules.computed))&&(o["nginxconfig.io/magento.conf"]=Un(td())),e.some((e=>e.php.joomlaRules.computed))&&(o["nginxconfig.io/joomla.conf"]=Un(od()))}else e.some((e=>e.php.wordPressRules.computed))&&(o["nginxconfig.io/php_fastcgi.conf"]=Un(Zn(e)));const a=gd(e.map(((e,t)=>[e,t])).filter((e=>null!==e[0])),t);return o["nginxconfig.txt"]=`${window.location.protocol}//${window.location.host}${window.location.pathname}${a}`,o},bd={class:"panel"},vd={class:"tabs"},yd=["onClick"],_d={key:0,class:"fas fa-exclamation-triangle"},$d={class:"navigation-buttons"},wd=(0,$._)("i",{class:"fas fa-long-arrow-alt-left"},null,-1),xd=(0,$._)("i",{class:"fas fa-long-arrow-alt-right"},null,-1);function kd(e,t,o,a,s,l){return(0,$.wg)(),(0,$.iD)("div",bd,[(0,$._)("div",vd,[(0,$._)("ul",null,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(s.tabs,(t=>((0,$.wg)(),(0,$.iD)("li",{class:(0,w.C_)(l.tabClass(t.key))},[(0,$._)("a",{onClick:e=>l.showTab(t.key)},[(0,$.Uk)((0,w.zw)(e.$t(t.display))+(0,w.zw)(l.changes(t.key))+" ",1),l.warnings(t.key)?((0,$.wg)(),(0,$.iD)("i",_d)):(0,$.kq)("",!0)],8,yd)],2)))),256))])]),((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(s.tabs,(t=>((0,$.wg)(),(0,$.j4)((0,$.LL)(t),{key:t.key,ref_for:!0,ref:t.key,data:e.$props.data[t.key],style:(0,w.j5)({display:s.active===t.key?void 0:"none"}),class:"container"},null,8,["data","style"])))),128)),(0,$._)("div",$d,[!1!==l.previousTab?((0,$.wg)(),(0,$.iD)("a",{key:0,class:"button is-mini",onClick:t[0]||(t[0]=(...e)=>l.showPreviousTab&&l.showPreviousTab(...e))},[wd,(0,$.Uk)(),(0,$._)("span",null,(0,w.zw)(e.$t("common.back")),1)])):(0,$.kq)("",!0),!1!==l.nextTab?((0,$.wg)(),(0,$.iD)("a",{key:1,class:"button is-primary is-mini",onClick:t[1]||(t[1]=(...e)=>l.showNextTab&&l.showNextTab(...e))},[(0,$._)("span",null,(0,w.zw)(e.$t("common.next")),1),(0,$.Uk)(),xd])):(0,$.kq)("",!0)])])}const Cd={class:"field is-horizontal"},Sd={class:"field-label"},Pd={class:"label"},Dd={class:"field-body"},zd={class:"field"},Ed={class:"checkbox"},Td={key:0,class:"field is-horizontal is-aligned-top"},Vd={class:"field-label"},Rd={class:"label"},Od={class:"field-body"},Ud={class:"field"},Hd={class:"control"},jd={class:"text"},Ad={class:"field is-horizontal is-aligned-top"},Ld={class:"field-label"},Fd={class:"label"},Wd={class:"field-body"},Id={class:"field"},Md={class:"field"},Bd={class:"radio"},Nd={class:"field is-horizontal is-aligned-top"},qd={class:"field-label"},Gd={class:"label"},Yd={class:"field-body"},Zd={class:"field"},Kd={class:"checkbox"},Xd={key:0,class:"control field is-horizontal is-expanded"},Qd={class:"radio"},Jd={class:"checkbox"},er={key:1,class:"control field is-horizontal is-expanded"},tr={class:"radio"},or={class:"checkbox"},ar={key:2,class:"control field is-horizontal is-expanded"},sr={class:"radio"},lr={class:"checkbox"},ir={key:3,class:"control field is-horizontal is-expanded"},nr={class:"radio"},dr={class:"checkbox"},rr={key:4,class:"control field is-horizontal is-expanded"},pr={class:"radio"},cr={key:0,class:"field is-horizontal"},ur={class:"field-label"},hr={class:"label"},mr={class:"field-body"},gr={class:"field"},fr=["placeholder"],br={key:1,class:"field is-horizontal"},vr={class:"field-label"},yr={class:"label"},_r={class:"field-body"},$r={class:"field"},wr=["placeholder"];function xr(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck"),d=(0,$.up)("PrettyRadio");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",Cd,[(0,$._)("div",Sd,[(0,$._)("label",Pd,(0,w.zw)(e.$t("templates.globalSections.https.portReuse")),1)]),(0,$._)("div",Dd,[(0,$._)("div",zd,[(0,$._)("div",{class:(0,w.C_)("control"+(e.portReuseChanged?" is-changed":""))},[(0,$._)("div",Ed,[(0,$.Wm)(n,{modelValue:e.portReuse,"onUpdate:modelValue":t[0]||(t[0]=t=>e.portReuse=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.https.enableReuseOfPort")),1)])),_:1},8,["modelValue"])])],2)])])]),e.sslProfileEnabled?((0,$.wg)(),(0,$.iD)($.HY,{key:1},[(0,$._)("div",Ad,[(0,$._)("div",Ld,[(0,$._)("label",Fd,(0,w.zw)(e.$t("templates.globalSections.https.sslProfile")),1)]),(0,$._)("div",Wd,[(0,$._)("div",Id,[(0,$._)("div",Md,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.sslProfile.options,((o,a)=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.sslProfileChanged&&a===e.sslProfile?" is-changed":""))},[(0,$._)("div",Bd,[(0,$.Wm)(d,{modelValue:e.sslProfile,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sslProfile=t),value:a,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t(o)),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])])])]),(0,$._)("div",Nd,[(0,$._)("div",qd,[(0,$._)("label",Gd,(0,w.zw)(e.$t("templates.globalSections.https.ocspDnsResolvers")),1)]),(0,$._)("div",Yd,[(0,$._)("div",Zd,[(0,$._)("div",{class:(0,w.C_)("control"+(e.ocspCloudflareChanged?" is-changed":""))},[(0,$._)("div",Kd,[(0,$.Wm)(n,{modelValue:e.ocspCloudflare,"onUpdate:modelValue":t[2]||(t[2]=t=>e.ocspCloudflare=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.https.cloudflareResolver")),1)])),_:1},8,["modelValue"])])],2),e.$props.data.ocspCloudflare.computed?((0,$.wg)(),(0,$.iD)("div",Xd,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.ocspCloudflareType.options,((o,a)=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.ocspCloudflareTypeChanged&&a===e.ocspCloudflareType?" is-changed":""))},[(0,$._)("div",Qd,[(0,$.Wm)(d,{modelValue:e.ocspCloudflareType,"onUpdate:modelValue":t[3]||(t[3]=t=>e.ocspCloudflareType=t),value:a,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t(o)),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])):(0,$.kq)("",!0),(0,$._)("div",{class:(0,w.C_)("control"+(e.ocspGoogleChanged?" is-changed":""))},[(0,$._)("div",Jd,[(0,$.Wm)(n,{modelValue:e.ocspGoogle,"onUpdate:modelValue":t[4]||(t[4]=t=>e.ocspGoogle=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.https.googlePublicDns")),1)])),_:1},8,["modelValue"])])],2),e.$props.data.ocspGoogle.computed?((0,$.wg)(),(0,$.iD)("div",er,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.ocspGoogleType.options,((o,a)=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.ocspGoogleTypeChanged&&a===e.ocspGoogleType?" is-changed":""))},[(0,$._)("div",tr,[(0,$.Wm)(d,{modelValue:e.ocspGoogleType,"onUpdate:modelValue":t[5]||(t[5]=t=>e.ocspGoogleType=t),value:a,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t(o)),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])):(0,$.kq)("",!0),(0,$._)("div",{class:(0,w.C_)("control"+(e.ocspOpenDnsChanged?" is-changed":""))},[(0,$._)("div",or,[(0,$.Wm)(n,{modelValue:e.ocspOpenDns,"onUpdate:modelValue":t[6]||(t[6]=t=>e.ocspOpenDns=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.https.openDns")),1)])),_:1},8,["modelValue"])])],2),e.$props.data.ocspOpenDns.computed?((0,$.wg)(),(0,$.iD)("div",ar,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.ocspOpenDnsType.options,((o,a)=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.ocspOpenDnsTypeChanged&&a===e.ocspOpenDnsType?" is-changed":""))},[(0,$._)("div",sr,[(0,$.Wm)(d,{modelValue:e.ocspOpenDnsType,"onUpdate:modelValue":t[7]||(t[7]=t=>e.ocspOpenDnsType=t),value:a,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t(o)),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])):(0,$.kq)("",!0),(0,$._)("div",{class:(0,w.C_)("control"+(e.ocspQuad9Changed?" is-changed":""))},[(0,$._)("div",lr,[(0,$.Wm)(n,{modelValue:e.ocspQuad9,"onUpdate:modelValue":t[8]||(t[8]=t=>e.ocspQuad9=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.https.quad9")),1)])),_:1},8,["modelValue"])])],2),e.$props.data.ocspQuad9.computed?((0,$.wg)(),(0,$.iD)("div",ir,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.ocspQuad9Type.options,((o,a)=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.ocspQuad9TypeChanged&&a===e.ocspQuad9Type?" is-changed":""))},[(0,$._)("div",nr,[(0,$.Wm)(d,{modelValue:e.ocspQuad9Type,"onUpdate:modelValue":t[9]||(t[9]=t=>e.ocspQuad9Type=t),value:a,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t(o)),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])):(0,$.kq)("",!0),(0,$._)("div",{class:(0,w.C_)("control"+(e.ocspVerisignChanged?" is-changed":""))},[(0,$._)("div",dr,[(0,$.Wm)(n,{modelValue:e.ocspVerisign,"onUpdate:modelValue":t[10]||(t[10]=t=>e.ocspVerisign=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.https.verisign")),1)])),_:1},8,["modelValue"])])],2),e.$props.data.ocspVerisign.computed?((0,$.wg)(),(0,$.iD)("div",rr,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.ocspVerisignType.options,((o,a)=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.ocspVerisignTypeChanged&&a===e.ocspVerisignType?" is-changed":""))},[(0,$._)("div",pr,[(0,$.Wm)(d,{modelValue:e.ocspVerisignType,"onUpdate:modelValue":t[11]||(t[11]=t=>e.ocspVerisignType=t),value:a,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t(o)),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])):(0,$.kq)("",!0)])])]),e.letsEncryptRootEnabled?((0,$.wg)(),(0,$.iD)("div",cr,[(0,$._)("div",ur,[(0,$._)("label",hr,(0,w.zw)(e.$t("templates.globalSections.https.letsEncryptWebroot")),1)]),(0,$._)("div",mr,[(0,$._)("div",gr,[(0,$._)("div",{class:(0,w.C_)("control"+(e.letsEncryptRootChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.letsEncryptRoot=t),class:"input",type:"text",placeholder:e.$props.data.letsEncryptRoot.default},null,8,fr),[[a.nr,e.letsEncryptRoot]])],2)])])])):(0,$.kq)("",!0),e.letsEncryptCertRootEnabled?((0,$.wg)(),(0,$.iD)("div",br,[(0,$._)("div",vr,[(0,$._)("label",yr,(0,w.zw)(e.$t("templates.globalSections.https.letsEncryptCertRoot")),1)]),(0,$._)("div",_r,[(0,$._)("div",$r,[(0,$._)("div",{class:(0,w.C_)("control"+(e.letsEncryptCertRootChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.letsEncryptCertRoot=t),class:"input",type:"text",placeholder:e.$props.data.letsEncryptCertRoot.default},null,8,wr),[[a.nr,e.letsEncryptCertRoot]])],2)])])])):(0,$.kq)("",!0)],64)):((0,$.wg)(),(0,$.iD)("div",Td,[(0,$._)("div",Vd,[(0,$._)("label",Rd,(0,w.zw)(e.$t("templates.globalSections.https.sslProfile")),1)]),(0,$._)("div",Od,[(0,$._)("div",Ud,[(0,$._)("div",Hd,[(0,$._)("label",jd,(0,w.zw)(e.$t("templates.globalSections.https.httpsMustBeEnabledOnOneSite")),1)])])])]))])}const kr={default:"ipv4",options:{ipv4:"templates.globalSections.https.ipv4Only",ipv6:"templates.globalSections.https.ipv6Only",both:"templates.globalSections.https.ipv4AndIpv6"},enabled:!0},Cr=e=>{e.enabled&&(Object.keys(e.options).includes(e.computed)||(e.computed=e.default))},Sr={portReuse:{default:!1,enabled:!0},sslProfile:{default:"intermediate",options:{modern:"templates.globalSections.https.mozillaModern",intermediate:"templates.globalSections.https.mozillaIntermediate",old:"templates.globalSections.https.mozillaOld"},enabled:!0},ocspCloudflare:{default:!0,enabled:!0},ocspCloudflareType:A()(kr),ocspGoogle:{default:!0,enabled:!0},ocspGoogleType:A()(kr),ocspOpenDns:{default:!0,enabled:!0},ocspOpenDnsType:A()(kr),ocspQuad9:{default:!1,enabled:!0},ocspQuad9Type:A()(kr),ocspVerisign:{default:!1,enabled:!0},ocspVerisignType:A()(kr),letsEncryptRoot:{default:"/var/www/_letsencrypt/",enabled:!0},letsEncryptCertRoot:{default:"/etc/letsencrypt/live/",enabled:!0}},Pr={name:"GlobalHTTPS",display:"common.https",key:"https",delegated:ce(Sr),components:{PrettyCheck:mt,PrettyRadio:Eo},props:{data:Object},computed:ue(Sr,"https"),watch:{"$props.data.sslProfile":{handler:Cr,deep:!0},"$props.data.ocspCloudflareType":{handler:Cr,deep:!0},"$props.data.ocspGoogleType":{handler:Cr,deep:!0},"$props.data.ocspOpenDnsType":{handler:Cr,deep:!0},"$props.data.ocspQuad9Type":{handler:Cr,deep:!0},"$props.data.ocspVerisignType":{handler:Cr,deep:!0},"$parent.$parent.$data.domains":{handler(e){let t=!1,o=!1;for(const a of e)a&&a.https&&a.https.https&&a.https.https.computed&&(this.$props.data.sslProfile.enabled=!0,this.$props.data.sslProfile.computed=this.$props.data.sslProfile.value,this.$props.data.ocspCloudflare.enabled=!0,this.$props.data.ocspCloudflare.computed=this.$props.data.ocspCloudflare.value,this.$props.data.ocspGoogle.enabled=!0,this.$props.data.ocspGoogle.computed=this.$props.data.ocspGoogle.value,this.$props.data.ocspOpenDns.enabled=!0,this.$props.data.ocspOpenDns.computed=this.$props.data.ocspOpenDns.value,this.$props.data.letsEncryptRoot.enabled=!0,this.$props.data.letsEncryptRoot.computed=this.$props.data.letsEncryptRoot.value,t=!0),a&&a.https&&a.https.certType&&"letsEncrypt"===a.https.certType.computed&&(this.$props.data.letsEncryptRoot.enabled=!0,this.$props.data.letsEncryptRoot.computed=this.$props.data.letsEncryptRoot.value,o=!0);t||(this.$props.data.sslProfile.enabled=!1,this.$props.data.sslProfile.computed="",this.$props.data.ocspCloudflare.enabled=!1,this.$props.data.ocspCloudflare.computed=!1,this.$props.data.ocspGoogle.enabled=!1,this.$props.data.ocspGoogle.computed=!1,this.$props.data.ocspOpenDns.enabled=!1,this.$props.data.ocspOpenDns.computed=!1,this.$props.data.letsEncryptRoot.enabled=!1,this.$props.data.letsEncryptRoot.computed=""),o||(this.$props.data.letsEncryptRoot.enabled=!1,this.$props.data.letsEncryptRoot.computed="")},deep:!0}}},Dr=(0,ge.Z)(Pr,[["render",xr]]),zr=Dr,Er={class:"field is-horizontal"},Tr=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"Referrer-Policy")],-1),Vr={class:"field-body"},Rr={class:"field"},Or=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"Content-Security-Policy")],-1),Ur={class:"field-body"},Hr={class:"field"},jr=["placeholder"],Ar={key:0,class:"control"},Lr={class:"text message is-warning"},Fr=["innerHTML"],Wr={class:"field is-horizontal"},Ir=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"Permissions-Policy")],-1),Mr={class:"field-body"},Br={class:"field"},Nr=["placeholder"],qr={class:"field is-horizontal"},Gr=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"server_tokens")],-1),Yr={class:"field-body"},Zr={class:"field"},Kr={class:"checkbox"},Xr={class:"field is-horizontal"},Qr=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"limit_req")],-1),Jr={class:"field-body"},ep={class:"field"},tp={class:"checkbox"},op={class:"field is-horizontal"},ap=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"security.txt")],-1),sp={class:"field-body"},lp={class:"field"},ip={class:"checkbox"},np={key:0,class:"field is-horizontal"},dp=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"security.txt path")],-1),rp={class:"field-body"},pp={class:"field"},cp=["placeholder"];function up(e,t,o,s,l,i){const n=(0,$.up)("VueSelect"),d=(0,$.up)("PrettyCheck");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",Er,[Tr,(0,$._)("div",Vr,[(0,$._)("div",Rr,[(0,$._)("div",{class:(0,w.C_)("control"+(e.referrerPolicyChanged?" is-changed":""))},[(0,$.Wm)(n,{modelValue:e.referrerPolicy,"onUpdate:modelValue":t[0]||(t[0]=t=>e.referrerPolicy=t),options:e.$props.data.referrerPolicy.options,clearable:!1},null,8,["modelValue","options"])],2)])])]),(0,$._)("div",{class:(0,w.C_)("field is-horizontal"+(i.hasWordPress&&!e.hasUnsafeEval?" is-aligned-top":""))},[Or,(0,$._)("div",Ur,[(0,$._)("div",Hr,[(0,$._)("div",{class:(0,w.C_)("control"+(e.contentSecurityPolicyChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.contentSecurityPolicy=t),class:"input",type:"text",placeholder:e.$props.data.contentSecurityPolicy.default},null,8,jr),[[a.nr,e.contentSecurityPolicy]])],2),i.hasWordPress&&!i.hasWordPressUnsafeEval?((0,$.wg)(),(0,$.iD)("div",Ar,[(0,$._)("label",Lr,[(0,$._)("span",{class:"message-body",innerHTML:e.$t("templates.globalSections.security.whenUsingWordPressUnsafeEvalIsOftenRequiredToAllowFunctionality")},null,8,Fr)])])):(0,$.kq)("",!0)])])],2),(0,$._)("div",Wr,[Ir,(0,$._)("div",Mr,[(0,$._)("div",Br,[(0,$._)("div",{class:(0,w.C_)("control"+(e.permissionsPolicyChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.permissionsPolicy=t),class:"input",type:"text",placeholder:e.$props.data.permissionsPolicy.default},null,8,Nr),[[a.nr,e.permissionsPolicy]])],2)])])]),(0,$._)("div",qr,[Gr,(0,$._)("div",Yr,[(0,$._)("div",Zr,[(0,$._)("div",{class:(0,w.C_)("control"+(e.serverTokensChanged?" is-changed":""))},[(0,$._)("div",Kr,[(0,$.Wm)(d,{modelValue:e.serverTokens,"onUpdate:modelValue":t[3]||(t[3]=t=>e.serverTokens=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("common.enable")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",Xr,[Qr,(0,$._)("div",Jr,[(0,$._)("div",ep,[(0,$._)("div",{class:(0,w.C_)("control"+(e.limitReqChanged?" is-changed":""))},[(0,$._)("div",tp,[(0,$.Wm)(d,{modelValue:e.limitReq,"onUpdate:modelValue":t[4]||(t[4]=t=>e.limitReq=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("common.enable")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",op,[ap,(0,$._)("div",sp,[(0,$._)("div",lp,[(0,$._)("div",{class:(0,w.C_)("control"+(e.securityTxt?" is-changed":""))},[(0,$._)("div",ip,[(0,$.Wm)(d,{modelValue:e.securityTxt,"onUpdate:modelValue":t[5]||(t[5]=t=>e.securityTxt=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("common.enable")),1)])),_:1},8,["modelValue"])])],2)])])]),e.$props.data.securityTxt.computed?((0,$.wg)(),(0,$.iD)("div",np,[dp,(0,$._)("div",rp,[(0,$._)("div",pp,[(0,$._)("div",{class:(0,w.C_)("control"+(e.securityTxtChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.securityTxtPath=t),class:"input",type:"text",placeholder:e.$props.data.securityTxtPath.default},null,8,cp),[[a.nr,e.securityTxtPath]])],2)])])])):(0,$.kq)("",!0)])}const hp={referrerPolicy:{default:"no-referrer-when-downgrade",options:["no-referrer","no-referrer-when-downgrade","origin","origin-when-cross-origin","same-origin","strict-origin","strict-origin-when-cross-origin","unsafe-url"],enabled:!0},contentSecurityPolicy:{default:"default-src 'self' http: https: ws: wss: data: blob: 'unsafe-inline'; frame-ancestors 'self';",enabled:!0},permissionsPolicy:{default:"interest-cohort=()",enabled:!0},serverTokens:{default:!1,enabled:!0},limitReq:{default:!1,enabled:!0},securityTxt:{default:!1,enabled:!0},securityTxtPath:{default:"~/security.txt",enabled:!0}},mp={name:"GlobalSecurity",display:"templates.globalSections.security.security",key:"security",delegated:ce(hp),components:{PrettyCheck:mt,VueSelect:M.Z},props:{data:Object},computed:{...ue(hp,"security"),hasWordPress(){return this.$parent.$parent.$data.domains.some((e=>e&&e.php.wordPressRules.computed))},hasWordPressUnsafeEval(){return null!==this.$props.data.contentSecurityPolicy.computed.match(/(default|script)-src[^;]+'self'[^;]+'unsafe-inline'[^;]+'unsafe-eval'[^;]*;/)},hasWarnings(){return this.hasWordPress&&!this.hasWordPressUnsafeEval}},watch:{"$props.data.referrerPolicy":{handler(e){e.enabled&&(e.options.includes(e.computed)||(e.computed=e.default))},deep:!0}}},gp=(0,ge.Z)(mp,[["render",up]]),fp=gp,bp={key:0,class:"field is-horizontal is-aligned-top"},vp={class:"field-label"},yp={class:"label"},_p={class:"field-body"},$p={class:"field"},wp={class:"control"},xp={class:"text"},kp={key:1,class:"field is-horizontal"},Cp={class:"field-label"},Sp={class:"label"},Pp={class:"field-body"},Dp={class:"field"},zp=["placeholder"];function Ep(e,t,o,s,l,i){return(0,$.wg)(),(0,$.iD)("div",null,[e.pythonServerEnabled?((0,$.wg)(),(0,$.iD)("div",kp,[(0,$._)("div",Cp,[(0,$._)("label",Sp,(0,w.zw)(e.$t("templates.globalSections.python.pythonServer")),1)]),(0,$._)("div",Pp,[(0,$._)("div",Dp,[(0,$._)("div",{class:(0,w.C_)("control"+(e.pythonServerChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.pythonServer=t),class:"input",type:"text",placeholder:e.$props.data.pythonServer.default},null,8,zp),[[a.nr,e.pythonServer]])],2)])])])):((0,$.wg)(),(0,$.iD)("div",bp,[(0,$._)("div",vp,[(0,$._)("label",yp,(0,w.zw)(e.$t("templates.globalSections.python.pythonServer")),1)]),(0,$._)("div",_p,[(0,$._)("div",$p,[(0,$._)("div",wp,[(0,$._)("label",xp,(0,w.zw)(e.$t("templates.globalSections.python.pythonMustBeEnabledOnOneSite")),1)])])])]))])}const Tp={pythonServer:{default:"/tmp/uwsgi.sock",enabled:!1}},Vp={name:"GlobalPython",display:"common.python",key:"python",delegated:ce(Tp),props:{data:Object},computed:ue(Tp,"python"),watch:{"$parent.$parent.$data.domains":{handler(e){for(const t of e)if(t&&t.python&&t.python.python&&t.python.python.computed)return this.$props.data.pythonServer.enabled=!0,void(this.$props.data.pythonServer.computed=this.$props.data.pythonServer.value);this.$props.data.pythonServer.enabled=!1,this.$props.data.pythonServer.computed=""},deep:!0}}},Rp=(0,ge.Z)(Vp,[["render",Ep]]),Op=Rp,Up={key:0,class:"field is-horizontal is-aligned-top"},Hp={class:"field-label"},jp={class:"label"},Ap={class:"field-body"},Lp={class:"field"},Fp={class:"control"},Wp={class:"text"},Ip={class:"field is-horizontal"},Mp=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"proxy_connect_timeout")],-1),Bp={class:"field-body"},Np={class:"field has-addons"},qp=["placeholder"],Gp={class:"control"},Yp={class:"button is-static"},Zp={class:"field is-horizontal"},Kp=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"proxy_send_timeout")],-1),Xp={class:"field-body"},Qp={class:"field has-addons"},Jp=["placeholder"],ec={class:"control"},tc={class:"button is-static"},oc={class:"field is-horizontal"},ac=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"proxy_read_timeout")],-1),sc={class:"field-body"},lc={class:"field has-addons"},ic=["placeholder"],nc={class:"control"},dc={class:"button is-static"},rc={class:"field is-horizontal"},pc=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"Coexistence with X-Forwarded-*")],-1),cc={class:"field-body"},uc={class:"field"},hc={class:"field"},mc={class:"radio"};function gc(e,t,o,s,l,i){const n=(0,$.up)("PrettyRadio");return(0,$.wg)(),(0,$.iD)("div",null,[l.reverseProxyEnabled?((0,$.wg)(),(0,$.iD)($.HY,{key:1},[(0,$._)("div",Ip,[Mp,(0,$._)("div",Bp,[(0,$._)("div",Np,[(0,$._)("div",{class:(0,w.C_)("control is-expanded"+(e.proxyConnectTimeoutChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.proxyConnectTimeout=t),class:"input",type:"number",min:"0",step:"1",placeholder:e.$props.data.proxyConnectTimeout.default},null,8,qp),[[a.nr,e.proxyConnectTimeout,void 0,{number:!0}]])],2),(0,$._)("div",Gp,[(0,$._)("a",Yp,(0,w.zw)(e.$t("templates.globalSections.reverseProxy.seconds")),1)])])])]),(0,$._)("div",Zp,[Kp,(0,$._)("div",Xp,[(0,$._)("div",Qp,[(0,$._)("div",{class:(0,w.C_)("control is-expanded"+(e.proxySendTimeoutChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.proxySendTimeout=t),class:"input",type:"number",min:"0",step:"1",placeholder:e.$props.data.proxySendTimeout.default},null,8,Jp),[[a.nr,e.proxySendTimeout,void 0,{number:!0}]])],2),(0,$._)("div",ec,[(0,$._)("a",tc,(0,w.zw)(e.$t("templates.globalSections.reverseProxy.seconds")),1)])])])]),(0,$._)("div",oc,[ac,(0,$._)("div",sc,[(0,$._)("div",lc,[(0,$._)("div",{class:(0,w.C_)("control is-expanded"+(e.proxyReadTimeoutChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.proxyReadTimeout=t),class:"input",type:"number",min:"0",step:"1",placeholder:e.$props.data.proxyReadTimeout.default},null,8,ic),[[a.nr,e.proxyReadTimeout,void 0,{number:!0}]])],2),(0,$._)("div",nc,[(0,$._)("a",dc,(0,w.zw)(e.$t("templates.globalSections.reverseProxy.seconds")),1)])])])]),(0,$._)("div",rc,[pc,(0,$._)("div",cc,[(0,$._)("div",uc,[(0,$._)("div",hc,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$props.data.proxyCoexistenceXForwarded.options,((o,a)=>((0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)("control"+(e.proxyCoexistenceXForwardedChanged&&a===e.proxyCoexistenceXForwarded?" is-changed":""))},[(0,$._)("div",mc,[(0,$.Wm)(n,{modelValue:e.proxyCoexistenceXForwarded,"onUpdate:modelValue":t[3]||(t[3]=t=>e.proxyCoexistenceXForwarded=t),value:a,class:"p-default p-round p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t(o)),1)])),_:2},1032,["modelValue","value"])])],2)))),256))])])])])],64)):((0,$.wg)(),(0,$.iD)("div",Up,[(0,$._)("div",Hp,[(0,$._)("label",jp,(0,w.zw)(e.$t("common.reverseProxy")),1)]),(0,$._)("div",Ap,[(0,$._)("div",Lp,[(0,$._)("div",Fp,[(0,$._)("label",Wp,(0,w.zw)(e.$t("templates.globalSections.reverseProxy.reverseProxyMustBeEnabledOnOneSite")),1)])])])]))])}const fc={proxyConnectTimeout:{default:60,computed:"60s",enabled:!1},proxySendTimeout:{default:60,computed:"60s",enabled:!1},proxyReadTimeout:{default:60,computed:"60s",enabled:!1},proxyCoexistenceXForwarded:{default:"passOn",options:{passOn:"templates.globalSections.reverseProxy.passOn",remove:"templates.globalSections.reverseProxy.remove"},enabled:!1}},bc=e=>{let t=parseFloat(e.computed);isNaN(t)&&(t=e.default),e.computed=`${t}s`},vc={name:"GlobalReverseProxy",display:"common.reverseProxy",key:"reverseProxy",delegated:ce(fc),components:{PrettyRadio:Eo},props:{data:Object},data(){return{reverseProxyEnabled:!1}},computed:ue(fc,"reverseProxy"),watch:{"$parent.$parent.$data.domains":{handler(e){for(const t of e)if(t&&t.reverseProxy&&t.reverseProxy.reverseProxy&&t.reverseProxy.reverseProxy.computed)return this.$data.reverseProxyEnabled=!0,this.$props.data.proxyConnectTimeout.enabled=!0,this.$props.data.proxyConnectTimeout.computed=this.$props.data.proxyConnectTimeout.value,this.$props.data.proxySendTimeout.enabled=!0,this.$props.data.proxySendTimeout.computed=this.$props.data.proxySendTimeout.value,this.$props.data.proxyReadTimeout.enabled=!0,this.$props.data.proxyReadTimeout.computed=this.$props.data.proxyReadTimeout.value,this.$props.data.proxyCoexistenceXForwarded.enabled=!0,void(this.$props.data.proxyCoexistenceXForwarded.computed=this.$props.data.proxyCoexistenceXForwarded.value);this.$data.reverseProxyEnabled=!1,this.$props.data.proxyConnectTimeout.enabled=!1,this.$props.data.proxyConnectTimeout.computed="",this.$props.data.proxySendTimeout.enabled=!1,this.$props.data.proxySendTimeout.computed="",this.$props.data.proxyReadTimeout.enabled=!1,this.$props.data.proxyReadTimeout.computed="",this.$props.data.proxyCoexistenceXForwarded.enabled=!1,this.$props.data.proxyCoexistenceXForwarded.computed=""},deep:!0},"$props.data.proxyConnectTimeout":{handler:bc,deep:!0},"$props.data.proxySendTimeout":{handler:bc,deep:!0},"$props.data.proxyReadTimeout":{handler:bc,deep:!0}}},yc=(0,ge.Z)(vc,[["render",gc]]),_c=yc,$c={class:"field is-horizontal"},wc={class:"field-label"},xc={class:"label"},kc={class:"field-body"},Cc={class:"field"},Sc={class:"checkbox"},Pc={class:"field is-horizontal"},Dc={class:"field-label"},zc={class:"label"},Ec={class:"field-body"},Tc={class:"field"},Vc={class:"checkbox"},Rc={class:"field is-horizontal is-aligned-top"},Oc={class:"field-label has-small-margin-top"},Uc={class:"label"},Hc={class:"field-body"},jc={class:"field"},Ac={class:"checkbox"},Lc={key:0,class:"control"},Fc={class:"text message is-warning"},Wc={class:"message-body"},Ic={class:"field is-horizontal"},Mc={class:"field-label"},Bc={class:"label"},Nc={class:"field-body"},qc={class:"field"},Gc=["placeholder"],Yc={class:"field is-horizontal"},Zc={class:"field-label"},Kc={class:"label"},Xc={class:"field-body"},Qc={class:"field"},Jc=["placeholder"],eu={class:"field is-horizontal"},tu={class:"field-label"},ou={class:"label"},au={class:"field-body"},su={class:"field"},lu=["placeholder"],iu={class:"field is-horizontal"},nu={class:"field-label"},du={class:"label"},ru={class:"field-body"},pu={class:"field"},cu=["placeholder"];function uu(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck"),d=(0,$.up)("ExternalLink");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",$c,[(0,$._)("div",wc,[(0,$._)("label",xc,(0,w.zw)(e.$t("templates.globalSections.performance.disableHtmlCaching")),1)]),(0,$._)("div",kc,[(0,$._)("div",Cc,[(0,$._)("div",{class:(0,w.C_)("control"+(e.disableHtmlCachingChanged?" is-changed":""))},[(0,$._)("div",Sc,[(0,$.Wm)(n,{modelValue:e.disableHtmlCaching,"onUpdate:modelValue":t[0]||(t[0]=t=>e.disableHtmlCaching=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.performance.enableDisableHtmlCaching")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",Pc,[(0,$._)("div",Dc,[(0,$._)("label",zc,(0,w.zw)(e.$t("templates.globalSections.performance.gzipCompression")),1)]),(0,$._)("div",Ec,[(0,$._)("div",Tc,[(0,$._)("div",{class:(0,w.C_)("control"+(e.gzipCompressionChanged?" is-changed":""))},[(0,$._)("div",Vc,[(0,$.Wm)(n,{modelValue:e.gzipCompression,"onUpdate:modelValue":t[1]||(t[1]=t=>e.gzipCompression=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.performance.enableGzipCompression")),1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",Rc,[(0,$._)("div",Oc,[(0,$._)("label",Uc,(0,w.zw)(e.$t("templates.globalSections.performance.brotliCompression")),1)]),(0,$._)("div",Hc,[(0,$._)("div",jc,[(0,$._)("div",{class:(0,w.C_)("control"+(e.brotliCompressionChanged?" is-changed":""))},[(0,$._)("div",Ac,[(0,$.Wm)(n,{modelValue:e.brotliCompression,"onUpdate:modelValue":t[2]||(t[2]=t=>e.brotliCompression=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.performance.enableBrotliCompression")),1)])),_:1},8,["modelValue"])])],2),i.showBrotliWarning?((0,$.wg)(),(0,$.iD)("div",Lc,[(0,$._)("label",Fc,[(0,$._)("span",Wc,[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.performance.brotliIsANonStandardModule"))+" ",1),(0,$.Wm)(d,{text:e.$t("templates.globalSections.performance.brotliGoogleNgxBrotliProject"),link:"https://github.com/google/ngx_brotli"},null,8,["text"]),(0,$.Uk)(" "+(0,w.zw)(e.$t("templates.globalSections.performance.brotliForBuildingNginxWithBrotli")),1)])])])):(0,$.kq)("",!0)])])]),(0,$._)("div",Ic,[(0,$._)("div",Mc,[(0,$._)("label",Bc,(0,w.zw)(e.$t("templates.globalSections.performance.expirationForAssets")),1)]),(0,$._)("div",Nc,[(0,$._)("div",qc,[(0,$._)("div",{class:(0,w.C_)("control"+(e.assetsExpirationChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.assetsExpiration=t),class:"input",type:"text",placeholder:e.$props.data.assetsExpiration.default},null,8,Gc),[[a.nr,e.assetsExpiration]])],2)])])]),(0,$._)("div",Yc,[(0,$._)("div",Zc,[(0,$._)("label",Kc,(0,w.zw)(e.$t("templates.globalSections.performance.expirationForMedia")),1)]),(0,$._)("div",Xc,[(0,$._)("div",Qc,[(0,$._)("div",{class:(0,w.C_)("control"+(e.mediaExpirationChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.mediaExpiration=t),class:"input",type:"text",placeholder:e.$props.data.mediaExpiration.default},null,8,Jc),[[a.nr,e.mediaExpiration]])],2)])])]),(0,$._)("div",eu,[(0,$._)("div",tu,[(0,$._)("label",ou,(0,w.zw)(e.$t("templates.globalSections.performance.expirationForSvgs")),1)]),(0,$._)("div",au,[(0,$._)("div",su,[(0,$._)("div",{class:(0,w.C_)("control"+(e.svgExpirationChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.svgExpiration=t),class:"input",type:"text",placeholder:e.$props.data.svgExpiration.default},null,8,lu),[[a.nr,e.svgExpiration]])],2)])])]),(0,$._)("div",iu,[(0,$._)("div",nu,[(0,$._)("label",du,(0,w.zw)(e.$t("templates.globalSections.performance.expirationForFonts")),1)]),(0,$._)("div",ru,[(0,$._)("div",pu,[(0,$._)("div",{class:(0,w.C_)("control"+(e.fontsExpirationChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.fontsExpiration=t),class:"input",type:"text",placeholder:e.$props.data.fontsExpiration.default},null,8,cu),[[a.nr,e.fontsExpiration]])],2)])])])])}const hu={disableHtmlCaching:{default:!1,enabled:!0},gzipCompression:{default:!0,enabled:!0},brotliCompression:{default:!1,enabled:!0},assetsExpiration:{default:"7d",enabled:!0},mediaExpiration:{default:"7d",enabled:!0},svgExpiration:{default:"7d",enabled:!0},fontsExpiration:{default:"7d",enabled:!0}},mu={name:"GlobalPerformance",display:"templates.globalSections.performance.performance",key:"performance",delegated:ce(hu),components:{PrettyCheck:mt,ExternalLink:Co.Z},props:{data:Object},computed:{...ue(hu,"performance"),showBrotliWarning(){return this.$props.data.brotliCompression.computed},hasWarnings(){return this.showBrotliWarning}}},gu=(0,ge.Z)(mu,[["render",uu]]),fu=gu,bu={class:"field is-horizontal"},vu=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"access_log")],-1),yu={class:"field-body"},_u={class:"field"},$u=["placeholder"],wu={class:"field is-horizontal"},xu=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"error_log")],-1),ku={class:"field-body"},Cu={class:"field"},Su=["placeholder"],Pu={class:"field is-horizontal is-aligned-top"},Du=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"log_not_found")],-1),zu={class:"field-body"},Eu={class:"field"},Tu={class:"checkbox"},Vu={class:"field is-horizontal is-aligned-top"},Ru={class:"field-label"},Ou={class:"label"},Uu={class:"field-body"},Hu={class:"field"},ju={class:"checkbox"},Au={class:"checkbox"},Lu={class:"checkbox"},Fu={class:"checkbox"},Wu={class:"checkbox"},Iu={class:"checkbox"},Mu={class:"checkbox"},Bu={class:"checkbox"},Nu={class:"checkbox"};function qu(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",bu,[vu,(0,$._)("div",yu,[(0,$._)("div",_u,[(0,$._)("div",{class:(0,w.C_)("control"+(e.accessLogChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.accessLog=t),class:"input",type:"text",placeholder:e.$props.data.accessLog.default},null,8,$u),[[a.nr,e.accessLog]])],2)])])]),(0,$._)("div",wu,[xu,(0,$._)("div",ku,[(0,$._)("div",Cu,[(0,$._)("div",{class:(0,w.C_)("control"+(e.errorLogChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.errorLog=t),class:"input",type:"text",placeholder:e.$props.data.errorLog.default},null,8,Su),[[a.nr,e.errorLog]])],2)])])]),(0,$._)("div",Pu,[Du,(0,$._)("div",zu,[(0,$._)("div",Eu,[(0,$._)("div",{class:(0,w.C_)("control"+(e.logNotFoundChanged?" is-changed":""))},[(0,$._)("div",Tu,[(0,$.Wm)(n,{modelValue:e.logNotFound,"onUpdate:modelValue":t[2]||(t[2]=t=>e.logNotFound=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.enableFileNotFoundErrorLogging"))+" error_log ",1)])),_:1},8,["modelValue"])])],2)])])]),(0,$._)("div",Vu,[(0,$._)("div",Ru,[(0,$._)("label",Ou,(0,w.zw)(e.$t("templates.globalSections.logging.logformat")),1)]),(0,$._)("div",Uu,[(0,$._)("div",Hu,[e.cloudflareEnabled?((0,$.wg)(),(0,$.iD)("div",{key:0,class:(0,w.C_)("control"+(e.cloudflareChanged?" is-changed":""))},[(0,$._)("div",ju,[(0,$.Wm)(n,{modelValue:e.cloudflare,"onUpdate:modelValue":t[3]||(t[3]=t=>e.cloudflare=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.enableCloudflare")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.cfRayEnabled?((0,$.wg)(),(0,$.iD)("div",{key:1,class:(0,w.C_)("control"+(e.cfRayChanged?" is-changed":""))},[(0,$._)("div",Au,[(0,$.Wm)(n,{modelValue:e.cfRay,"onUpdate:modelValue":t[4]||(t[4]=t=>e.cfRay=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.cfRay")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.cfConnectingIpEnabled?((0,$.wg)(),(0,$.iD)("div",{key:2,class:(0,w.C_)("control"+(e.cfConnectingIpChanged?" is-changed":""))},[(0,$._)("div",Lu,[(0,$.Wm)(n,{modelValue:e.cfConnectingIp,"onUpdate:modelValue":t[5]||(t[5]=t=>e.cfConnectingIp=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.cfConnectingIp")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.xForwardedForEnabled?((0,$.wg)(),(0,$.iD)("div",{key:3,class:(0,w.C_)("control"+(e.xForwardedForChanged?" is-changed":""))},[(0,$._)("div",Fu,[(0,$.Wm)(n,{modelValue:e.xForwardedFor,"onUpdate:modelValue":t[6]||(t[6]=t=>e.xForwardedFor=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.xForwardedFor")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.xForwardedProtoEnabled?((0,$.wg)(),(0,$.iD)("div",{key:4,class:(0,w.C_)("control"+(e.xForwardedProtoChanged?" is-changed":""))},[(0,$._)("div",Wu,[(0,$.Wm)(n,{modelValue:e.xForwardedProto,"onUpdate:modelValue":t[7]||(t[7]=t=>e.xForwardedProto=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.xForwardedProto")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.trueClientIpEnabled?((0,$.wg)(),(0,$.iD)("div",{key:5,class:(0,w.C_)("control"+(e.trueClientIpChanged?" is-changed":""))},[(0,$._)("div",Iu,[(0,$.Wm)(n,{modelValue:e.trueClientIp,"onUpdate:modelValue":t[8]||(t[8]=t=>e.trueClientIp=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.trueClientIp")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.cfIpCountryEnabled?((0,$.wg)(),(0,$.iD)("div",{key:6,class:(0,w.C_)("control"+(e.cfIpCountryChanged?" is-changed":""))},[(0,$._)("div",Mu,[(0,$.Wm)(n,{modelValue:e.cfIpCountry,"onUpdate:modelValue":t[9]||(t[9]=t=>e.cfIpCountry=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.cfIpCountry")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.cfVisitorEnabled?((0,$.wg)(),(0,$.iD)("div",{key:7,class:(0,w.C_)("control"+(e.cfVisitorChanged?" is-changed":""))},[(0,$._)("div",Bu,[(0,$.Wm)(n,{modelValue:e.cfVisitor,"onUpdate:modelValue":t[10]||(t[10]=t=>e.cfVisitor=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.cfVisitor")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0),e.cdnLoopEnabled?((0,$.wg)(),(0,$.iD)("div",{key:8,class:(0,w.C_)("control"+(e.cdnLoopChanged?" is-changed":""))},[(0,$._)("div",Nu,[(0,$.Wm)(n,{modelValue:e.cdnLoop,"onUpdate:modelValue":t[11]||(t[11]=t=>e.cdnLoop=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.logging.cdnLoop")),1)])),_:1},8,["modelValue"])])],2)):(0,$.kq)("",!0)])])])])}const Gu={accessLog:{default:"/var/log/nginx/access.log",enabled:!0},errorLog:{default:"/var/log/nginx/error.log warn",enabled:!0},logNotFound:{default:!1,enabled:!0},cloudflare:{default:!1,enabled:!0},cfRay:{default:!0,enabled:!1},cfConnectingIp:{default:!0,enabled:!1},xForwardedFor:{default:!1,enabled:!1},xForwardedProto:{default:!1,enabled:!1},trueClientIp:{default:!1,enabled:!1},cfIpCountry:{default:!1,enabled:!1},cfVisitor:{default:!1,enabled:!1},cdnLoop:{default:!1,enabled:!1}},Yu={name:"GlobalLogging",display:"common.logging",key:"logging",delegated:ce(Gu),components:{PrettyCheck:mt},props:{data:Object},computed:ue(Gu,"logging"),watch:{"$props.data.cloudflare":{handler(e){e.computed?(this.$props.data.cfRay.enabled=!0,this.$props.data.cfRay.computed=this.$props.data.cfRay.value,this.$props.data.cfConnectingIp.enabled=!0,this.$props.data.cfConnectingIp.computed=this.$props.data.cfConnectingIp.value,this.$props.data.xForwardedFor.enabled=!0,this.$props.data.xForwardedFor.computed=this.$props.data.xForwardedFor.value,this.$props.data.xForwardedProto.enabled=!0,this.$props.data.xForwardedProto.computed=this.$props.data.xForwardedProto.value,this.$props.data.trueClientIp.enabled=!0,this.$props.data.trueClientIp.computed=this.$props.data.trueClientIp.value,this.$props.data.cfIpCountry.enabled=!0,this.$props.data.cfIpCountry.computed=this.$props.data.cfIpCountry.value,this.$props.data.cfVisitor.enabled=!0,this.$props.data.cfVisitor.computed=this.$props.data.cfVisitor.value,this.$props.data.cdnLoop.enabled=!0,this.$props.data.cdnLoop.computed=this.$props.data.cdnLoop.value):(this.$props.data.cfRay.enabled=!1,this.$props.data.cfRay.computed=!1,this.$props.data.cfConnectingIp.enabled=!1,this.$props.data.cfConnectingIp.computed=!1,this.$props.data.xForwardedFor.enabled=!1,this.$props.data.xForwardedFor.computed=!1,this.$props.data.xForwardedProto.enabled=!1,this.$props.data.xForwardedProto.computed=!1,this.$props.data.trueClientIp.enabled=!1,this.$props.data.trueClientIp.computed=!1,this.$props.data.cfIpCountry.enabled=!1,this.$props.data.cfIpCountry.computed=!1,this.$props.data.cfVisitor.enabled=!1,this.$props.data.cfVisitor.computed=!1,this.$props.data.cdnLoop.enabled=!1,this.$props.data.cdnLoop.computed=!1)},deep:!0}}},Zu=(0,ge.Z)(Yu,[["render",qu]]),Ku=Zu,Xu={class:"field is-horizontal"},Qu={class:"field-label"},Ju={class:"label"},eh={class:"field-body"},th={class:"field"},oh=["placeholder"],ah={class:"field is-horizontal"},sh=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"worker_processes")],-1),lh={class:"field-body"},ih={class:"field"},nh={class:"field is-horizontal"},dh=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"user")],-1),rh={class:"field-body"},ph={class:"field"},ch=["placeholder"],uh={class:"field is-horizontal"},hh=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"pid")],-1),mh={class:"field-body"},gh={class:"field"},fh=["placeholder"],bh={class:"field is-horizontal"},vh=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"client_max_body_size")],-1),yh={class:"field-body"},_h={class:"field has-addons"},$h=["placeholder"],wh={class:"control"},xh={class:"button is-static"},kh={class:"field is-horizontal"},Ch=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"types_hash_max_size")],-1),Sh={class:"field-body"},Ph={class:"field"},Dh={class:"field is-horizontal"},zh=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"},"types_hash_bucket_size")],-1),Eh={class:"field-body"},Th={class:"field"};function Vh(e,t,o,s,l,i){const n=(0,$.up)("VueSelect");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",Xu,[(0,$._)("div",Qu,[(0,$._)("label",Ju,(0,w.zw)(e.$t("templates.globalSections.nginx.nginxConfigDirectory")),1)]),(0,$._)("div",eh,[(0,$._)("div",th,[(0,$._)("div",{class:(0,w.C_)("control"+(e.nginxConfigDirectoryChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.nginxConfigDirectory=t),class:"input",type:"text",placeholder:e.$props.data.nginxConfigDirectory.default},null,8,oh),[[a.nr,e.nginxConfigDirectory]])],2)])])]),(0,$._)("div",ah,[sh,(0,$._)("div",lh,[(0,$._)("div",ih,[(0,$._)("div",{class:(0,w.C_)("control"+(e.workerProcessesChanged?" is-changed":""))},[(0,$.Wm)(n,{modelValue:e.workerProcesses,"onUpdate:modelValue":t[1]||(t[1]=t=>e.workerProcesses=t),options:e.$props.data.workerProcesses.options,clearable:!1},null,8,["modelValue","options"])],2)])])]),(0,$._)("div",nh,[dh,(0,$._)("div",rh,[(0,$._)("div",ph,[(0,$._)("div",{class:(0,w.C_)("control"+(e.userChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.user=t),class:"input",type:"text",placeholder:e.$props.data.user.default},null,8,ch),[[a.nr,e.user]])],2)])])]),(0,$._)("div",uh,[hh,(0,$._)("div",mh,[(0,$._)("div",gh,[(0,$._)("div",{class:(0,w.C_)("control"+(e.pidChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.pid=t),class:"input",type:"text",placeholder:e.$props.data.pid.default},null,8,fh),[[a.nr,e.pid]])],2)])])]),(0,$._)("div",bh,[vh,(0,$._)("div",yh,[(0,$._)("div",_h,[(0,$._)("div",{class:(0,w.C_)("control is-expanded"+(e.clientMaxBodySizeChanged?" is-changed":""))},[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.clientMaxBodySize=t),class:"input",type:"number",min:"0",step:"1",placeholder:e.$props.data.clientMaxBodySize.default},null,8,$h),[[a.nr,e.clientMaxBodySize,void 0,{number:!0}]])],2),(0,$._)("div",wh,[(0,$._)("a",xh,(0,w.zw)(e.$t("templates.globalSections.nginx.mb")),1)])])])]),(0,$._)("div",kh,[Ch,(0,$._)("div",Sh,[(0,$._)("div",Ph,[(0,$._)("div",{class:(0,w.C_)("control"+(e.typesHashMaxSizeChanged?" is-changed":""))},[(0,$.Wm)(n,{modelValue:e.typesHashMaxSize,"onUpdate:modelValue":t[5]||(t[5]=t=>e.typesHashMaxSize=t),options:e.$props.data.typesHashMaxSize.options,clearable:!1},null,8,["modelValue","options"])],2)])])]),(0,$._)("div",Dh,[zh,(0,$._)("div",Eh,[(0,$._)("div",Th,[(0,$._)("div",{class:(0,w.C_)("control"+(e.typesHashBucketSizeChanged?" is-changed":""))},[(0,$.Wm)(n,{modelValue:e.typesHashBucketSize,"onUpdate:modelValue":t[6]||(t[6]=t=>e.typesHashBucketSize=t),options:e.$props.data.typesHashBucketSize.options,clearable:!1},null,8,["modelValue","options"])],2)])])])])}const Rh={nginxConfigDirectory:{default:"/etc/nginx/",computed:"/etc/nginx",enabled:!0},workerProcesses:{default:"auto",options:["auto",...Array.from({length:16},((e,t)=>t+1))],enabled:!0},user:{default:"www-data",enabled:!0},pid:{default:"/run/nginx.pid",enabled:!0},clientMaxBodySize:{default:16,enabled:!0},typesHashMaxSize:{default:2048,options:Array.from({length:8},((e,t)=>Math.pow(2,t+6))),enabled:!0},typesHashBucketSize:{default:64,options:Array.from({length:10},((e,t)=>Math.pow(2,t+4))),enabled:!0}},Oh={name:"GlobalNGINX",display:"common.nginx",key:"nginx",delegated:ce(Rh),components:{VueSelect:M.Z},props:{data:Object},computed:ue(Rh,"nginx"),watch:{"$props.data.nginxConfigDirectory":{handler(e){e.enabled&&e.computed.endsWith("/")&&(e.computed=e.computed.replace(/\/+$/,""))},deep:!0},"$props.data.workerProcesses":{handler(e){e.enabled&&(e.options.includes(e.computed)||(e.computed=e.default))},deep:!0},"$props.data.clientMaxBodySize":{handler(e){e.enabled&&e.computed<0&&(e.computed=0)},deep:!0},"$props.data.typesHashMaxSize":{handler(e){e.enabled&&(e.options.includes(e.computed)||(e.computed=e.default))},deep:!0},"$props.data.typesHashBucketSize":{handler(e){e.enabled&&(e.options.includes(e.computed)||(e.computed=e.default))},deep:!0}}},Uh=(0,ge.Z)(Oh,[["render",Vh]]),Hh=Uh,jh={class:"field is-horizontal"},Ah={class:"field-label"},Lh={class:"label"},Fh={class:"field-body"},Wh={class:"field is-horizontal is-aligned-top"},Ih=(0,$._)("br",null,null,-1),Mh=["innerHTML"],Bh={class:"field is-horizontal"},Nh={class:"field-label"},qh={class:"label"},Gh={class:"field-body"},Yh={class:"field"},Zh={class:"checkbox"},Kh={key:0,class:"field is-horizontal"},Xh={class:"field-label"},Qh={class:"label"},Jh={class:"field-body"},em={class:"field"},tm={class:"checkbox"};function om(e,t,o,a,s,l){const i=(0,$.up)("PrettyCheck");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",jh,[(0,$._)("div",Ah,[(0,$._)("label",Lh,(0,w.zw)(e.$t("templates.globalSections.docker.docker")),1)]),(0,$._)("div",Fh,[(0,$._)("div",Wh,[(0,$._)("a",{class:"button is-primary is-tiny",onClick:t[0]||(t[0]=(...e)=>l.applyDockerTweaks&&l.applyDockerTweaks(...e))},(0,w.zw)(e.$t("templates.globalSections.docker.applyDockerTweaks")),1),(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.docker.applyDockerTweaksForNginx"))+" ",1),Ih,(0,$._)("small",{innerHTML:e.$t("templates.globalSections.docker.applyDockerTweaksExplainer")},null,8,Mh)])])])]),(0,$._)("div",Bh,[(0,$._)("div",Nh,[(0,$._)("label",qh,(0,w.zw)(e.$t("templates.globalSections.docker.dockerfile")),1)]),(0,$._)("div",Gh,[(0,$._)("div",Yh,[(0,$._)("div",{class:(0,w.C_)("control"+(e.dockerfileChanged?" is-changed":""))},[(0,$._)("div",Zh,[(0,$.Wm)(i,{modelValue:e.dockerfile,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dockerfile=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.docker.includeDockerfile")),1)])),_:1},8,["modelValue"])])],2)])])]),e.dockerfile?((0,$.wg)(),(0,$.iD)("div",Kh,[(0,$._)("div",Xh,[(0,$._)("label",Qh,(0,w.zw)(e.$t("templates.globalSections.docker.dockerCompose")),1)]),(0,$._)("div",Jh,[(0,$._)("div",em,[(0,$._)("div",{class:(0,w.C_)("control"+(e.dockerComposeChanged?" is-changed":""))},[(0,$._)("div",tm,[(0,$.Wm)(i,{modelValue:e.dockerCompose,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dockerCompose=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.docker.includeDockerCompose")),1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0)])}const am={dockerfile:{default:!1,enabled:!0},dockerCompose:{default:!1,enabled:!1}},sm={name:"GlobalDocker",display:"templates.globalSections.docker.docker",key:"docker",delegated:ce(am),components:{PrettyCheck:mt},props:{data:Object},computed:ue(am,"docker"),watch:{"$props.data.dockerfile":{handler(e){e.computed?(this.$props.data.dockerCompose.enabled=!0,this.$props.data.dockerCompose.computed=this.$props.data.dockerCompose.value):(this.$props.data.dockerCompose.enabled=!1,this.$props.data.dockerCompose.computed=!1)},deep:!0}},methods:{applyDockerTweaks(){ae("apply_docker_tweaks","Presets"),this.$parent.setValue("nginx","user","nginx"),this.$parent.setValue("nginx","pid","/var/run/nginx.pid"),this.$parent.setValue("docker","dockerfile",!0)}}},lm=(0,ge.Z)(sm,[["render",om]]),im=lm,nm={class:"field is-horizontal"},dm={class:"field-label"},rm={class:"label"},pm={class:"field-body"},cm={class:"field"},um={class:"checkbox"},hm={key:0,class:"field is-horizontal"},mm=(0,$._)("div",{class:"field-label"},[(0,$._)("label",{class:"label"})],-1),gm={class:"field-body"},fm={class:"field"},bm={class:"checkbox"},vm={class:"field is-horizontal"},ym={class:"field-label"},_m={class:"label"},$m={class:"field-body"},wm={class:"field"},xm={class:"control"},km={class:"field is-horizontal"},Cm={class:"field-label"},Sm={class:"label"},Pm={class:"field-body"},Dm={class:"field is-grouped"},zm={class:"control"},Em={key:0,class:"control"},Tm={key:1,class:"control"},Vm={class:"field is-horizontal"},Rm=(0,$._)("div",{class:"field-label"},null,-1),Om={class:"field-body is-vertical"},Um={class:"field is-horizontal"},Hm={class:"field-label"},jm={class:"label"},Am={class:"field-body"},Lm={class:"field is-grouped"},Fm={class:"control"},Wm=["onClick"],Im={class:"control"},Mm=["onClick"];function Bm(e,t,o,s,l,i){const n=(0,$.up)("PrettyCheck"),d=(0,$.up)("Modal");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("div",nm,[(0,$._)("div",dm,[(0,$._)("label",rm,(0,w.zw)(e.$t("templates.globalSections.tools.modularizedStructure")),1)]),(0,$._)("div",pm,[(0,$._)("div",cm,[(0,$._)("div",{class:(0,w.C_)("control"+(e.modularizedStructureChanged?" is-changed":""))},[(0,$._)("div",um,[(0,$.Wm)(n,{modelValue:e.modularizedStructure,"onUpdate:modelValue":t[0]||(t[0]=t=>e.modularizedStructure=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.tools.enableModularizedConfigFiles")),1)])),_:1},8,["modelValue"])])],2)])])]),e.symlinkVhostEnabled?((0,$.wg)(),(0,$.iD)("div",hm,[mm,(0,$._)("div",gm,[(0,$._)("div",fm,[(0,$._)("div",{class:(0,w.C_)("control"+(e.symlinkVhostChanged?" is-changed":""))},[(0,$._)("div",bm,[(0,$.Wm)(n,{modelValue:e.symlinkVhost,"onUpdate:modelValue":t[1]||(t[1]=t=>e.symlinkVhost=t),class:"p-default p-curve p-fill p-icon"},{default:(0,$.w5)((()=>[(0,$.Uk)((0,w.zw)(e.$t("templates.globalSections.tools.enableSymLinksFrom"))+" sites-available/ "+(0,w.zw)(e.$t("templates.globalSections.tools.to"))+" sites-enabled/ ",1)])),_:1},8,["modelValue"])])],2)])])])):(0,$.kq)("",!0),(0,$._)("div",vm,[(0,$._)("div",ym,[(0,$._)("label",_m,(0,w.zw)(e.$t("templates.globalSections.tools.shareConfiguration")),1)]),(0,$._)("div",$m,[(0,$._)("div",wm,[(0,$._)("div",xm,[(0,$.wy)((0,$._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.shareLink=e),class:"input",type:"text",readonly:"readonly",onClick:t[3]||(t[3]=(...e)=>i.select&&i.select(...e))},null,512),[[a.nr,i.shareLink]])])])])]),(0,$._)("div",km,[(0,$._)("div",Cm,[(0,$._)("label",Sm,(0,w.zw)(e.$t("templates.globalSections.tools.resetConfiguration")),1)]),(0,$._)("div",Pm,[(0,$._)("div",Dm,[(0,$._)("div",zm,[(0,$._)("a",{class:"button is-danger is-outline is-mini",onClick:t[4]||(t[4]=(...e)=>i.resetGlobal&&i.resetGlobal(...e))},(0,w.zw)(e.$t("templates.globalSections.tools.resetGlobalConfig")),1)]),i.hasDomain?((0,$.wg)(),(0,$.iD)("div",Em,[(0,$._)("a",{class:"button is-danger is-outline is-mini",onClick:t[5]||(t[5]=(...e)=>i.resetDomains&&i.resetDomains(...e))},(0,w.zw)(e.$t("templates.globalSections.tools.resetAllDomains")),1)])):(0,$.kq)("",!0),i.hasDomain?((0,$.wg)(),(0,$.iD)("div",Tm,[(0,$._)("a",{class:"button is-danger is-outline is-mini",onClick:t[6]||(t[6]=(...e)=>i.removeDomains&&i.removeDomains(...e))},(0,w.zw)(e.$t("templates.globalSections.tools.removeAllDomains")),1)])):(0,$.kq)("",!0)])])]),(0,$._)("div",Vm,[Rm,(0,$._)("div",Om,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(e.$parent.$parent.activeDomains,(t=>((0,$.wg)(),(0,$.iD)("div",Um,[(0,$._)("div",Hm,[(0,$._)("label",jm,(0,w.zw)(t[0].server.domain.computed),1)]),(0,$._)("div",Am,[(0,$._)("div",Lm,[(0,$._)("div",Fm,[(0,$._)("a",{class:"button is-danger is-outline is-mini",onClick:e=>i.resetDomain(t[1])},(0,w.zw)(e.$t("templates.globalSections.tools.resetDomainConfig")),9,Wm)]),(0,$._)("div",Im,[(0,$._)("a",{class:"button is-danger is-outline is-mini",onClick:e=>i.removeDomain(t[1])},(0,w.zw)(e.$t("templates.globalSections.tools.removeDomain")),9,Mm)])])])])))),256))])]),(0,$.Wm)(d,{ref:"confirmModal",title:l.confirmTitle},{default:(0,$.w5)((()=>[(0,$._)("p",null,(0,w.zw)(l.confirmBody),1),(0,$._)("a",{class:"button is-danger is-outline",onClick:t[7]||(t[7]=(...e)=>i.doConfirmAction&&i.doConfirmAction(...e))},(0,w.zw)(e.$t("templates.globalSections.tools.yesImSure")),1),(0,$._)("a",{class:"button is-outline",onClick:t[8]||(t[8]=t=>e.$refs.confirmModal.close())},(0,w.zw)(e.$t("templates.globalSections.tools.noCancel")),1)])),_:1},8,["title"])])}var Nm=o(8047);const qm={modularizedStructure:{default:!0,enabled:!0},symlinkVhost:{default:!0,enabled:!0}},Gm={name:"GlobalTools",display:"templates.globalSections.tools.tools",key:"tools",delegated:ce(qm),components:{PrettyCheck:mt,Modal:Nm.Z},props:{data:Object},data(){return{confirmTitle:"",confirmBody:"",confirmAction:()=>{}}},computed:{...ue(qm,"tools"),hasDomain(){return this.$parent.$parent.activeDomains.length>0},shareQuery(){return gd(this.$parent.$parent.activeDomains,this.$parent.$props.data)},shareLink(){const e=`${window.location.protocol}//${window.location.host}${window.location.pathname}`;return`${e}${this.shareQuery}`}},watch:{shareQuery(e){window.history.replaceState({},"",`${window.location.pathname}${e||""}`)},"$props.data.modularizedStructure":{handler(e){e.computed?(this.$props.data.symlinkVhost.enabled=!0,this.$props.data.symlinkVhost.computed=this.$props.data.symlinkVhost.value):(this.$props.data.symlinkVhost.enabled=!1,this.$props.data.symlinkVhost.computed=!1)},deep:!0}},methods:{confirm(e,t,o){this.$data.confirmTitle=e,this.$data.confirmBody=t,this.$data.confirmAction=o,this.$refs.confirmModal.open()},doConfirmAction(){this.$refs.confirmModal.close(),this.$data.confirmAction()},doResetDomain(e){e&&Object.values(e).forEach((e=>{Object.values(e).forEach((e=>{e.value=e.default,e.computed=e.default}))}))},doRemoveDomain(e){this.$set(this.$parent.$parent.$data.domains,e,null)},resetGlobal(){this.confirm(this.$t("templates.globalSections.tools.resetGlobalConfig"),this.$t("templates.globalSections.tools.resetGlobalConfigBody"),(()=>{this.resetGlobalEvent(),Object.values(this.$parent.$props.data).forEach((e=>{Object.values(e).forEach((e=>{e.value=e.default,e.computed=e.default}))}))}))},resetDomain(e){if(e>=this.$parent.$parent.$data.domains.length)return;const t=this.$parent.$parent.$data.domains[e];t&&this.confirm(this.$t("templates.globalSections.tools.resetDomainConfig"),`${this.$t("templates.globalSections.tools.areYouSureYouWantToResetAllConfigurationOptionsForThe")}\n                    ${t.server.domain.computed}\n                    ${this.$t("templates.globalSections.tools.domain")}`,(()=>{this.resetDomainEvent(t.server.domain.computed),this.doResetDomain(t)}))},removeDomain(e){if(e>=this.$parent.$parent.$data.domains.length)return;const t=this.$parent.$parent.$data.domains[e];t&&this.confirm(this.$t("templates.globalSections.tools.removeDomain"),`${this.$t("templates.globalSections.tools.areYouSureYouWantToRemoveThe")}\n                    ${t.server.domain.computed}\n                    ${this.$t("templates.globalSections.tools.domainConfiguration")}`,(()=>{this.removeDomainEvent(t.server.domain.computed),this.doRemoveDomain(e)}))},resetDomains(){this.confirm(this.$t("templates.globalSections.tools.resetAllDomainsConfig"),this.$t("templates.globalSections.tools.resetAllDomainsConfigBody"),(()=>{this.resetDomainsEvent(this.$parent.$parent.activeDomains.map((e=>e[0].server.domain.computed)),this.$parent.$parent.activeDomains.length);for(let e=0;e<this.$parent.$parent.$data.domains.length;e++)this.doResetDomain(this.$parent.$parent.$data.domains[e])}))},removeDomains(){this.confirm(this.$t("templates.globalSections.tools.removeAllDomains"),this.$t("templates.globalSections.tools.removeAllDomainsBody"),(()=>{this.removeDomainsEvent(this.$parent.$parent.activeDomains.map((e=>e[0].server.domain.computed)),this.$parent.$parent.activeDomains.length);for(let e=0;e<this.$parent.$parent.$data.domains.length;e++)this.doRemoveDomain(e)}))},resetGlobalEvent(){ae({category:"Tools",action:"Global settings reset"})},resetDomainEvent(e){ae({category:"Tools",action:"Site reset",label:e})},removeDomainEvent(e){ae({category:"Tools",action:"Removed site",label:e}),this.$parent.$parent.removeSiteEvent(this.$parent.$parent.activeDomains.length-1,e)},resetDomainsEvent(e,t){ae({category:"Tools",action:"All sites reset",label:e.join(", "),value:t})},removeDomainsEvent(e,t){ae({category:"Tools",action:"All sites removed",label:e.join(", "),value:t});for(let o=0;o<this.$parent.$parent.$data.domains.length;o++)this.$parent.$parent.removeSiteEvent(this.$parent.$parent.activeDomains.length-o-1,e[o])},select(e){e.target.setSelectionRange(0,e.target.value.length)}}},Ym=(0,ge.Z)(Gm,[["render",Bm]]),Zm=Ym,Km=[zr,fp,Op,_c,fu,Ku,Hh,im,Zm],Xm=Km.reduce(((e,t)=>(e[t.key]=t.delegated,e)),{}),Qm={name:"Global",delegated:Xm,props:{data:Object},data(){return{active:Km[0].key,tabs:Km}},computed:{nextTab(){const e=this.$data.tabs.map((e=>e.key)),t=e.indexOf(this.$data.active)+1;return t<e.length&&e[t]},previousTab(){const e=this.$data.tabs.map((e=>e.key)),t=e.indexOf(this.$data.active)-1;return t>=0&&e[t]}},methods:{changesCount(e){return Object.keys(this.$props.data[e]).filter((t=>q(this.$props.data[e][t],e,t))).length},changes(e){const t=this.changesCount(e);return t?` (${t.toLocaleString()})`:""},warnings(e){return Object.prototype.hasOwnProperty.call(this.$refs,e)&&this.$refs[e][0].hasWarnings||!1},setValue(e,t,o){Object.assign(this.$props.data[e][t],{value:o,computed:o})},resetValue(e,t){this.setValue(e,t,this.$props.data[e][t].default)},tabClass(e){const t=[];e===this.$data.active&&t.push("is-active"),this.changesCount(e)&&t.push("is-changed");const o=this.$data.tabs.map((e=>e.key));return o.indexOf(e)<o.indexOf(this.$data.active)&&t.push("is-before"),t.join(" ")},showTab(e){ae({category:"Global",action:"Tab clicked",label:`${this.$data.active}, ${e}`}),this.$data.active=e},showPreviousTab(){ae({category:"Global",action:"Back clicked",label:`${this.$data.active}, ${this.previousTab}`}),this.$data.active=this.previousTab},showNextTab(){ae({category:"Global",action:"Next clicked",label:`${this.$data.active}, ${this.nextTab}`}),this.$data.active=this.nextTab}}},Jm=(0,ge.Z)(Qm,[["render",kd]]),eg=Jm,tg={class:"callout"};function og(e,t,o,a,s,l){const i=(0,$.up)("ExternalLink");return(0,$.wg)(),(0,$.iD)("div",tg,[(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.callouts.droplet.lookingForAPlaceToDeploy"))+" ",1),(0,$.Wm)(i,{text:e.$t("templates.callouts.droplet.tryOutDigitalOceansDroplet"),link:"https://marketplace.digitalocean.com/apps/lemp",onClick:l.linkClickEvent},null,8,["text","onClick"])])])}const ag={name:"DropletCallout",components:{ExternalLink:Co.Z},data(){return{observer:null}},mounted(){if("IntersectionObserver"in window)return this.observer=new window.IntersectionObserver(this.observerCallback,{root:null,rootMargin:"0px",threshold:1}),void this.observer.observe(this.$el);this.calloutVisibleEvent()},updated(){this.$nextTick((()=>{this.observer&&(this.observer.disconnect(),this.observer.observe(this.$el))}))},beforeDestroy(){this.observerCleanup()},methods:{observerCleanup(){this.observer&&(this.observer.disconnect(),this.observer=null)},observerCallback(e){for(const t of e)t.isIntersecting&&(this.observerCleanup(),this.calloutVisibleEvent())},calloutVisibleEvent(){ae({category:"Droplet callout",action:"Visible",nonInteraction:!0})},linkClickEvent(){ae({category:"Droplet callout",action:"Clicked"})}}},sg=(0,ge.Z)(ag,[["render",og]]),lg=sg,ig={class:"close"},ng=(0,$._)("i",{class:"fas fa-times"},null,-1),dg=[ng];function rg(e,t,o,s,l,i){return(0,$.wg)(),(0,$.iD)("div",{class:"callout floating",style:(0,w.j5)(i.style)},[(0,$._)("div",ig,[(0,$._)("p",null,(0,w.zw)(e.$t("templates.callouts.contribute.wantToContributeChanges")),1),(0,$._)("a",{onClick:t[0]||(t[0]=(0,a.iM)(((...e)=>i.close&&i.close(...e)),["prevent"]))},dg)]),(0,$._)("a",{href:"https://github.com/digitalocean/nginxconfig.io",class:"button is-primary",target:"_blank",onClick:t[1]||(t[1]=(...e)=>i.linkClickEvent&&i.linkClickEvent(...e))},(0,w.zw)(e.$t("templates.callouts.contribute.getInvolvedOnGitHub")),1)],4)}const pg={name:"ContributeCallout",data(){return{scrolled:!1,closed:!1}},computed:{visible(){return this.$data.scrolled&&!this.$data.closed},style(){return this.visible?void 0:{opacity:0,pointerEvents:"none"}}},mounted(){document.addEventListener("scroll",(()=>{this.$data.scrolled||window.scrollY<300||(this.$data.scrolled=!0,this.calloutVisibleEvent())}))},methods:{close(){this.$data.closed=!0,this.closedEvent()},closedEvent(){ae({category:"Contribute callout",action:"Closed"})},calloutVisibleEvent(){ae({category:"Contribute callout",action:"Visible",nonInteraction:!0})},linkClickEvent(){ae({category:"Contribute callout",action:"Clicked"})}}},cg=(0,ge.Z)(pg,[["render",rg]]),ug=cg,hg={class:"setup"},mg={class:"panel"},gg={class:"tabs"},fg=["onClick"],bg={class:"navigation-buttons"},vg=(0,$._)("i",{class:"fas fa-long-arrow-alt-left"},null,-1),yg=(0,$._)("i",{class:"fas fa-long-arrow-alt-right"},null,-1),_g={class:"buttons is-centered"};function $g(e,t,o,a,s,l){return(0,$.wg)(),(0,$.iD)("div",hg,[(0,$._)("div",mg,[(0,$._)("div",gg,[(0,$._)("ul",null,[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(s.tabs,(t=>((0,$.wg)(),(0,$.iD)("li",{class:(0,w.C_)(l.tabClass(t.key))},[(0,$._)("a",{onClick:e=>l.showTab(t.key)},(0,w.zw)(e.$t(t.display)),9,fg)],2)))),256))])]),((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(s.tabs,(t=>((0,$.wg)(),(0,$.j4)((0,$.LL)(t),{key:t.key,data:e.$props.data,style:(0,w.j5)({display:s.active===t.key?void 0:"none"}),class:"container"},null,8,["data","style"])))),128)),(0,$._)("div",bg,[!1!==l.previousTab?((0,$.wg)(),(0,$.iD)("a",{key:0,class:"button is-mini",onClick:t[0]||(t[0]=(...e)=>l.showPreviousTab&&l.showPreviousTab(...e))},[vg,(0,$.Uk)(),(0,$._)("span",null,(0,w.zw)(e.$t("common.back")),1)])):(0,$.kq)("",!0),!1!==l.nextTab?((0,$.wg)(),(0,$.iD)("a",{key:1,class:"button is-primary is-mini",onClick:t[1]||(t[1]=(...e)=>l.showNextTab&&l.showNextTab(...e))},[(0,$._)("span",null,(0,w.zw)(e.$t("common.next")),1),(0,$.Uk)(),yg])):(0,$.kq)("",!0)])]),(0,$._)("div",_g,[(0,$._)("a",{class:"button is-success",onClick:t[2]||(t[2]=(...e)=>l.downloadTar&&l.downloadTar(...e))},(0,w.zw)(e.$t("templates.setup.downloadConfig")),1),(0,$._)("a",{ref:"copyTar",class:"button is-primary"},(0,w.zw)(e.$t("templates.setup.copyBase64")),513)])])}var wg=o(1639);const xg=["innerHTML"],kg=(0,$._)("br",null,null,-1),Cg=["innerHTML"],Sg={class:"slim"},Pg=["innerHTML"],Dg=["innerHTML"],zg=(0,$._)("br",null,null,-1),Eg=["innerHTML"],Tg=(0,$._)("br",null,null,-1),Vg=["innerHTML"],Rg=(0,$._)("br",null,null,-1);function Og(e,t,o,a,s,l){const i=(0,$.up)("BashPrism");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("ol",null,[(0,$._)("li",null,[(0,$._)("p",null,[(0,$._)("span",{innerHTML:e.$t("templates.setupSections.download.downloadTheGeneratedConfig")},null,8,xg),(0,$._)("b",null,[(0,$.Uk)(" "),(0,$._)("a",{onClick:t[0]||(t[0]=(...t)=>e.$parent.downloadTar&&e.$parent.downloadTar(...t))},(0,w.zw)(e.$parent.tarName),1)]),kg,(0,$._)("span",{innerHTML:e.$t("templates.setupSections.download.andUploadItToYourServers")},null,8,Cg),(0,$._)("code",Sg,(0,w.zw)(e.$props.data.global.nginx.nginxConfigDirectory.computed),1),(0,$.Uk)(" "+(0,w.zw)(e.$t("templates.setupSections.download.directory")),1)]),(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.setupSections.download.or"))+" ",1),(0,$._)("b",null,[(0,$._)("a",{ref:"copyTar"},(0,w.zw)(e.$t("templates.setupSections.download.copyBase64StringOfCompressedConfig")),513)]),(0,$._)("span",{innerHTML:e.$t("templates.setupSections.download.pasteItInYourServersCommandLineAndExecute")},null,8,Pg)])]),(0,$._)("li",null,[(0,$._)("p",null,[(0,$._)("span",{innerHTML:e.$t("templates.setupSections.download.navigateToYourNginxConfigurationDirectoryOnYourServer")},null,8,Dg),zg,((0,$.wg)(),(0,$.j4)(i,{key:e.$props.data.global.nginx.nginxConfigDirectory.computed,cmd:`cd ${e.$props.data.global.nginx.nginxConfigDirectory.computed}`,onCopied:t[1]||(t[1]=e=>l.codeCopiedEvent("Navigate to nginx config directory"))},null,8,["cmd"]))])]),(0,$._)("li",null,[(0,$._)("p",null,[(0,$._)("span",{innerHTML:e.$t("templates.setupSections.download.createABackupOfYourCurrentNginxConfiguration")},null,8,Eg),Tg,(0,$.Wm)(i,{cmd:"tar -czvf nginx_$(date +'%F_%H-%M-%S').tar.gz nginx.conf sites-available/ sites-enabled/ nginxconfig.io/",onCopied:t[2]||(t[2]=e=>l.codeCopiedEvent("Create nginx config backup tar"))})])]),(0,$._)("li",null,[(0,$._)("p",null,[(0,$._)("span",{innerHTML:e.$t("templates.setupSections.download.extractTheNewCompressedConfigurationArchiveUsingTar")},null,8,Vg),Rg,((0,$.wg)(),(0,$.j4)(i,{key:e.$parent.tarName,cmd:`tar -xzvf ${e.$parent.tarName} | xargs chmod 0644`,onCopied:t[3]||(t[3]=e=>l.codeCopiedEvent("Extract new nginx config tar"))},null,8,["cmd"]))])])])])}const Ug={class:"language-bash"};function Hg(e,t,o,a,s,l){return(0,$.wg)(),(0,$.iD)("div",{onCopied:t[0]||(t[0]=(...e)=>l.copied&&l.copied(...e))},[(0,$._)("pre",null,[(0,$._)("code",Ug,(0,w.zw)(o.cmd),1)])],32)}const jg={name:"BashPrism",props:{cmd:String},mounted(){(0,n.um)(`Highlighting ${this.$props.cmd}...`),window.Prism.highlightAllUnder(this.$el)},methods:{copied(e){this.$emit("copied",e.detail.text)}}},Ag=(0,ge.Z)(jg,[["render",Hg]]),Lg=Ag,Fg={name:"SetupDownload",display:"templates.setupSections.download.download",key:"download",components:{BashPrism:Lg},props:{data:Object},mounted(){this.$parent.setupCopy(this.$refs.copyTar)},methods:{codeCopiedEvent(e){ae({category:"Setup",action:"Code snippet copied",label:`download: ${e}`})}}},Wg=(0,ge.Z)(Fg,[["render",Og]]),Ig=Wg,Mg={key:0},Bg={key:0},Ng=["innerHTML"],qg=(0,$._)("br",null,null,-1),Gg={key:1},Yg=["innerHTML"],Zg=(0,$._)("br",null,null,-1),Kg={key:1,class:"field is-horizontal"},Xg={class:"field-body"},Qg={class:"field"},Jg={class:"control"},ef={class:"text"};function tf(e,t,o,a,s,l){const i=(0,$.up)("BashPrism");return(0,$.wg)(),(0,$.iD)("div",null,[l.diffieHellmanValue||l.letsEncryptActive?((0,$.wg)(),(0,$.iD)("ol",Mg,[l.diffieHellmanValue?((0,$.wg)(),(0,$.iD)("li",Bg,[(0,$._)("p",null,[(0,$._)("span",{innerHTML:e.$t("templates.setupSections.ssl.generateDiffieHellmanKeysByRunningThisCommandOnYourServer")},null,8,Ng),qg,((0,$.wg)(),(0,$.j4)(i,{key:`${e.$props.data.global.nginx.nginxConfigDirectory.computed}-${l.diffieHellmanValue}`,cmd:`openssl dhparam -out ${e.$props.data.global.nginx.nginxConfigDirectory.computed}/dhparam.pem ${l.diffieHellmanValue}`,onCopied:t[0]||(t[0]=e=>l.codeCopiedEvent("Generate diffie-hellman keys"))},null,8,["cmd"]))])])):(0,$.kq)("",!0),l.letsEncryptActive?((0,$.wg)(),(0,$.iD)("li",Gg,[(0,$._)("p",null,[(0,$._)("span",{innerHTML:e.$t("templates.setupSections.ssl.createACommonAcmeChallengeDirectoryForLetsEncrypt")},null,8,Yg),Zg,((0,$.wg)(),(0,$.j4)(i,{key:l.letsEncryptDir,cmd:`mkdir -p ${l.letsEncryptDir}`,onCopied:t[1]||(t[1]=e=>l.codeCopiedEvent("Create let's encrypt directory"))},null,8,["cmd"])),((0,$.wg)(),(0,$.j4)(i,{key:`${l.nginxUser}-${l.letsEncryptDir}`,cmd:`chown ${l.nginxUser} ${l.letsEncryptDir}`,onCopied:t[2]||(t[2]=e=>l.codeCopiedEvent("Set let's encrypt directory ownership"))},null,8,["cmd"]))])])):(0,$.kq)("",!0)])):((0,$.wg)(),(0,$.iD)("div",Kg,[(0,$._)("div",Xg,[(0,$._)("div",Qg,[(0,$._)("div",Jg,[(0,$._)("label",ef,(0,w.zw)(e.$t("templates.setupSections.ssl.noAdditionalStepsAreNeededToSetUpSslForNginx")),1)])])])]))])}const of={name:"SetupSSL",display:"templates.setupSections.ssl.sslInit",key:"ssl",components:{BashPrism:Lg},props:{data:Object},computed:{letsEncryptDir(){return this.$props.data.global.https.letsEncryptRoot.computed.replace(/\/+$/,"")},nginxUser(){return this.$props.data.global.nginx.user.computed},diffieHellmanValue(){switch(this.$props.data.global.https.sslProfile.computed){case"intermediate":return 2048;case"old":return 1024;case"modern":default:return 0}},letsEncryptActive(){for(const e of this.$props.data.domains)if(e&&"letsEncrypt"===e.https.certType.computed)return!0;return!1}},methods:{codeCopiedEvent(e){ae({category:"Setup",action:"Code snippet copied",label:`ssl: ${e}`})}}},af=(0,ge.Z)(of,[["render",tf]]),sf=af,lf={key:0},nf=(0,$._)("br",null,null,-1),df=(0,$._)("br",null,null,-1),rf=(0,$._)("br",null,null,-1),pf=(0,$._)("br",null,null,-1),cf=(0,$._)("br",null,null,-1),uf=(0,$._)("br",null,null,-1),hf={key:1,class:"field is-horizontal"},mf={class:"field-body"},gf={class:"field"},ff={class:"control"},bf={class:"text"};function vf(e,t,o,a,s,l){const i=(0,$.up)("BashPrism");return(0,$.wg)(),(0,$.iD)("div",null,[l.letsEncryptActive?((0,$.wg)(),(0,$.iD)("ol",lf,[(0,$._)("li",null,[(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.setupSections.certbot.commentOutSslDirectivesInConfiguration"))+" ",1),nf]),((0,$.wg)(),(0,$.j4)(i,{key:l.sitesAvailable,cmd:`sed -i -r 's/(listen .*443)/\\1; #/g; s/(ssl_(certificate|certificate_key|trusted_certificate) )/#;#\\1/g; s/(server \\{)/\\1\\n    ssl off;/g' ${l.sitesAvailable}`,onCopied:t[0]||(t[0]=e=>l.codeCopiedEvent("Disable ssl directives"))},null,8,["cmd"]))]),(0,$._)("li",null,[(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.setupSections.certbot.reloadYourNginxServer"))+" ",1),df]),(0,$.Wm)(i,{cmd:"sudo nginx -t && sudo systemctl reload nginx",onCopied:t[1]||(t[1]=e=>l.codeCopiedEvent("Reload nginx"))})]),(0,$._)("li",null,[(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.setupSections.certbot.obtainSslCertificatesFromLetsEncrypt"))+" ",1),rf]),((0,$.wg)(),(0,$.j4)(i,{key:l.certbotCmds,cmd:l.certbotCmds,onCopied:t[2]||(t[2]=e=>l.codeCopiedEvent("Obtain certificates using certbot"))},null,8,["cmd"]))]),(0,$._)("li",null,[(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.setupSections.certbot.uncommentSslDirectivesInConfiguration"))+" ",1),pf]),((0,$.wg)(),(0,$.j4)(i,{key:l.sitesAvailable,cmd:`sed -i -r -z 's/#?; ?#//g; s/(server \\{)\\n    ssl off;/\\1/g' ${l.sitesAvailable}`,onCopied:t[3]||(t[3]=e=>l.codeCopiedEvent("Enable ssl directives"))},null,8,["cmd"]))]),(0,$._)("li",null,[(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.setupSections.certbot.reloadYourNginxServer"))+" ",1),cf]),(0,$.Wm)(i,{cmd:"sudo nginx -t && sudo systemctl reload nginx",onCopied:t[4]||(t[4]=e=>l.codeCopiedEvent("Reload nginx (2)"))})]),(0,$._)("li",null,[(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.setupSections.certbot.configureCertbotToReloadNginxOnCertificateRenewal"))+" ",1),uf]),(0,$.Wm)(i,{cmd:"echo -e '#!/bin/bash\\nnginx -t && systemctl reload nginx' | sudo tee /etc/letsencrypt/renewal-hooks/post/nginx-reload.sh",onCopied:t[5]||(t[5]=e=>l.codeCopiedEvent("Create nginx auto-restart on renewal"))}),(0,$.Wm)(i,{cmd:"sudo chmod a+x /etc/letsencrypt/renewal-hooks/post/nginx-reload.sh",onCopied:t[6]||(t[6]=e=>l.codeCopiedEvent("Enable execution of auto-restart"))})])])):((0,$.wg)(),(0,$.iD)("div",hf,[(0,$._)("div",mf,[(0,$._)("div",gf,[(0,$._)("div",ff,[(0,$._)("label",bf,(0,w.zw)(e.$t("templates.setupSections.certbot.certbotDoesNotNeedToBeSetupForYourConfiguration")),1)])])])]))])}const yf={name:"SetupCertbot",display:"templates.setupSections.certbot.certbot",key:"certbot",components:{BashPrism:Lg},props:{data:Object},computed:{letsEncryptDir(){return this.$props.data.global.https.letsEncryptRoot.computed.replace(/\/+$/,"")},letsEncryptActive(){for(const e of this.$props.data.domains)if(e&&"letsEncrypt"===e.https.certType.computed)return!0;return!1},sitesAvailable(){if(!this.$props.data.global.tools.modularizedStructure.computed)return`${this.$props.data.global.nginx.nginxConfigDirectory.computed}/nginx.conf`;const e=this.$props.data.global.tools.symlinkVhost.computed?"available":"enabled";return this.$props.data.domains.filter((e=>"letsEncrypt"===e.https.certType.computed)).map((t=>`${this.$props.data.global.nginx.nginxConfigDirectory.computed}/sites-${e}/${t.server.domain.computed}.conf`)).join(" ")},certbotCmds(){return this.$props.data.domains.filter((e=>"letsEncrypt"===e.https.certType.computed)).map((e=>["certbot certonly --webroot",`-d ${e.server.domain.computed}`,e.server.wwwSubdomain.computed?`-d www.${e.server.domain.computed}`:null,e.server.cdnSubdomain.computed?`-d cdn.${e.server.domain.computed}`:null,`--email ${e.https.letsEncryptEmail.computed}`,`-w ${this.letsEncryptDir}`,"-n --agree-tos --force-renewal"].filter((e=>null!==e)).join(" "))).join("\n")}},methods:{codeCopiedEvent(e){ae({category:"Setup",action:"Code snippet copied",label:`certbot: ${e}`})}}},_f=(0,ge.Z)(yf,[["render",vf]]),$f=_f,wf=(0,$._)("br",null,null,-1);function xf(e,t,o,a,s,l){const i=(0,$.up)("BashPrism");return(0,$.wg)(),(0,$.iD)("div",null,[(0,$._)("p",null,[(0,$._)("b",null,(0,w.zw)(e.$t("templates.setupSections.goLive.letsGoLive")),1),(0,$.Uk)(" 🎉 ")]),(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.setupSections.goLive.reloadNginxToLoadInYourNewConfiguration"))+" ",1),wf,(0,$.Wm)(i,{cmd:"sudo nginx -t && sudo systemctl reload nginx",onCopied:t[0]||(t[0]=e=>l.codeCopiedEvent("Reload nginx"))})])])}const kf={name:"SetupGoLive",display:"templates.setupSections.goLive.goLive",key:"goLive",components:{BashPrism:Lg},props:{data:Object},methods:{codeCopiedEvent(e){ae({category:"Setup",action:"Code snippet copied",label:`goLive: ${e}`})}}},Cf=(0,ge.Z)(kf,[["render",xf]]),Sf=Cf,Pf=[Ig,sf,$f,Sf],Df={name:"Setup",props:{data:Object},data(){return{active:Pf[0].key,tabs:Pf}},computed:{nextTab(){const e=this.$data.tabs.map((e=>e.key)),t=e.indexOf(this.$data.active)+1;return t<e.length&&e[t]},previousTab(){const e=this.$data.tabs.map((e=>e.key)),t=e.indexOf(this.$data.active)-1;return t>=0&&e[t]},domainCount(){return this.$props.data.domains.filter((e=>null!==e)).length},tarName(){const e=this.$props.data.domains.filter((e=>null!==e)).map((e=>e.server.domain.computed));return`nginxconfig.io-${e.join(",")}.tar.gz`}},mounted(){this.setupCopy(this.$refs.copyTar)},methods:{tabClass(e){if(e===this.$data.active)return"is-active";const t=this.$data.tabs.map((e=>e.key));return t.indexOf(e)<t.indexOf(this.$data.active)?"is-before":void 0},tarContents(){const e={};for(const t in this.$props.data.confFiles)Object.prototype.hasOwnProperty.call(this.$props.data.confFiles,t)&&(e[t]={contents:this.$props.data.confFiles[t]},this.$props.data.global.tools.symlinkVhost.computed&&t.startsWith("sites-available")&&(e[t.replace(/^sites-available/,"sites-enabled")]={target:`../${t}`}));return new wg.Z(e).gz()},downloadTar(){ae({category:"Setup",action:"Downloaded tar file",label:this.tarName,value:this.domainCount}),this.tarContents().download(this.tarName)},copyTar(){ae({category:"Setup",action:"Copied base64 tar",label:this.tarName,value:this.domainCount});const e=`${this.$props.data.global.nginx.nginxConfigDirectory.computed}/${this.tarName}`;return this.tarContents().base64(e)},setupCopy(e){const t=t=>{setTimeout((()=>{e.textContent=t}),5e3)},o=new(l())(e,{text:this.copyTar});o.on("success",(o=>{const a=e.textContent;e.textContent=this.$t("templates.app.copied"),o.clearSelection(),t(a)})),o.on("error",(()=>{const o=e.textContent;e.textContent="Press Ctrl + C to copy",t(o)}))},showTab(e){ae({category:"Setup",action:"Tab clicked",label:`${this.$data.active}, ${e}`}),this.$data.active=e},showPreviousTab(){ae({category:"Setup",action:"Back clicked",label:`${this.$data.active}, ${this.previousTab}`}),this.$data.active=this.previousTab},showNextTab(){ae({category:"Setup",action:"Next clicked",label:`${this.$data.active}, ${this.nextTab}`}),this.$data.active=this.nextTab}}},zf=(0,ge.Z)(Df,[["render",$g]]),Ef=zf,Tf={class:"footer"},Vf={class:"container"},Rf={href:"#top",class:"button is-primary is-small"};function Of(e,t,o,a,s,l){const i=(0,$.up)("ExternalLink");return(0,$.wg)(),(0,$.iD)("div",Tf,[(0,$._)("div",Vf,[(0,$._)("p",null,[(0,$._)("a",Rf,(0,w.zw)(e.$t("templates.footer.backToTop")),1)]),(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.footer.thisToolIs"))+" ",1),(0,$.Wm)(i,{text:e.$t("templates.footer.openSourceOnGitHub"),link:"https://github.com/digitalocean/nginxconfig.io"},null,8,["text"]),(0,$.Uk)(" "+(0,w.zw)(e.$t("templates.footer.underThe"))+" ",1),(0,$.Wm)(i,{text:e.$t("templates.footer.mit"),link:"https://github.com/digitalocean/nginxconfig.io/blob/master/LICENSE"},null,8,["text"]),(0,$.Uk)(" "+(0,w.zw)(e.$t("templates.footer.license"))+" "+(0,w.zw)(e.$t("templates.footer.weWelcomeFeedbackAndContributions")),1)]),(0,$._)("p",null,[(0,$.Uk)((0,w.zw)(e.$t("templates.footer.originallyCreatedBy"))+" ",1),(0,$.Wm)(i,{text:e.$t("templates.footer.balintSzekeres"),link:"https://b4lint.hu/"},null,8,["text"]),(0,$.Uk)(", "+(0,w.zw)(e.$t("templates.footer.maintainedBy"))+" ",1),(0,$.Wm)(i,{text:e.$t("templates.footer.digitalOcean"),link:"https://github.com/digitalocean/nginxconfig.io"},null,8,["text"]),(0,$.Uk)(". ")])])])}const Uf={name:"Footer",components:{ExternalLink:Co.Z}},Hf=(0,ge.Z)(Uf,[["render",Of]]),jf=Hf,Af=["innerHTML"],Lf=["innerHTML"];function Ff(e,t,o,a,s,l){return(0,$.wg)(),(0,$.iD)("div",{class:(0,w.C_)(`column ${o.half?"is-half":"is-full"} is-full-mobile is-full-tablet`),onCopied:t[0]||(t[0]=(...e)=>l.copied&&l.copied(...e))},[(0,$._)("h3",{innerHTML:o.name},null,8,Af),(0,$._)("pre",null,[(0,$._)("code",{class:"language-nginx",innerHTML:o.conf},null,8,Lf)])],34)}const Wf={name:"NginxPrism",props:{name:String,conf:String,half:Boolean},mounted(){(0,n.um)(`Highlighting ${this.$props.name}...`),window.Prism.highlightAllUnder(this.$el)},methods:{copied(e){this.$emit("copied",e.detail.text)}}},If=(0,ge.Z)(Wf,[["render",Ff]]),Mf=If,Bf={name:"App",components:{Header:B.Z,VueSelect:M.Z,Footer:jf,Domain:$n,Global:eg,DropletCallout:lg,ContributeCallout:ug,Setup:Ef,NginxPrism:Mf,YamlPrism:(0,$.RC)((()=>o.e(932).then(o.bind(o,6932)))),DockerPrism:(0,$.RC)((()=>o.e(184).then(o.bind(o,3184))))},data(){return{domains:[],global:{...eg.delegated,app:{lang:{default:c,value:c,computed:c,enabled:!0}}},active:0,ready:!1,splitColumn:!1,confWatcherWaiting:!1,confFilesPrevious:{},confFilesOutput:[],languageLoading:!1,languagePrevious:c,interactiveEvents:!1}},computed:{activeDomains(){return this.$data.domains.map(((e,t)=>[e,t])).filter((e=>null!==e[0]))},confFiles(){return fd(this.$data.domains.filter((e=>null!==e)),this.$data.global)},confFilesWithDirectory(){return Object.entries(this.confFiles).reduce(((e,[t,o])=>({...e,[`${this.$data.global.nginx.nginxConfigDirectory.computed}/${t}`]:o})),{})},lang:{get(){return this.$data.global.app.lang.value},set(e){this.$data.global.app.lang.value=e,this.$data.global.app.lang.computed=e}},i18nPacks(){return m.map((e=>({label:this.$t(`languages.${e}`)+(e===this.$i18n.locale?"":` - ${this.$t(`languages.${e}`,e)}`),value:e})))}},watch:{confFilesWithDirectory(e,t){this.$data.confWatcherWaiting||(this.$data.confWatcherWaiting=!0,this.$data.confFilesPrevious=t,this.$nextTick((()=>this.checkChange(e))))},"$data.global.app.lang":{handler(e){this.$data.languageLoading=!0;const t=this.$data.interactiveEvents;m.includes(e.value)||(e.computed=e.default),_(e.computed).then((()=>{(0,n.um)("Language set to",e.computed),this.$data.languagePrevious=e.computed,this.$data.languageLoading=!1,this.languageSetEvent(!t)})).catch((t=>{(0,n.vU)(`Failed to set language to ${e.computed}`,t),e.value=this.$data.languagePrevious,e.computed=this.$data.languagePrevious,this.$data.languageLoading=!1}))},deep:!0}},async mounted(){const e=window.location.search||window.location.hash.slice(1),t=await En(e,this.$data.domains,this.$data.global,this.$nextTick);if(!t||!t.global||!t.global.app||!t.global.app.lang){const e=Tn(m);e&&(this.lang=e)}this.splitColumnEvent(!0);for(let o=0;o<this.activeDomains.length;o++)this.addSiteEvent(o+1,!0);this.$data.interactiveEvents=!0},methods:{changes(e){const t=this.$data.domains[e],o=Object.entries(t).reduce(((e,t)=>"presets"===t[0]?e:wn(t[1])?(e+=Object.keys(t[1]).filter((e=>q(t[1][e],t[0],e))).length,e):e),0);return o?` (${o.toLocaleString()})`:""},warnings(e){return Object.prototype.hasOwnProperty.call(this.$refs,`domain-${e}`)&&this.$refs[`domain-${e}`][0].hasWarnings||!1},add(){const e=A()($n.delegated);let t=1;while(this.$data.domains.some((t=>t&&t.server.domain.computed===e.server.domain.computed)))t++,e.server.domain.computed=e.server.domain.default.replace(".com",`${t}.com`);e.server.domain.value=e.server.domain.computed,this.$data.domains.push(e),this.$data.active=this.$data.domains.length-1,this.addSiteEvent(this.activeDomains.length)},remove(e){const t=this.$data.domains[e].server.domain.computed;this.$data.domains[e]=null,this.$data.active===e&&(this.$data.active=this.$data.domains.findIndex((e=>null!==e))),this.removeSiteEvent(this.activeDomains.length,t)},checkChange(e){if(e===this.confFilesWithDirectory)return this.$data.ready||(this.$data.confFilesPrevious=this.confFilesWithDirectory,this.$nextTick((()=>{this.$data.ready=!0}))),void this.updateDiff(this.confFilesWithDirectory,this.$data.confFilesPrevious);this.$nextTick((()=>this.checkChange(this.confFilesWithDirectory)))},updateDiff(e,t){try{const o=(0,N.Z)(e,t,{highlightFunction:e=>`<mark>${e}</mark>`});this.$data.confFilesOutput=Object.entries(o).map((([e,{name:t,content:o}])=>{const a=t.filter((e=>!e.removed)).map((e=>e.value)).join(""),s=o.filter((e=>!e.removed)).map((e=>e.value)).join("");return[a,s,`${F()(a)}-${F()(s)}`,e]}))}catch(o){(0,n.vU)("Failed to compute and highlight diff",o),this.$data.confFilesOutput=Object.entries(e).map((([e,t])=>{const o=I()(e),a=I()(t);return[o,a,`${F()(o)}-${F()(a)}`,e]}))}this.$nextTick((()=>this.$data.confWatcherWaiting=!1))},splitColumnToggle(){this.$data.splitColumn=!this.$data.splitColumn,this.splitColumnEvent()},splitColumnEvent(e=!1){ae({category:"Split column",action:this.$data.splitColumn?"Enabled":"Disabled",nonInteraction:e})},languageSetEvent(e=!1){ae({category:"Language",action:"Set",label:this.$data.global.app.lang.computed,nonInteraction:e})},addSiteEvent(e,t=!1){ae({category:"Site",action:"Added",value:e,nonInteraction:t})},removeSiteEvent(e,t){ae({category:"Site",action:"Removed",label:t,value:e})},codeCopiedEvent(e){ae({category:"Config files",action:"Code snippet copied",label:e})},getPrismComponent(e){switch(e){case"/etc/nginx/Dockerfile":return"DockerPrism";case"/etc/nginx/docker-compose.yaml":return"YamlPrism";default:return"NginxPrism"}}}},Nf=(0,ge.Z)(Bf,[["render",H]]),qf=Nf;v().then((e=>{const t=(0,a.ri)(qf);t.use(e),t.mount("#app")}))},3098:(e,t,o)=>{"use strict";o.d(t,{ZK:()=>s,um:()=>a,vU:()=>l});const a=()=>{},s=console.warn.bind(console),l=console.error.bind(console)}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,o),l.exports}o.m=e,(()=>{o.amdO={}})(),(()=>{var e=[];o.O=(t,a,s,l)=>{if(!a){var i=1/0;for(p=0;p<e.length;p++){for(var[a,s,l]=e[p],n=!0,d=0;d<a.length;d++)(!1&l||i>=l)&&Object.keys(o.O).every((e=>o.O[e](a[d])))?a.splice(d--,1):(n=!1,l<i&&(i=l));if(n){e.splice(p--,1);var r=s();void 0!==r&&(t=r)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[a,s,l]}})(),(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[]))})(),(()=>{o.u=e=>"js/"+e+".js"})(),(()=>{o.miniCssF=e=>"css/app.css"})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="nginxconfig.io:";o.l=(a,s,l,i)=>{if(e[a])e[a].push(s);else{var n,d;if(void 0!==l)for(var r=document.getElementsByTagName("script"),p=0;p<r.length;p++){var c=r[p];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==t+l){n=c;break}}n||(d=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",t+l),n.src=a),e[a]=[s];var u=(t,o)=>{n.onerror=n.onload=null,clearTimeout(h);var s=e[a];if(delete e[a],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((e=>e(o))),t)return t(o)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),d&&document.head.appendChild(n)}}})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p=""})(),"undefined"!==typeof o&&Object.defineProperty(o,"p",{get:function(){try{if("function"!==typeof __webpackDynamicImportURL)throw new Error("WebpackRequireFrom: '__webpackDynamicImportURL' is not a function or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return __webpackDynamicImportURL()}catch(e){return""}},set:function(e){console.warn("WebpackRequireFrom: something is trying to override webpack public path. Ignoring the new value"+e+".")}}),(()=>{var e={143:0};o.f.j=(t,a)=>{var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var l=new Promise(((o,a)=>s=e[t]=[o,a]));a.push(s[2]=l);var i=o.p+o.u(t),n=new Error,d=a=>{if(o.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var l=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;n.message="Loading chunk "+t+" failed.\n("+l+": "+i+")",n.name="ChunkLoadError",n.type=l,n.request=i,s[1](n)}};o.l(i,d,"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var s,l,[i,n,d]=a,r=0;if(i.some((t=>0!==e[t]))){for(s in n)o.o(n,s)&&(o.m[s]=n[s]);if(d)var p=d(o)}for(t&&t(a);r<i.length;r++)l=i[r],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(p)},a=self["webpackChunknginxconfig_io"]=self["webpackChunknginxconfig_io"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),o.O(void 0,[998],(()=>o(8847)));var a=o.O(void 0,[998],(()=>o(278)));a=o.O(a)})();